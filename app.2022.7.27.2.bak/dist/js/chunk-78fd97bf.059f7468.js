(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78fd97bf"],{"3b17":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"check-api a-5-bg"},[t("p",{staticClass:"check-api-header b-1-cl a-3-bd"},[e._v(e._s(e.$t("personal.checkApi.title")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:1===e.divShow,expression:"divShow === 1"}],staticClass:"center-inputs"},[t("c-inputLine",{directives:[{name:"show",rawName:"v-show",value:e.smsCode,expression:"smsCode"}],attrs:{maxLength:"6",name:"phoneCode",inputType:"text",promptText:e.promptText1,errorHave:!0,errorText:e.errorText1,errorFlag:e.checkErrorFlag1,marginTop:"0px",value:e.checkValue1},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"phone",autoStart:!1,voiceOpen:e.voiceSmsOpen,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1),t("c-inputLine",{directives:[{name:"show",rawName:"v-show",value:e.googleCode,expression:"googleCode"}],attrs:{maxLength:"6",name:"googleCode",inputType:"text",promptText:e.promptText2,errorHave:!0,errorText:e.errorText2,errorFlag:e.checkErrorFlag2,marginTop:"0px",value:e.checkValue2},on:{onchanges:e.inputChanges}}),t("c-button",{attrs:{type:"solid",loading:e.loading,big:!0,className:"",paddingW:"0px",disabled:e.disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:e.btnLink}},[e._v(e._s(e.$t("personal.tool.confirm")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:2===e.divShow,expression:"divShow === 2"}],staticClass:"center-code"},[t("img",{attrs:{src:e.qrCode}}),t("div",{staticClass:"a-4-bg"},[t("p",{staticClass:"b-2-cl"},[e._v("SecretKey")]),t("p",{staticClass:"b-1-cl"},[e._v(e._s(e.secretKey)+"\n          "),t("span",{on:{click:function(t){return e.copyClick("secretKey")},mouseenter:e.handMouseenter,mouseleave:e.handMouseleave}},[e.svgShow?t("span",[t("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-a_9"}})])]):t("span",[t("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-a_9_1"}})])])])])])])])},i=[],r=(s("c5f6"),{name:"checkApi",watch:{sendSmsCode:function(e){null!==e&&("success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),this.smsType="1"===e.type?"voiceSms":"sms"):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),this.$bus.$emit("getCode-clear","phone")))},openApiOne:function(e){null!==e&&(this.loading=!1,"success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),this.secretKey=e.data.secretKey,this.qrCode=e.data.qrCode,this.divShow=2):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),"10009"!==e.code&&this.$bus.$emit("getCode-clear","phone")))}},computed:{sendSmsCode:function(){return this.$store.state.personal.sendSmsCode},openApiOne:function(){return this.$store.state.personal.openApiOne},promptText1:function(){return this.$t("personal.label.smsCodeText")},errorText1:function(){return this.$t("personal.prompt.errorCode")},promptText2:function(){return this.$t("personal.label.googleCodeText")},errorText2:function(){return this.$t("personal.prompt.errorCode")},voiceSmsOpen:function(){return this.$store.state.baseData.voiceSmsOpen}},data:function(){return{svgShow:!0,loading:!1,divShow:1,checkErrorFlag1:!1,checkValue1:"",checkErrorFlag2:!1,checkValue2:"",disabled:!0,googleCode:!1,smsCode:!1,secretKey:"",qrCode:"",smsType:"sms"}},methods:{init:function(){var e=this.$store.state.baseData.userInfo;null!==e&&(this.googleCode=!!Number(e.googleStatus),this.smsCode=!!Number(e.isOpenMobileCheck))},handMouseenter:function(){this.svgShow=!1},handMouseleave:function(){this.svgShow=!0},codeFlag:function(e){return this.$store.state.regExp.verification.test(e)},getCodeClick:function(e,t){this.$bus.$emit("getCode-start","phone");var s={operationType:16,smsType:t&&"voiceSms"===t?"1":"0"};this.$store.dispatch("sendSmsCode",s)},inputChanges:function(e,t){switch(t){case"phoneCode":this.checkValue1=e,this.codeFlag(e)?this.checkErrorFlag1=!1:this.checkErrorFlag1=!0;break;default:this.checkValue2=e,this.codeFlag(e)?this.checkErrorFlag2=!1:this.checkErrorFlag2=!0}this.checkErrorFlag1||this.checkErrorFlag2?this.disabled=!0:(this.smsCode&&(this.disabled=!this.checkValue1),this.googleCode&&(this.disabled=!this.checkValue2))},btnLink:function(){this.loading=!0;var e=this.$store.state.personal.apiToken,t={smsValidCode:"sms"===this.smsType&&this.checkValue1?this.checkValue1:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.checkValue1?this.checkValue1:void 0,googleCode:this.checkValue2,token:e};this.$store.dispatch("openApiOne",t)},copyClick:function(e){"secretKey"===e&&this.copy(this.secretKey)},copy:function(e){function t(t){t.clipboardData.setData("text/plain",e),t.preventDefault()}this.$bus.$emit("tip",{text:this.$t("personal.prompt.copySucces"),type:"success"}),document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t)}}}),n=(s("ab6a"),{mixins:[r],mounted:function(){this.init()}}),a=n,c=s("2877"),h=Object(c["a"])(a,o,i,!1,null,null,null);t["default"]=h.exports},ab6a:function(e,t,s){}}]);