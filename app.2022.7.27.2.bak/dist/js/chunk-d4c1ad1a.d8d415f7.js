(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4c1ad1a"],{"024b":function(t,e,s){},"09d6":function(t,e,s){},"26ae":function(t,e,s){},3766:function(t,e,s){},5720:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return t.templateLayoutType&&"2"===t.templateLayoutType?e("div",{staticClass:"Int-contract-content a-8-bg",class:{"trade-shrinks":t.shrink},on:{dblclick:t.ondblclick,click:t.onclickfun}},[e("div",{ref:"leftBox",staticClass:"left-block"},[e("div",{staticClass:"transaction a-6-bg"},[e("trade-form")],1)]),e("div",{staticClass:"top-market"},[e("Market")],1),e("div",{staticClass:"main-block"},[e("div",{staticClass:"center-block"},[e("current-symbol"),e("div",{staticClass:"chart-box a-6-bg"},[e("trading-view",{attrs:{moduleType:"co"}})],1)],1)]),e("div",{staticClass:"right-block"},[e("Depth")],1),e("div",{staticClass:"order-list"},[e("orderList")],1),t.baseInfo?t._e():e("i")]):e("div",{staticClass:"contract-content a-8-bg",class:{"trade-shrinks":t.shrink},on:{dblclick:t.ondblclick,click:t.onclickfun}},[e("div",[e("div",{ref:"leftBox",staticClass:"left-block"},[e("div",{staticClass:"transaction a-6-bg"},[e("trade-form")],1)]),e("div",{staticClass:"top-market"},[e("Market")],1),e("div",{staticClass:"main-block"},[e("div",{staticClass:"center-block"},[e("current-symbol"),e("div",{staticClass:"chart-box a-6-bg"},[e("trading-view",{attrs:{moduleType:"co"}})],1)],1)]),e("div",{staticClass:"right-block"},[e("Depth")],1),t.isLogin?e("div",{staticClass:"order-list"},[e("orderList")],1):t._e()]),t.baseInfo?t._e():e("i")])},a=[],n=(s("3766"),s("8e6e"),s("28a5"),s("a481"),s("ac6a"),s("456d"),s("bd86")),r=s("2f62"),c=s("95d5"),o=s("89f1");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"trade",data:function(){return{shrink:!1,marketShrink:!1,screenWidth:null,windowOnResizeFire:!0,mediaWidth:1820,coPublicInfo:null,marketData:null,MywebSocket:null,marketCurrent:null,symbolCurrent:null,depthClasses:"0",depthValue:0,coverKlineBox:null,isFull:null,routeSymbol:this.$route.params.symbol}},computed:u(u({},Object(r["b"])({baseInfo:function(t){var e=t.baseData;return e.coPublicInfo?(this.coPublicInfo=e.coPublicInfo,this.marketData=this.coPublicInfo.market,this.marketCurrent=c["u"].get("coMarkTitle"),this.symbolCurrent=c["u"].get("coNowSymbol"),e.coPublicInfo):null}})),{},{templateLayoutType:function(){return this.$store.state.baseData.templateLayoutType},worker:function(){return Object(o["a"])()},isLogin:function(){return this.$store.state.baseData.isLogin},rateData:function(){return this.$store.state.baseData.rate},symbolAll:function(){var t=this;if(this.marketData){var e=[],s={},i=Object.keys(this.marketData);return i.forEach((function(s){e=e.concat(t.marketData[s])})),e.forEach((function(t){s[t.symbol]=t,s[t.symbol].name=t.symbol,s.tradeType="contract"})),this.$bus.$emit("SYMBOL_LIST_ALL",s),s}return null},symbolCurrentInfo:function(){return this.symbolAll&&this.symbolCurrent?this.symbolAll[this.symbolCurrent]:null}}),watch:{coPublicInfo:function(t){t.wsUrl&&this.worker.postMessage({type:"CREAT_WEBSOCKET",data:{wsUrl:t.wsUrl,lan:this.$store.state.baseData.lan,rate:this.rateData,symbolAll:this.symbolAll}})},symbolCurrent:function(t,e){if(t){var s=t.replace("/","_");this.$router.push("/trade/".concat(s)),this.$bus.$emit("SYMBOL_CURRENT",t)}e&&this.MywebSocket&&(this.webSocketSend("Trade","unsub",e),this.webSocketSend("Depth","unsub",e,"0"),this.webSocketSend("Trade","req",t),this.webSocketSend("Trade","sub",t),this.webSocketSend("Depth","sub",t,"0"))},MywebSocket:function(t){t&&(this.webSocketSend("Market","sub",this.symbolCurrent,this.symbolAll),this.webSocketSend("Trade","req",this.symbolCurrent),this.webSocketSend("Trade","sub",this.symbolCurrent),this.webSocketSend("Depth","sub",this.symbolCurrent,0))},symbolCurrentInfo:function(t){this.$bus.$emit("SYMBOL_CURRENT_INFO",t)}},methods:{init:function(){var t=this;if(this.routeSymbol)c["u"].set("coMarkTitle",this.routeSymbol.split("_")[1]),c["u"].set("coNowSymbol",this.routeSymbol);else{var e=c["u"].get("sSymbolName"),s=e;this.$router.push("/trade/".concat(s))}this.listenBusEvent(),this.worker.onmessage=function(e){var s=e.data;"WEBSOCKET_ON_OPEN"===s.type&&(t.MywebSocket=s.data.type,t.$bus.$emit("WEBSOCKET_ON_OPEN",t.MywebSocket)),"WEBSOCKET_DATA"===s.type&&t.listenWSData(s.data)},this.screenWidth=document.body.clientWidth,this.screenWidth<=this.mediaWidth&&(this.shrink=!0,this.marketShrink=!1),this.$bus.$on("WINFOW_ON_RESIIZE",(function(){t.windowOnResizeFire&&(t.screenWidth=document.body.clientWidth,t.screenWidth<=t.mediaWidth?(t.shrink=!0,t.marketShrink=!1):(t.shrink=!1,t.marketShrink=!1),t.windowOnResizeFire=!1,setTimeout((function(){t.windowOnResizeFire=!0})))}))},listenBusEvent:function(){var t=this;this.$bus.$on("ON_MARKET_SWITCH",(function(e){t.marketCurrent=e,c["u"].set("coMarkTitle",e)})),this.$bus.$on("ON_MARKET_SWITCH_ORDER",(function(e){t.marketCurrent=e,c["u"].set("coMarkTitle",e)})),this.$bus.$on("ON_SYMBOL_SWITCH",(function(e){c["u"].set("coNowSymbol",e),t.symbolCurrent=e})),this.$bus.$on("DEPTH_CLASSES",(function(e){t.depthClasses=e})),this.$bus.$on("DEPTH_VALUE",(function(e){t.depthValue=e})),this.$bus.$on("WEBSOCKET_KLINE_SEND",(function(e){t.worker.postMessage({type:"WEBSOCKET_KLINE_SEND",data:e})}))},listenWSData:function(t){var e=t.type,s=t.WsData;this.$bus.$emit(e,s),"TRADE_DATA"===e&&this.worker.postMessage({type:"TRADE_QUEUE_DATA",data:s.queueDataList})},webSocketSend:function(t,e,s,i){this.worker.postMessage({type:"WEBSOCKET_SEND",data:{type:t,sendType:e,symbolData:s,symbolList:i,depthValue:this.symbolCurrentInfo.pricePrecision}})},ondblclick:function(){return!1},onclickfun:function(t){"coverKlineBox"===t.target.className&&(this.coverKlineBox=t.target),"coverKlineBox"===t.target.className?this.coverKlineBox.style.display="none":this.coverKlineBox&&(this.coverKlineBox.style.display="block",this.coverKlineBox=null)}}},d=(s("7f7f"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"co-market-box"},[e("div",{staticClass:"main-market-container",staticStyle:{height:"72px"}},[e("vue-scroll",[e("div",{staticClass:"main-market a-6-bg",style:t.marketListWidth},t._l(t.marketList,(function(s,i){return e("div",{key:i,staticClass:"market-item a-8-bd",class:{"a-21-bg":t.marketCurrent===s.name},on:{click:function(e){return t.switchMarket(s.name)}}},[t.marketCurrent!==s.name?[e("div",{staticClass:"symbol-scope"},[e("span",{staticClass:"name b-1-cl"},[t._v(t._s(s.name))]),s.WsData?e("span",{staticClass:"scope",class:s.WsData.rose.class},[t._v("\n                "+t._s(s.WsData.roses)+"\n              ")]):t._e()]),s.WsData?e("p",{staticClass:"price"},[t._v(t._s(s.WsData.closes))]):t._e()]:[e("div",{staticClass:"symbol-scope"},[e("span",{staticClass:"name b-1-cl"},[t._v(t._s(s.name))]),t.currentSymbolData.WsData?e("span",{staticClass:"scope",class:t.currentSymbolData.WsData.rose.class},[t._v("\n                "+t._s(t.currentSymbolData.WsData.roses)+"\n              ")]):t._e()]),t.currentSymbolData.WsData?e("p",{staticClass:"price"},[t._v("\n              "+t._s(t.currentSymbolData.WsData.closes)+"\n            ")]):t._e()]],2)})),0)])],1),t.currentSymbolList?e("div",{staticClass:"sub-market a-21-bg"},[t._l(t.currentSymbolList,(function(s,i){return e("span",{key:i,staticClass:"sub-tab",class:{"b-1-cl current":s.symbol===t.symbolCurrent},on:{click:function(e){return t.switchSymbol(s.symbol)}}},[t._v("\n      "+t._s(s.typeName)+"\n      "+t._s(s.WsData.closes)+"\n      "),e("b",{staticClass:"current-botton a-12-bg"})])})),t.datedifference?e("span",{staticClass:"difference"},[t._v("\n      "+t._s(t.$t("contract.deliveryTime"))+"\n      "),e("i",{staticClass:"b-1-cl"},[t._v(t._s(t.datedifference)+t._s(t.$t("contract.day")))])]):t._e()],2):t._e(),t.baseInfo?t._e():e("i")])}),b=[],m=(s("55dd"),s("01c8"));function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={name:"market",components:{},data:function(){return{marketData:null,marketCurrent:null,symbolCurrent:null,marketDataList:{}}},computed:f(f({},Object(r["b"])({baseInfo:function(t){var e=t.baseData;return e.coPublicInfo?(this.marketData=e.coPublicInfo.market,this.symbolCurrent=c["u"].get("coNowSymbol"),this.marketCurrent=c["u"].get("coMarkTitle"),e.coPublicInfo):null}})),{},{marketListWidth:function(){return"width:".concat(166*this.marketList.length,"px;")},marketList:function(){var t=this;if(this.marketData){var e=Object.keys(this.marketData),s=[];return e.forEach((function(e){var i=Object(m["a"])(t.marketData[e]),a=i.slice(0);a=a.sort((function(t,e){return t.contractType-e.contractType}));var n=a[0].symbol;s.push({name:e,WsData:t.marketDataList[n]?t.marketDataList[n]:{closes:"--",roses:"--",rose:{class:"--"}}})})),s}return[]},currentSymbolList:function(){var t=this;if(this.marketData&&this.symbolCurrent){if(this.marketDataList){var e=this.marketData[this.marketCurrent],s=[];return e.length&&e.forEach((function(e){var i=Object.assign({},e);i.WsData=t.marketDataList[e.symbol]?t.marketDataList[e.symbol]:{closes:"--",roses:"--",rose:{class:"--"}},i.typeName=t.setTypeName(e),s.push(i)})),s.sort((function(t,e){return t.sort-e.sort}))}return this.marketData[this.marketCurrent]}return[]},currentSymbolData:function(){var t=this,e={};return this.currentSymbolList.length&&this.currentSymbolList.forEach((function(s){s.symbol===t.symbolCurrent&&(e=s)})),e},datedifference:function(){return this.currentSymbolData&&this.currentSymbolData.contractType>0?Object(c["d"])(this.currentSymbolData.settleTime):""}}),watch:{},methods:{init:function(){var t=this;this.$bus.$on("ON_MARKET_SWITCH",(function(e){e&&(t.marketCurrent=e)})),this.$bus.$on("ON_MARKET_SWITCH_ORDER",(function(e){e&&(t.marketCurrent=e)})),this.$bus.$on("ON_SYMBOL_SWITCH",(function(e){e&&(t.symbolCurrent=e)})),this.$bus.$on("MARKET_DATA",(function(e){t.marketDataList=e}))},setTypeName:function(t){var e=this.setSymbolName(t.contractType),s=t.settleTime.split(" ")[0].split("-"),i=0===t.contractType?"":" · ".concat(s[1]).concat(s[2]),a=t.maxLeverageLevel;return"".concat(e).concat(i," (").concat(a,"X)")},setSymbolName:function(t){switch(t){case 0:return this.$t("contract.contractType1");case 1:return this.$t("contract.contractType2");case 2:return this.$t("contract.contractType3");case 3:return this.$t("contract.contractType4");default:return this.$t("contract.contractType5")}},switchMarket:function(t){this.marketCurrent!==t&&(this.marketCurrent=t,this.switchSymbol(this.currentSymbolList[0].symbol),this.$bus.$emit("ON_MARKET_SWITCH",t))},switchSymbol:function(t){this.symbolCurrent!==t&&(this.symbolCurrent=t,this.$bus.$emit("ON_SYMBOL_SWITCH",t))}}},y=(s("746f"),{mixins:[v],mounted:function(){this.init()}}),g=y,C=s("2877"),_=Object(C["a"])(g,d,b,!1,null,null,null),$=_.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"currentSymbol a-21-bg a-3-bd"},[e("div",{staticClass:"symbol-total e-2-cl"},[e("span",{staticClass:"symbol-name b-1-cl"},[t._v(t._s(t.marketCurrent))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"--"!==t.symbolsData.close.data,expression:"symbolsData.close.data !== '--'"}],staticClass:"symbol-number",class:t.symbolsData.close.class},[t._v("\n        "+t._s(t.symbolsData.close.data)+"\n      ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"--"!==t.symbolsData.close.price,expression:"symbolsData.close.price !== '--'"}],staticClass:"symbol-property e-2-cl"})]),e("div",{staticClass:"symbol-info"},[e("div",{staticClass:"info-item"},[e("span",{staticClass:"tit e-2-cl"},[t._v("\n          "+t._s(t.$t("contract.applies"))+"\n        ")]),e("span",{staticClass:"vla",class:t.symbolsData.rose.class},[t._v("\n              "+t._s(t.symbolsData.rose.data)+"\n        ")])]),e("div",{staticClass:"info-item"},[e("span",{staticClass:"tit e-2-cl"},[t._v("\n          "+t._s(t.$t("contract.height"))+"\n        ")]),e("span",{staticClass:"vla b-1-cl"},[t._v(t._s(t.symbolsData.high))])]),e("div",{staticClass:"info-item"},[e("span",{staticClass:"tit e-2-cl"},[t._v("\n          "+t._s(t.$t("contract.low"))+"\n        ")]),e("span",{staticClass:"vla b-1-cl"},[t._v(t._s(t.symbolsData.low))])]),e("div",{staticClass:"info-item"},[e("span",{staticClass:"tit e-2-cl"},[t._v("\n          "+t._s(t.$t("contract.H_volume"))+"\n        ")]),e("span",{staticClass:"vla b-1-cl"},[t._v("\n          "+t._s(t.symbolsData.vol)+"\n        ")])])])])},D=[],O={name:"currentSymbol",components:{},data:function(){return{symbolCurrent:c["u"].get("coNowSymbol"),marketCurrent:c["u"].get("coMarkTitle"),dataList:[],symbolsData_bf:{}}},watch:{documentTitle:function(t){document.title=t}},computed:{publicInfo:function(){return this.$store.state.baseData.publicInfo},documentTitle:function(){var t=Object(c["n"])("lan");if(this.publicInfo){var e=this.publicInfo,s=e.indexHeaderTitle,i=e.seo,a="";if(s)if(t)a=i.title||s[t];else{var n=this.publicInfo.lan.defLan;a=i.title||s[n]}return"".concat(this.symbolsData.close.data," ").concat(this.symbolCurrent," ").concat(this.$t("pageTitle.trade"),"-").concat(a)}return""},symbolsData:function(){return this.dataList[this.symbolCurrent]?this.dataList[this.symbolCurrent]:{name:"--",symbol:{symbol:"--",unit:"--"},high:"--",low:"--",close:{class:"",data:"--",price:"--"},amount:"--",rose:{class:"",data:"--"}}}},methods:{init:function(){var t=this;this.$bus.$on("SYMBOL_CURRENT",(function(e){t.symbolCurrent=e})),this.$bus.$on("ON_MARKET_SWITCH_ORDER",(function(e){t.marketCurrent=e})),this.$bus.$on("ON_MARKET_SWITCH",(function(e){t.marketCurrent=e})),this.$bus.$on("MARKET_DATA",(function(e){t.dataList=e}))}}},w=(s("fce7"),{mixins:[O],mounted:function(){this.init()}}),L=w,k=Object(C["a"])(L,T,D,!1,null,null,null),x=k.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"coDepth-block codepath-container"},[e("div",{staticClass:"coDepth"},[e("div",{staticClass:"block-header a-3-bd a-21-bg e-2-cl"},[e("span",{staticClass:"h4 b-1-cl"},[t._v("\n        "+t._s(t.$t("contract.handicap"))+"\n      ")]),e("span",{staticClass:"title-tab a-12-bd",class:{"selected b-1-cl":"D"===t.shrinksDdpthNewShow},on:{click:function(e){return t.switchBlock("D")}}},[t._v("\n        "+t._s(t.$t("contract.handicap"))+"\n      ")]),e("span",{staticClass:"title-tab title-new-tab a-12-bd",class:{"selected b-1-cl":"T"===t.shrinksDdpthNewShow},on:{click:function(e){return t.switchBlock("T")}}},[t._v("\n        "+t._s(t.$t("contract.latestDeal"))+"\n      ")]),e("div",{staticClass:"switch-btn"},[e("i",{staticClass:"dtIcon",on:{click:function(e){return t.switchDepthType("center")}}},[e("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_5"}})])]),e("i",{staticClass:"dtIcon",on:{click:function(e){return t.switchDepthType("sell")}}},[e("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_7"}})])]),e("i",{staticClass:"dtIcon",on:{click:function(e){return t.switchDepthType("buy")}}},[e("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_6"}})])])])]),e("div",{staticClass:"block-content a-6-bg",class:{"is-show":"D"===t.shrinksDdpthNewShow}},[e("tableList",{attrs:{type:"asks",theadList:t.theadList,dataList:t.dataList.asksData,maxValue:t.dataList.depthMaxNumber,cellWidth:t.cellWidth,lineNumber:t.sellLineNumber,bodyHeight:t.sellHeight}}),e("div",{staticClass:"current-price a-21-bg"},[e("div",{staticClass:"price-box b-1-cl"},["--"!==t.symbolsData.close.data?e("span",{staticClass:"price",class:t.symbolsData.close.class},[t._v("\n            "+t._s(t.symbolsData.close.data)+"\n          ")]):t._e(),e("span",{staticClass:"indexPrice"},[t._v(t._s(t.indexPrice)+" ")]),e("span",{staticClass:"tagPrice"},[t._v("/ "+t._s(t.tagPrice))])]),e("span",{staticClass:"jb"},t._l(5,(function(s){return e("i",{key:s,staticClass:"jb_item a-2-bd",class:{"b-5-bg b-5-bd":t.liquidationRate>=s}})})),0)]),e("tableList",{attrs:{type:"buy",dataList:t.dataList.buyData,maxValue:t.dataList.depthMaxNumber,lineNumber:t.buyLineNumber,cellWidth:t.cellWidth,bodyHeight:t.buyHeight}})],1)]),e("div",{staticClass:"new-tradb",class:{"is-show":"T"===t.shrinksDdpthNewShow}},[e("new-trade")],1)])},P=[],I={name:"market",data:function(){return{dataList:{asksData:[],buyData:[],depthMaxNumber:null},cellWidth:[120,90,95],shrinksDdpthNewShow:"D",sellHeight:330,buyHeight:330,sellLineNumber:19,buyLineNumber:19,symbolCurrent:null,symbolCurrentInfo:null,marketData:[],liquidationRate:0,tagPrice:null,indexPrice:null,getLiquidationRateTimer:null,maxHeeight:660,minHeight:330}},computed:{templateLayoutType:function(){return this.$store.state.baseData.templateLayoutType},theadList:function(){return[this.$t("contract.price"),this.$t("contract.number"),this.$t("contract.total")]},symbolsData:function(){return this.marketData[this.symbolCurrent]?this.marketData[this.symbolCurrent]:{name:"--",symbol:{symbol:"--",unit:"--"},close:{class:"",data:"--",price:"--"},amount:"--",rose:{class:"",data:"--"}}}},watch:{minHeight:function(t){if(this.sellHeight>1&&this.buyHeight>1&&"2"===this.templateLayoutType){var e=Math.floor(t/17);this.sellLineNumber=e,this.buyLineNumber=e}}},methods:{init:function(){var t=this;this.setBoxHeight(),this.$bus.$on("WINFOW_ON_RESIIZE",(function(){t.setBoxHeight()})),this.$bus.$on("TAG_PRICE",(function(e){t.tagPrice=e.tagPrice,t.indexPrice=e.indexPrice})),this.$bus.$on("DEPTH_DATA",(function(e){t.dataList=e})),this.$bus.$on("MARKET_DATA",(function(e){t.marketData=e})),this.$bus.$on("SYMBOL_CURRENT",(function(e){t.symbolCurrent=e,t.dataList={asksData:[],buyData:[],depthMaxNumber:null}})),this.$bus.$on("SYMBOL_CURRENT_INFO",(function(e){t.symbolCurrentInfo=e,t.getLiquidationRate()}))},setBoxHeight:function(){if("2"===this.templateLayoutType){var t=document.body.clientHeight;t<800&&(t=800),this.maxHeeight=t-602,this.minHeight=(t-609)/2,this.switchDepthType()}},switchBlock:function(t){this.shrinksDdpthNewShow=t},getLiquidationRate:function(){var t=this;this.axios({url:this.$store.state.url.contract.get_liquidation_rate,hostType:"co",params:{contractId:this.symbolCurrentInfo.id}}).then((function(e){if("0"===e.code){var s=e.data.liquidationRate;t.liquidationRate=0===s?0:parseInt(s/20+1,0)}})),clearTimeout(this.getLiquidationRateTimer),this.getLiquidationRateTimer=null,this.getLiquidationRateTimer=setTimeout((function(){t.getLiquidationRate()}),2e4)},switchDepthType:function(t){switch(this.switchBlock("D"),t){case"sell":this.sellHeight=this.maxHeeight,this.buyHeight=1,this.sellLineNumber=150,this.buyLineNumber=0;break;case"buy":this.sellHeight=1,this.buyHeight=this.maxHeeight,this.sellLineNumber=0,this.buyLineNumber=150;break;default:if(this.sellHeight=this.minHeight,this.buyHeight=this.minHeight,"2"===this.templateLayoutType){var e=Math.floor(this.minHeight/17);this.sellLineNumber=e,this.buyLineNumber=e}else this.sellLineNumber=19,this.buyLineNumber=19}}}},N=(s("ad36"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"tableList-box tableList-container"},[t.theadList&&t.theadList.length?e("div",{staticClass:"thead a-21-bg a-3-bd b-2-cl"},t._l(t.theadList,(function(s,i){return e("span",{key:"thead"+i,style:{width:t.cellWidth[i]+"px"}},[t._v("\n      "+t._s(s)+"\n    ")])})),0):t._e(),e("div",{staticClass:"tbody",class:{"no-padding":1===t.bodyHeight},style:t.tbodyStyle},[e("vue-scroll",{ref:"vs",attrs:{ops:t.ops},on:{"handle-resize":t.handleResize}},[e("div",{staticClass:"tbodyBar",style:t.tbodyStyle},[e("div",{class:t.asksOPtion},[t.differNUmber>0&&"asks"===t.type?t._l(t.differNUmber,(function(s,i){return e("div",{key:i+"diff",staticClass:"symbol-item a-5-bg-h b-2-cl"},[e("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"}},[t._v("\n                --\n              ")]),e("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n                --\n              ")]),e("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n                --\n              ")])])})):t._e(),t._l(t.dataList,(function(s,i){return[t.isShow(i)?e("div",{key:i+"item",staticClass:"symbol-item a-5-bg-h b-2-cl",class:{"change-item":s.diff}},[e("div",{staticClass:"bg a-21-bg"}),e("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"},on:{click:function(e){return t.handelPrice(s.price)}}},[t._v("\n                "+t._s(s.price)+"\n              ")]),e("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n                "+t._s(s.vol)+"\n                "),t.flashSwitchs?e("div",{staticClass:"change",class:t.trBgClass(s.diff)}):t._e()]),e("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n                "+t._s(s.total)+"\n                "),e("b",{staticClass:"tr-bg",class:t.trBgClass_two,style:t.setWidth(s.total)})])]):t._e()]})),t.differNUmber>0&&"buy"===t.type?t._l(t.differNUmber,(function(s,i){return e("div",{key:i+"diff",staticClass:"symbol-item a-5-bg-h b-2-cl"},[e("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"}},[t._v("\n                --\n              ")]),e("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n                --\n              ")]),e("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n                --\n              ")])])})):t._e()],2)])])],1)])}),E=[],j=(s("c5f6"),{name:"tableList",components:{},data:function(){return{ops:{scrollPanel:{scrollingY:!0,initialScrollY:0}}}},props:{type:{type:String,default:""},theadList:{type:Array,default:function(){return[]}},dataList:{type:Array,default:function(){return[]}},cellWidth:{type:Array,default:function(){return[]}},bodyHeight:{type:Number,default:0},lineNumber:{type:Number,default:24},maxValue:{type:Number}},computed:{tbodyStyle:function(){return this.bodyHeight<500?{height:"".concat(this.bodyHeight,"px"),overflow:"hidden"}:{height:"".concat(this.bodyHeight,"px")}},asksOPtion:function(){return"asks"===this.type&&this.bodyHeight<500?"asksOPtion":""},priceClass:function(){return"buy"===this.type?"u-1-cl":"u-4-cl"},trBgClass_two:function(){return"buy"===this.type?"u-3-bg":"u-6-bg"},differNUmber:function(){return this.lineNumber-this.dataList.length>0?this.lineNumber-this.dataList.length:0},flashSwitchs:function(){return this.$store.state.baseData.trade_depth_is_flash}},watch:{theadList:function(t){this.scrollTo(t)},bodyHeight:function(t,e){e&&t&&"asks"===this.type&&t>500&&this.scrollTo()},dataList:function(t,e){var s=this;"asks"!==this.type||e.length||setTimeout((function(){s.scrollTo()}))}},methods:{init:function(){this.scrollTo()},isShow:function(t){if("asks"===this.type){var e=this.dataList.length-this.lineNumber;return e<=t}return t<this.lineNumber},trBgClass:function(t){return 1===t?"u-2-bg":"u-5-bg"},handelPrice:function(t){this.$bus.$emit("HANDEL_PRICE",t)},scrollTo:function(){this.$refs.vs&&this.$refs.vs.scrollTo({y:99999},!1)},handleResize:function(){var t=this;"asks"===this.type&&setTimeout((function(){t.scrollTo()}),100)},setWidth:function(t){var e="buy"===this.type?this.dataList.length-1:0,s=this.dataList[e].total,i=0;return"--"===t||"--"===s?0:(i=parseFloat(t)/parseFloat(s)*100+5,i>100&&(i=100),{width:"".concat(i,"%")})}}}),R=(s("09d6"),{mixins:[j],mounted:function(){this.init()}}),B=R,A=Object(C["a"])(B,N,E,!1,null,null,null),W=A.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"newTrade newTrade-container"},[e("div",{staticClass:"block-header a-3-bd a-21-bg"},[e("span",{staticClass:"h4 b-1-cl"},[t._v("\n      "+t._s(t.$t("contract.latestDeal"))+"\n    ")])]),e("div",{staticClass:"block-content a-6-bg"},[t.theadList&&t.theadList.length?e("div",{staticClass:"thead a-21-bg a-3-bd e-2-cl"},t._l(t.theadList,(function(s,i){return e("span",{key:"thead"+i,style:{width:t.cellWidth[i]+"px"}},[t._v("\n        "+t._s(s)+"\n      ")])})),0):t._e(),e("div",{staticClass:"tbody newCoTrade-tbody"},[e("vue-scroll",[t._l(t.dataList,(function(s,i){return e("div",{key:t.kyes(s,i),staticClass:"symbol-item a-21-bg-h e-2-cl",class:{"change-item":s.change}},[t.flashSwitchs?e("div",{staticClass:"change a-3-bg"}):t._e(),e("div",{staticClass:"bg a-21-bg"}),s.rose?e("span",{staticClass:"rose"},["up"===s.rose?e("i",{staticClass:"c-rise icon-arrow-up",class:s.side},[t._v("↑")]):t._e(),"down"===s.rose?e("i",{staticClass:"c-fall icon-arrow-down",class:s.side},[t._v("↓")]):t._e()]):t._e(),e("span",{staticClass:"td-symbol",class:s.side,style:{width:t.cellWidth[0]+"px"},on:{click:function(e){return t.handelPrice(s.price)}}},[t._v("\n            "+t._s(s.price)+"\n            ")]),e("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n            "+t._s(s.vol)+"\n          ")]),e("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n            "+t._s(s.time)+"\n          ")])])})),t._l(t.differNUmber,(function(s){return e("div",{key:s+"diff",staticClass:"symbol-item a-21-bg-h e-2-cl"},[e("span",{staticClass:"td-symbol",style:{width:t.cellWidth[0]+"px"}},[t._v("\n            --\n          ")]),e("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n            --\n          ")]),e("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n            --\n          ")])])}))],2)],1)])])},U=[],H={name:"newTrade",components:{},data:function(){return{dataList:[],cellWidth:[120,90,95],differNUmber:51,bodyHeight:"700px",symbolCurrent:null}},computed:{theadList:function(){return[this.$t("contract.price"),this.$t("contract.volume"),this.$t("contract.time")]},flashSwitchs:function(){return 1}},methods:{init:function(){var t=this;this.$bus.$on("TRADE_DATA",(function(e){t.dataList=e.tradeData,t.differNUmber=51-t.dataList.length>0?51-t.dataList.length:0})),this.$bus.$on("SYMBOL_CURRENT",(function(e){t.symbolCurrent=e}))},handelPrice:function(t){this.$bus.$emit("HANDEL_PRICE",t)},kyes:function(t,e){return t.change?(new Date).getTime():e}}},F=(s("7f02"),{mixins:[H],mounted:function(){this.init()}}),V=F,q=Object(C["a"])(V,M,U,!1,null,null,null),Y=q.exports,K={mixins:[I],components:{tableList:W,newTrade:Y},mounted:function(){this.init()}},z=K,G=Object(C["a"])(z,S,P,!1,null,null,null),X=G.exports,J=s("0d46"),Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"co-trade-box e-2-cl"},[e("div",{staticClass:"title-block a-21-bg a-3-bd"},[e("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":1===t.transactionType},on:{click:function(e){return t.switchTradeType(1)}}},[t._v("\n      "+t._s(t.$t("contract.limitPriceTrade"))+"\n    ")]),e("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":2===t.transactionType},on:{click:function(e){return t.switchTradeType(2)}}},[t._v("\n      "+t._s(t.$t("contract.marketPriceTrade"))+"\n    ")])]),e("div",{staticClass:"trade-form"},[e("div",{staticClass:"form-block"},[e("trade-input",{attrs:{fixValue:t.pricePrecision,name:"contractPrice",datas:t.contractPrice},on:{onChanes:t.onChaneForm},model:{value:t.contractPrice.value,callback:function(e){t.$set(t.contractPrice,"value",e)},expression:"contractPrice.value"}}),e("trade-input",{attrs:{fixValue:t.formData2Fix,name:"contractNUmber",datas:t.contractNUmber},on:{onChanes:t.onChaneForm},model:{value:t.contractNUmber.value,callback:function(e){t.$set(t.contractNUmber,"value",e)},expression:"contractNUmber.value"}}),t.isLogin?[e("c-button",{attrs:{defaultColorClass:t.buttosContent.buyButton.class,hoverColorClass:t.buttosContent.buyButton.class,activeColorClass:t.buttosContent.buyButton.class,disabled:!t.isSubmitOk,paddingW:"10px",width:"126px"},on:{click:function(e){return t.submitForm("BUY")}}},[t._v("\n          "+t._s(t.buttosContent.buyButton.text)+"\n        ")]),e("c-button",{attrs:{defaultColorClass:t.buttosContent.sellButton.class,hoverColorClass:t.buttosContent.sellButton.class,activeColorClass:t.buttosContent.sellButton.class,disabled:!t.isSubmitOk,paddingW:"10px",width:"126px"},on:{click:function(e){return t.submitForm("SELL")}}},[t._v("\n          "+t._s(t.buttosContent.sellButton.text)+"\n        ")])]:e("c-button",{attrs:{defaultColorClass:t.buttosContent.buyButton.class,hoverColorClass:t.buttosContent.buyButton.class,activeColorClass:t.buttosContent.buyButton.class,disabled:!t.isSubmitOk,paddingW:"10px",width:"270px"},on:{click:function(e){return t.submitForm("BUY")}}},[t._v("\n        "+t._s(t.buttosContent.buyButton.text)+"\n      ")]),e("p",{staticClass:"prime"},[e("span",{staticClass:"p_l"},[t._v("\n          "+t._s(t.$t("contract.cost"))+"\n          "+t._s(t.buyOrderCost)+" BTC\n        ")]),e("span",{staticClass:"p_r"},[t._v("\n          "+t._s(t.$t("contract.cost"))+"\n          "+t._s(t.sellOrderCost)+" BTC\n        ")])]),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n          "+t._s(t.$t("contract.orders"))+"\n        ")]),e("span",{staticClass:"lov b-1-cl"},[t._v("\n          "+t._s(t.orderPriceValue)+" BTC\n        ")])]),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n          "+t._s(t.$t("contract.balance"))+"\n        ")]),e("span",{staticClass:"lov b-1-cl"},[t._v("\n          "+t._s(t.canUseBalance)+" BTC\n        ")])])],2)]),e("div",{staticClass:"title-block a-21-bg no-border"},[e("span",{staticClass:"b-1-cl"},[t._v("\n      "+t._s(t.$t("contract.chiccw"))+"\n      ("+t._s(t.marketCurrent)+")\n    ")])]),e("div",{staticClass:"account-info"},[1===t.is_more_position?e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.accounttId"))+"\n      ")]),e("span",{staticClass:"lov b-1-cl"},[t.currentOrderData?e("i",[t._v(t._s(t.currentOrderData.id))]):e("i",[t._v("--")])])]):t._e(),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.co2"))+"\n      ")]),e("span",{staticClass:"lov b-1-cl"},[t.currentOrderData?e("i",[t._v(t._s(t.currentOrderData.volume))]):e("i",[t._v("--")])])]),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.rate"))+"\n      ")]),e("span",{staticClass:"lov b-1-cl"},[t.currentOrderData?e("i",[t._v(t._s(t.currentOrderData.unrealisedRateIndex)+"%")]):e("i",[t._v("--")])])]),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.entryPrice"))+"\n      ")]),e("span",{staticClass:"lov b-1-cl"},[t.currentOrderData?e("i",[t._v(t._s(t.currentOrderData.avgPrice))]):e("i",[t._v("--")])])]),e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.liquidationPrice"))+"\n      ")]),e("span",{staticClass:"lov b-1-cl"},[t.currentOrderData?e("i",[t._v(t._s(t.currentOrderData.liquidationPrice))]):e("i",[t._v("--")])])]),e("div",{staticClass:"top-mag percentage-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n        "+t._s(t.$t("contract.multipleb"))+"\n      ")])]),e("lever-component",{attrs:{level:t.definiteLevel,levelList:t.levelList,levelSwitch:t.levelSwitch},on:{levelChange:t.onChangelevel}})],1),e("c-dialog",{attrs:{showFlag:t.dialogFlag,paddingBottom:"14px",confirmLoading:!t.isSubmitOk,titleText:t.confirmFormTitle},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[e("div",{staticClass:"form-info"},[t.symbolCurrentInfo?e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"price c-1-cl",class:t.priceClass},[1===t.transactionType?e("span",[t._v(t._s(t.contractPrice.value)+" "+t._s(t.pricingUnits.pri))]):e("span",[t._v("\n            "+t._s(t.$t("contract.marketPrice"))+"\n          ")])]),e("p",{staticClass:"name b-1-cl"},[t._v(t._s(t.marketCurrent))]),e("p",{staticClass:"text3 b-1-cl"},[t._v("\n          "+t._s(t.symbolCurrentInfo.typeName)+"\n        ")])]):t._e(),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.balance"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v(t._s(t.canUseBalance))])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.bjPrice"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v(t._s(t.tagPrice))])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.liquidationPriceTwo"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},["BUY"===t.formType?[t._v("\n            "+t._s(t.liquidationBuyPrice)+"\n          ")]:[t._v("\n            "+t._s(t.liquidationSellPrice)+"\n          ")]],2)]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.value"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v(t._s(t.orderPriceValue))])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.cost"))+"\n        ")]),"BUY"===t.formType?e("p",{staticClass:"text2 b-1-cl"},[t._v(t._s(t.buyOrderCost))]):e("p",{staticClass:"text2 b-1-cl"},[t._v(t._s(t.sellOrderCost))])])]),e("p",{staticClass:"chiccw"},[t._v(t._s(t.$t("contract.chiccw")))]),e("lever-component",{attrs:{level:t.definiteLevel,levelList:t.levelList,levelSwitch:t.levelSwitch},on:{levelChange:t.onChangelevel}})],1),t.coBase?t._e():e("p")],1)},Q=[];function tt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function et(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):tt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var st={name:"tableList",data:function(){return{initData:{},contractPrice:{title:this.$t("contract.price"),units:"USDT",subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:""},contractNUmber:{title:this.$t("contract.cw"),units:this.$t("contract.piece"),subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:""},transactionType:1,marketList:null,marketCurrent:c["u"].get("coMarkTitle"),symbolCurrent:c["u"].get("coNowSymbol"),symbolCurrentInfo:null,definiteLevel:0,levelList:[],fal:!0,isUseInitData:!0,first:!0,stopSetTiemout:null,isSubmitOk:!1,isLevelInitData:!0,contractConfig:null,subFla:!0,getPriceTimer:null,dialogFlag:!1,tagPrice:null,formType:null,currentOrderData:null,liquidationBuyPrice:null,liquidationSellPrice:null}},props:{},computed:et(et({},Object(r["b"])({coBase:function(t){var e=t.baseData;return e.coPublicInfo?(this.marketList=e.coPublicInfo.market,e.coPublicInfo):{}}})),{},{is_more_position:function(){return this.$store.state.baseData.is_more_position},isLogin:function(){return!!this.$store.state.baseData.isLogin&&this.$store.state.baseData.isLogin},levelSwitch:function(){return this.isLogin},buttosContent:function(){return{buyButton:{text:this.isLogin?this.$t("personal.state.closed"):this.$t("contract.loginReg"),class:this.isLogin?"u-11-bg buyBtn u-16-cl":"u-8-bg buyBtn u-16-cl"},sellButton:{text:this.isLogin?this.$t("personal.state.closed"):this.$t("contract.loginReg"),class:this.isLogin?"u-11-bg sellBtn u-16-cl":"u-8-bg sellBtn u-16-cl"}}},pricingUnits:function(){var t=this.symbolCurrentInfo||"";return t&&t.bond!==t.quoteSymbol?{vol:t.quoteSymbol,pri:t.quoteSymbol}:t&&t.bond===t.quoteSymbol?{vol:t.baseSymbol,pri:t.quoteSymbol}:{vol:"",pri:""}},formData2Fix:function(){return 0},pricePrecision:function(){return this.symbolCurrentInfo?this.symbolCurrentInfo.pricePrecision:4},buyOrderCost:function(){return this.initData?Object(c["f"])(this.initData.buyOrderCost,4):"--"},sellOrderCost:function(){return this.initData?Object(c["f"])(this.initData.sellOrderCost,4):"--"},orderPriceValue:function(){return this.initData?Object(c["f"])(this.initData.orderPriceValue,4):"--"},canUseBalance:function(){return this.initData?Object(c["f"])(this.initData.canUseBalance,4):"--"},priceClass:function(){return"BUY"===this.formType?"u-1-cl":"u-4-cl"},confirmFormTitle:function(){var t="BUY"===this.formType?this.$t("contract.buy"):this.$t("contract.sell"),e=1===this.transactionType?this.$t("contract.infoOrder"):this.$t("contract.marketOrder");return t+e}}),watch:{pricingUnits:function(t){this.contractPrice.units=t.pri},isLogin:function(t){t?(this.getTagPrice(),this.getInitData()):this.isSubmitOk=!0},symbolCurrentInfo:function(t){this.isLogin||(this.definiteLevel=t.maxLeverageLevel,this.levelList=t.leverTypes.split(","))}},methods:{init:function(){var t=this;this.$bus.$on("SYMBOL_CURRENT",(function(e){t.symbolCurrent=e,t.isLogin&&(t.isSubmitOk=!1)})),this.$bus.$on("ON_MARKET_SWITCH",(function(e){t.marketCurrent=e,t.currentOrderData=null})),this.$bus.$on("ON_MARKET_SWITCH_ORDER",(function(e){t.marketCurrent=e})),this.$bus.$on("SYMBOL_CURRENT_INFO",(function(e){t.symbolCurrentInfo=e,t.symbolCurrentInfo.typeName=t.setTypeName(t.symbolCurrentInfo),t.isLevelInitData=!0,t.isUseInitData=!0,t.clearValue(),t.getTagPrice(),t.getInitData()})),this.$bus.$on("GET_INIT_DATA",(function(e){t.getInitData(e)})),this.$bus.$on("CO_CURRENT_TODER_DATA",(function(e){t.currentOrderData=e,e&&(t.currentOrderData.unrealisedRateIndex=Object(c["f"])(e.unrealisedRateIndex,2),t.currentOrderData.liquidationPrice=Object(c["f"])(e.liquidationPrice,e.pricePrecision),t.currentOrderData.avgPrice=Object(c["f"])(e.avgPrice,e.pricePrecision))})),this.$bus.$on("HANDEL_PRICE",(function(e){t.contractPrice.value=e}))},setTypeName:function(t){var e=this.setSymbolName(t.contractType),s=t.settleTime.split(" ")[0].split("-"),i=0===t.contractType?"":" · ".concat(s[1]).concat(s[2]),a=t.maxLeverageLevel;return"".concat(e).concat(i," (").concat(a,"X)")},setSymbolName:function(t){switch(t){case 0:return this.$t("contract.contractType1");case 1:return this.$t("contract.contractType2");case 2:return this.$t("contract.contractType3");case 3:return this.$t("contract.contractType4");default:return this.$t("contract.contractType5")}},switchTradeType:function(t){this.isUseInitData=!0,this.transactionType=t,this.contractPrice.disabled=2===t},onChangelevel:function(t){document.onmouseup=null,this.isLevelInitData=!1,this.coBase&&1!==this.is_more_position?this.sendLevelMultiple(t):(this.definiteLevel="".concat(t),this.getInitData(!0,!0))},onChaneForm:function(t){var e=this;(this.contractNUmber.value||this.contractPrice.value)&&this.isLogin&&(this.isSubmitOk=!1),this[t.name].value=t.value,this.isUseInitData=!1,t.value&&(clearTimeout(this.stopSetTiemout),this.stopSetTiemout=setTimeout((function(){e.getInitData(!0,!0)}),1e3))},clearValue:function(){this.contractNUmber.value="",this.contractPrice.value=""},getTagPrice:function(t){var e=this,s={};t&&(s["exchange-auto"]="1"),this.axios({url:"tag_price",hostType:"co",headers:s,params:{contractId:this.symbolCurrentInfo?this.symbolCurrentInfo.id:""}}).then((function(t){"0"===t.code&&(e.tagPrice=Object(c["f"])(t.data.tagPrice,e.pricePrecision),e.$bus.$emit("TAG_PRICE",t.data))})),clearTimeout(this.getPriceTimer),this.getPriceTimer=null,this.getPriceTimer=setTimeout((function(){e.getTagPrice(!0)}),5e3)},getInitData:function(t,e){var s=this;if(this.isLogin){var i={contractId:this.symbolCurrentInfo?this.symbolCurrentInfo.id:"",orderType:this.transactionType};e&&(i.level=Number(this.definiteLevel)),t&&(i.volume=Number(this.contractNUmber.value),i.price=this.contractPrice.value),this.axios({url:this.$store.state.url.contract.init_take_order,hostType:"co",params:i}).then((function(t){"0"===t.code&&(s.initData=t.data,s.symbolCurrentInfo=t.data.contractConfig,s.symbolCurrentInfo.typeName=s.setTypeName(s.symbolCurrentInfo),s.levelList=s.symbolCurrentInfo.leverTypes.split(","),s.isUseInitData&&(s.contractPrice.value=t.data.price,s.contractNUmber.value="".concat(t.data.volume)),s.liquidationBuyPrice=Object(c["f"])(t.data.liquidationBuyPrice,s.pricePrecision),s.liquidationSellPrice=Object(c["f"])(t.data.liquidationSellPrice,s.pricePrecision),s.isLevelInitData&&(s.definiteLevel="".concat(t.data.level)))}))}},sendLevelMultiple:function(t){var e=this;this.isSubmitOk=!1,this.axios({url:this.$store.state.url.contract.change_level,hostType:"co",params:{contractId:this.symbolCurrentInfo.id,leverageLevel:t,positionId:this.currentOrderData?this.currentOrderData.id:""}}).then((function(s){"0"===s.code?(e.definiteLevel="".concat(t),e.getInitData(!0,!0)):(e.$bus.$emit("LEVEL_CHANGE_EERROR"),e.$bus.$emit("tip",{text:s.msg,type:"error"}))})).catch((function(){setTimeout((function(){e.$bus.$emit("LEVEL_CHANGE_EERROR")}),100)}))},submit:function(){var t=this;if(this.subFla){this.subFla=!1;var e={};e={contractId:this.symbolCurrentInfo.id,volume:Number(this.contractNUmber.value),price:this.contractPrice.value,orderType:this.transactionType,side:this.formType,level:Number(this.definiteLevel),closeType:0,copType:2},this.axios({url:this.$store.state.url.contract.take_order,hostType:"co",params:e}).then((function(e){"0"===e.code?(t.subFla=!0,t.getInitData(!0),t.$bus.$emit("tip",{text:t.$t("trade.dealCussess"),type:"success"}),t.$bus.$emit("ORDER_CREATE",{type:"success"}),t.dialogFlag=!1):(t.subFla=!0,t.$bus.$emit("tip",{text:e.msg,type:"error"}))})).catch((function(){t.subFla=!0}))}},submitForm:function(t){this.isLogin?this.contractNUmber.value&&this.symbolCurrentInfo&&(Number(this.contractNUmber.value)>this.symbolCurrentInfo.maxOrderVolume?this.$bus.$emit("tip",{text:"".concat(this.$t("contract.errorText_01")).concat(this.symbolCurrentInfo.maxOrderVolume),type:"error"}):Number(this.contractNUmber.value)<this.symbolCurrentInfo.minOrderVolume?this.$bus.$emit("tip",{text:"".concat(this.$t("contract.errorText_02")).concat(this.symbolCurrentInfo.maxOrderVolume),type:"error"}):(this.dialogFlag=!0,this.formType=t)):this.$router.push("/login")},dialogConfirm:function(){this.submit()},dialogClose:function(){this.dialogFlag=!1}}},it=(s("c2d5"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"trade-input trade-input-container",class:{disabledForm:t.content.disabled}},[e("div",{staticClass:"input-item",class:t.ItemClass,on:{click:t.inputFocus}},[e("div",{staticClass:"tit"},[t._v(t._s(t.content.title))]),t.content.disabled?t._e():e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueData,expression:"valueData"}],ref:"inputs",staticClass:"inputs b-1-cl",attrs:{disabled:t.isDisabled,type:"text"},domProps:{value:t.valueData},on:{input:[function(e){e.target.composing||(t.valueData=e.target.value)},function(e){return t.handleInput(e.target.value)}],focus:function(e){return t.handle("focus",e.target.value)},blur:function(e){return t.handle("blur",e.target.value)}}}),t.content.disabled?e("p",{staticClass:"disabledText e-3-cl"},[t._v(t._s(t.content.disabledText))]):t._e(),t.content.disabled?t._e():e("span",{staticClass:"units"},[t._v(t._s(t.content.units))])]),t.content.subText&&!t.content.disabled?e("div",{staticClass:"price-rate b-3-bg"},[t._v("\n        ≈ "+t._s(t.content.subText)+"\n  ")]):t._e(),e("transition",{attrs:{name:"slide-fade"}},[t.content.isError?e("div",{staticClass:"error-msg c-3-bg"},[e("p",{staticClass:"b-1-cl"},[t._v(t._s(t.content.errorText))]),e("em")]):t._e()])],1)}),at=[],nt=s("768b"),rt={name:"tableList",components:{},data:function(){return{focusv:!1,valueData:null}},props:{datas:{type:Object},value:{type:[String,Number],default:null},name:{type:String,default:null},fixValue:{type:[String,Number]}},computed:{ItemClass:function(){var t="",e="a-3-bd";return this.content&&this.content.disabled&&(t=""),[t,e]},content:function(){return this.datas?this.datas:{}}},watch:{value:function(t){this.valueData=Object(c["h"])(t,this.fixValue)}},methods:{init:function(){var t=this;this.$bus.$on("SYMBOL_CURRENT",(function(){})),this.$bus.$on("ECHARTS_DATA",(function(e){if("formData_1"===t.name&&!t.valueData&&e.asksArr&&e.asksArr.length){var s=e.asksArr[0];if(s){var i=Object(nt["a"])(s,1),a=i[0];t.valueData=a,t.$emit("onChanes",{name:t.name,value:a})}}if("formData_3"===t.name&&!t.valueData&&e.buysArr&&e.buysArr.length){var n=e.buysArr.length-1,r=e.buysArr[n];if(r){var c=Object(nt["a"])(r,1),o=c[0];t.valueData=o,t.$emit("onChanes",{name:t.name,value:o})}}}))},inputFocus:function(){this.content.disabled||(this.focusv=!0,this.$refs.inputs.focus())},handle:function(t){this.focusv="focus"===t},handleInput:function(t){var e=Object(c["h"])(t,this.fixValue);this.valueData=e,this.$emit("onChanes",{name:this.name,value:e})}}},ct=(s("26ae"),{mixins:[rt],data:function(){return{isDisabled:!0}},mounted:function(){this.init()}}),ot=ct,lt=Object(C["a"])(ot,it,at,!1,null,null,null),ut=lt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lever-box",class:{"no-drop":!t.levelSwitch}},[e("div",{staticClass:"risk-Percentage"},[e("div",{staticClass:"percentage_bar"},[e("div",{staticClass:"risk-num transition",style:{left:t.lineIndicator+"%"}},[e("span",{staticClass:"b-1-cl"},[t._v(" "+t._s(t.level)+"X ")])])]),e("div",{staticClass:"risk-bar"}),e("i",{staticClass:"warning_icon icon-warning"})]),e("div",{ref:"dragStepWrap",staticClass:"transaction-drag"},[e("span",{ref:"dragStep",staticClass:"drag-step transition c-8-bg",style:{left:t.stepPosition+"%"},on:{mousedown:t.onmousedown}},[e("i",{staticClass:"icon_h"})]),e("span",{staticClass:"drag-def a-3-bg"}),t._l(t.levelList,(function(s,i){return e("i",{key:i,staticClass:"a-3-bg a-6-bd",class:"drag-step"+i,style:{left:parseInt(i*t.changeLevelLeftNum)+"%"},on:{click:function(e){return t.dragStep(s,i)}}},[e("b",{staticClass:"mark"},[t._v(t._s(s)+"x")])])}))],2)])},dt=[],bt=(s("6b54"),{name:"lever",data:function(){return{stepPosition:100,movement:0,lineIndicator:0,currenttage:0}},props:{level:{type:[String,Number],default:""},levelList:{type:Array,default:function(){return[]}},levelSwitch:{type:Boolean,default:!1}},computed:{changeLevelLeftNum:function(){return 100/(this.levelList.length-1)},definiteLevel:function(){return this.levelList.indexOf(this.level.toString())},percentageArr:function(){var t=this,e=[];return this.levelList.forEach((function(s,i){e.push(parseInt(i*t.changeLevelLeftNum,0))})),e}},watch:{definiteLevel:function(t){this.currenttage=t,this.lineIndicator=t*this.changeLevelLeftNum,this.stepPosition=t*this.changeLevelLeftNum}},methods:{init:function(){var t=this;-1!==this.levelList.indexOf(this.level.toString())?(this.lineIndicator=this.definiteLevel*this.changeLevelLeftNum,this.stepPosition=this.definiteLevel*this.changeLevelLeftNum):(this.lineIndicator=0,this.stepPosition=0),this.$bus.$on("LEVEL_CHANGE_EERROR",(function(){t.stepPosition=t.definiteLevel*t.changeLevelLeftNum})),document.onmouseup=function(){document.onmousemove=null}},onmousedown:function(t){var e=this;if(this.levelSwitch){var s=t||window.event,i=this.$refs.dragStep,a=this.$refs.dragStepWrap,n=s.clientX-i.offsetLeft;document.onmousemove=function(t){s=t||window.event;var i=s.clientX-n;i<0?i=0:i>a.offsetWidth&&(i=a.offsetWidth);var r=parseInt(i/a.offsetWidth*100,0);e.percentageArr.forEach((function(t,s){var i=0===s?0:t-(t-e.percentageArr[s-1])/2,a=s===e.percentageArr.length-1?100:t+(e.percentageArr[s+1]-t)/2;r>i&&r<a&&(e.stepPosition=t,e.currenttage=s)})),document.onmouseup=function(){document.onmousemove=null;var t=e.levelList[e.currenttage];e.$emit("levelChange",t)}},document.onmouseup=function(){document.onmousemove=null}}},dragStep:function(t,e){this.levelSwitch&&(this.stepPosition=e*this.changeLevelLeftNum,this.$emit("levelChange",t))},setDefaultStep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.levelList.indexOf(t.toString());this.stepPosition=e*this.changeLevelLeftNum}}}),mt=(s("024b"),{mixins:[bt],mounted:function(){this.init()}}),pt=mt,ft=Object(C["a"])(pt,ht,dt,!1,null,null,null),vt=ft.exports,yt={mixins:[st],components:{tradeInput:ut,leverComponent:vt},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.assetsInter)}},gt=yt,Ct=Object(C["a"])(gt,Z,Q,!1,null,null,null),_t=Ct.exports,$t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-list-box a-6-bg",class:{"fc-order-list-box":1===t.is_more_position}},[e("div",{staticClass:"tab-box a-3-bd e-2-cl a-21-bg"},t._l(t.tabTypeItem,(function(s,i){return e("span",{key:i+"tab",staticClass:"tab-item",class:{"selected b-1-cl a-12-bd":t.orderType===i},on:{click:function(e){return t.switchType(i)}}},[t._v("\n        "+t._s(s)+"\n    ")])})),0),e("div",{staticClass:"order-conent"},[e("vue-scroll",[e("c-table",{attrs:{columns:t.columns,imgMap:t.imgMap,colorMap:t.colorMap,dataList:t.dataList,loading:t.tableLoading,cellHeight:t.cellHeight,bodyClasses:t.bodyClasses},on:{elementClick:t.elementClick,lineClick:t.lineClickEveent}})],1)],1),t.pagination.count/t.pagination.pageSize>1?e("c-pagination",{attrs:{total:t.pagination.count,classes:"a-6-bg","current-page":t.pagination.page,display:t.pagination.pageSize},on:{pagechange:t.pagechange}}):t._e(),e("c-dialog",{attrs:{showFlag:t.isShowDialog,paddingBottom:"14px",confirmDisabled:t.confirmDisabled,titleText:t.confirmFormTitle},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[e("div",{staticClass:"form-info"},[e("div",{staticClass:"info-item a-4-bg"},[e("div",{staticClass:"radio"},[e("span",{staticClass:"b-1-cl",on:{click:function(e){return t.setReviseType("Add")}}},[e("c-redio",{attrs:{value:"Add"===t.marginReviseType}}),t._v("\n              "+t._s(t.$t("contract.addEnsure"))+"\n            ")],1),e("span",{staticClass:"b-1-cl",on:{click:function(e){return t.setReviseType("Minus")}}},[e("c-redio",{attrs:{value:"Minus"===t.marginReviseType}}),t._v("\n              "+t._s(t.$t("contract.minusEnsure"))+"\n            ")],1)])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("contract.coNumber"))+"\n          ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v("\n            "+t._s(t.currentOrder.volume)+"\n            "),t._v("\n            "+t._s(t.$t("contract.piece"))+t._s(t.$t("contract.co"))+"\n            ("+t._s(t.currentOrder.leverageLevel)+"X)\n          ")])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.$t("contract.fqEnsure"))+"\n          ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v("\n            "+t._s(t.currentOrder.usedMargin)+" BTC\n          ")])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.$t("contract.kyEnsure"))+"\n          ")]),e("p",{staticClass:"text2 b-1-cl"},[t._v("\n            "+t._s(t.currentOrder.canUseMargin)+" BTC\n          ")])])]),e("div",{staticClass:"inline-input"},[e("c-inputLine",{attrs:{name:"marginValue",value:t.marginValue,promptText:t.marginPromptText,errorHave:!0,errorText:t.marginErrorText,errorFlag:t.marginErrorFlag},on:{onchanges:t.inputChanges}},[e("i",[t._v("BTC")])])],1)])],1)},Tt=[];function Dt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ot(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Dt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var wt={name:"orderList",data:function(){return{orderType:0,imgMap:c["s"],colorMap:c["b"],pagination:{count:0,pageSize:10,page:1},marketCurrent:null,symbolCurrent:null,cancelFla:!0,getDataInter:null,tableLoading:!0,cancelOrderId:null,timer:15e3,cellHeight:56,currentOrder:{},isShowDialog:!1,confirmFormTitle:this.$t("contract.addMinusEnsure"),marginErrorText:null,marginErrorFlag:!1,marginValue:"",marginReviseType:"Add",sumbitFla:!0,limitPriceObj:{},currenSymboltDataName:null,currenSymboltDataId:null,dataList:[]}},watch:{orderData:function(t){t&&(0===this.orderType&&t.positionCount>0||1===this.orderType&&t.orderCount>0?this.timer=2e3:this.timer=7e3,this.tableLoading=!1,0===this.orderType?t&&t.positionCount?this.dataList=this.formPosition(t.positions):this.dataList=[]:t&&t.orderList&&(this.dataList=this.formData(t.orderList)))},currenSymboltDataId:function(){this.dataList=this.formPosition(this.orderData.positions)},marginValue:function(t){this.marginValue=Object(c["h"])(t,this.currentOrder.valuePrecision)},limitPriceObj:function(t){}},computed:Ot(Ot({},Object(r["b"])({coBase:function(t){var e=t.baseData;return e.coPublicInfo?e.coPublicInfo:{}}})),{},{is_more_position:function(){return this.$store.state.baseData.is_more_position},isLogin:function(){return this.$store.state.baseData.isLogin},tabTypeItem:function(){return[this.$t("contract.holding"),this.$t("contract.currentEntrust"),this.$t("contract.dayTrading"),this.$t("contract.historyEntru")]},bodyClasses:function(){return"bodyContent".concat(this.orderType," a-6-bg")},columns:function(){if(0===this.orderType){var t=[{title:this.$t("contract.co"),width:"120px"},{title:this.$t("contract.nowList3"),width:"100px"},{title:this.$t("contract.nowList7"),width:"8%"},{title:this.$t("contract.nowList13"),width:"10%"},{title:this.$t("contract.nowList14"),width:"10%"},{title:this.$t("contract.nowList15"),width:"10%"},{title:"".concat(this.$t("contract.nowList16"),"(").concat(this.$t("contract.nowList18"),"%)"),width:"10%"},{title:this.$t("contract.nowList17"),width:"8%"},{title:this.$t("contract.nowList19"),width:"8%"},{title:this.$t("contract.nowList11"),width:"100px"}];return 1===this.is_more_position&&t.unshift({title:this.$t("contract.accounttId"),width:"100px"}),t}return 1===this.orderType?[{title:this.$t("contract.nowList1"),width:"120px"},{title:this.$t("contract.co"),width:"150px",classes:"left-text"},{title:this.$t("contract.nowList3"),width:"9%"},{title:this.$t("contract.nowList4"),width:"9%"},{title:this.$t("contract.nowList5"),width:"9%"},{title:this.$t("contract.nowList6"),width:"9%"},{title:this.$t("contract.nowList7"),width:"9%"},{title:this.$t("contract.nowList8"),width:"9%"},{title:this.$t("contract.nowList9"),width:"9%"},{title:this.$t("contract.nowList10"),width:"9%"},{title:this.$t("trade.opera"),width:"100px",classes:"opera"}]:2===this.orderType?[{title:this.$t("contract.nowList1"),width:"10%"},{title:this.$t("contract.co"),width:"10%",classes:"left-text"},{title:this.$t("contract.nowList3"),width:"8%"},{title:this.$t("contract.nowList12"),width:"13%"},{title:this.$t("contract.nowList5"),width:"10%"},{title:this.$t("contract.nowList6"),width:"10%"},{title:this.$t("contract.nowList7"),width:"10%"},{title:this.$t("contract.nowList8"),width:"13%"},{title:this.$t("contract.nowList9"),width:"8%"},{title:this.$t("contract.nowList20"),width:"8%"}]:[{title:this.$t("contract.nowList1"),width:"10%"},{title:this.$t("contract.co"),width:"12%",classes:"left-text"},{title:this.$t("contract.nowList3"),width:"10%"},{title:this.$t("contract.nowList4"),width:"15%"},{title:this.$t("contract.nowList5"),width:"13%"},{title:this.$t("contract.nowList8"),width:"15%"},{title:this.$t("contract.nowList9"),width:"13%"},{title:this.$t("contract.nowList10"),width:"12%"}]},marginPromptText:function(){return"Add"===this.marginReviseType?this.$t("contract.addEnsureNumbere"):this.$t("contract.minusEnsureNumbere")},confirmDisabled:function(){return!(this.marginValue&&this.marginValue>0)},orderData:function(){return this.$store.state.coOrderList?this.$store.state.coOrderList.coOrderData:null}}),methods:{init:function(){var t=this;this.getData(),this.$bus.$on("SYMBOL_CURRENT",(function(e){t.marketCurrent=e,1!==t.is_more_position&&(t.pagination.page=1,t.tableLoading=!0,t.getData())})),this.$bus.$on("ON_SYMBOL_SWITCH",(function(e){t.symbolCurrent=e})),this.$bus.$on("ON_MARKET_SWITCH",(function(){t.currenSymboltDataId=null})),this.$bus.$on("ORDER_CREATE",(function(){t.pagination.page=1,t.getData()})),this.intervalGet()},switchType:function(t){this.tableLoading=!0,this.orderType=t,this.pagination.page=1,this.getData()},intervalGet:function(){var t=this;clearInterval(this.getDataInter),this.getDataInter=setInterval((function(){t.getData(!0)}),this.timer)},formData:function(t){var e=this,s=t||[],i=[];return s.length?(s.forEach((function(t,s){if(s<80){var a={};1===e.orderType&&e.cancelOrderId!==t.orderId&&(a={id:t.orderId,data:[[{text:Object(c["k"])(t.ctimeStr),classes:"ctimeStr"}],[{type:"html",text:e.contractName(t),classes:"left-text"}],[{text:"BUY"===t.side?"+".concat(t.volume):"-".concat(t.volume),classes:"BUY"===t.side?"u-1-cl":"u-4-cl"}],e.setPrice(t),t.dealVolume,t.undealVolume,Object(c["f"])(t.orderPriceValue,t.pricePrecision),Object(c["f"])(t.avgPrice,t.pricePrecision),1===t.type?e.$t("contract.infoOrder"):e.$t("contract.marketOrder"),e.status(t.status),[{type:"button",text:e.$t("contract.cancel"),eventType:"cancel",classes:2===t.type?"marketPriceOrder":""}]]}),2===e.orderType&&(a={id:t.orderId,data:[[{text:Object(c["k"])(t.ctimeStr),classes:"ctimeStr"}],[{type:"html",text:e.contractName(t),classes:"left-text"}],[{text:"BUY"===t.side?"+".concat(t.volume):"-".concat(t.volume),classes:"BUY"===t.side?"u-1-cl":"u-4-cl"}],e.setPrice(t),t.dealVolume,t.undealVolume,Object(c["f"])(t.orderPriceValue,t.pricePrecision),Object(c["f"])(t.avgPrice,t.pricePrecision),1===t.type?e.$t("contract.infoOrder"):e.$t("contract.marketOrder"),t.orderId]}),3===e.orderType&&(a={id:t.orderId,data:[[{text:Object(c["k"])(t.ctimeStr),classes:"ctimeStr"}],[{type:"html",text:e.contractName(t),classes:"left-text"}],[{text:"BUY"===t.side?"+".concat(t.volume):"-".concat(t.volume),classes:"BUY"===t.side?"u-1-cl":"u-4-cl"}],e.setPrice(t),t.dealVolume,Object(c["f"])(t.avgPrice,t.pricePrecision),1===t.type?e.$t("contract.infoOrder"):e.$t("contract.marketOrder"),e.status(t.status)]}),e.cancelOrderId!==t.orderId&&i.push(a)}})),i):[]},formPosition:function(t){var e=this,s=t||[],i=[];return s.length?(1!==this.is_more_position&&this.$bus.$emit("CO_CURRENT_TODER_DATA",null),s.forEach((function(t){if((e.marketCurrent||c["u"].get("coNowSymbol"))===t.symbol&&1!==e.is_more_position&&e.$bus.$emit("CO_CURRENT_TODER_DATA",t),e.cancelOrderId!==t.orderId){var s=[[{type:"html",text:e.contractName(t)}],[{text:"BUY"===t.side?"+".concat(t.volume):"-".concat(t.volume),classes:"BUY"===t.side?"u-1-cl":"u-4-cl"}],Object(c["f"])(t.priceValue,t.valuePrecision),Object(c["f"])(t.avgPrice,t.pricePrecision),Object(c["f"])(t.indexPrice,t.pricePrecision),Object(c["f"])(t.liquidationPrice,t.pricePrecision),[{type:"html",text:e.unrealisedAmount(t)}],[{type:"html",text:e.realisedAmoun(t)}],[{type:"button",text:"".concat(Object(c["f"])(t.assignedMargin,t.valuePrecision),"(").concat(t.leverageLevel,"x)"),eventType:"margin",classes:"margin"}],e.handleElement(t)];1===e.is_more_position&&s.unshift(t.id);var a={id:t.id,classes:e.currenSymboltDataId===t.id?"a-21-bg":"",data:s};i.push(a)}})),i):[]},handleElement:function(t){var e=[];return 1===this.is_more_position&&(e.push({type:"input",text:this.limitPriceObj[t.id],classes:"a-3-bd b-1-cl",eventType:"inputValueChane"}),e.push({type:"button",text:this.$t("contract.limitPrice"),eventType:"closeTwo"})),e.push({type:"button",text:this.$t("contract.closePrice"),eventType:"close"}),e},setPrice:function(t){return 2===t.type?this.$t("contract.marketPrice"):Object(c["f"])(t.price,t.pricePrecision)},unrealisedAmount:function(t){var e='<div class="hover">\n        <span class="hover_hide">\n          '.concat(Object(c["f"])(t.unrealisedAmountIndex,t.valuePrecision),"\n          ").concat(t.bond,"\n          (").concat(Object(c["f"])(t.unrealisedRateIndex,2),')\n        </span>\n        <span class="hover_show">\n          ').concat(Object(c["f"])(t.unrealisedAmountMarket,t.valuePrecision),"\n          ").concat(t.bond,"\n          (").concat(Object(c["f"])(t.unrealisedRateMarket,2),")\n        </span>\n      </div>");return e},realisedAmoun:function(t){var e='<div class="hover">\n        <span class="hover_hide">\n          '.concat(Object(c["f"])(t.realisedAmountCurr,t.valuePrecision),"\n          ").concat(t.bond,'\n        </span>\n        <span class="hover_show">\n          ').concat(Object(c["f"])(t.realisedAmountHistory,t.valuePrecision),"\n          ").concat(t.bond,"\n        </span>\n      </div>");return e},contractName:function(t){var e=t.symbol.split("_")[1]?t.symbol.split("_")[1]:t.symbol,s=this.setSymbolName(t.contractType),i=t.settleTime?t.settleTime.split(" ")[0].split("-"):"",a=0===t.contractType?"":" · ".concat(i[1]).concat(i[2]),n=t.leverageLevel;return"<p>".concat(e,"</p><p>").concat(s).concat(a," (").concat(n,"X)</p>")},setSymbolName:function(t){switch(t){case 0:return this.$t("contract.contractType1");case 1:return this.$t("contract.contractType2");case 2:return this.$t("contract.contractType3");case 3:return this.$t("contract.contractType4");default:return this.$t("contract.contractType5")}},status:function(t){switch(t){case 0:return this.$t("contract.status1");case 1:return this.$t("contract.status1");case 2:return this.$t("contract.status2");case 3:return this.$t("contract.status3");case 4:return this.$t("contract.status4");case 5:return this.$t("contract.status5");case 6:return this.$t("contract.status6");case 7:return this.$t("contract.status7");default:return""}},getData:function(t){var e=this.$store.state.url.contract.user_position;0!==this.orderType&&(e=this.$store.state.url.contract.order_list);var s={url:e,params:{pageSize:this.pagination.pageSize}};0!==this.orderType&&(s.params.order_type=this.orderType),t&&(s.auto=!0),this.isLogin?this.$store.dispatch("getCoOrderListData",s):this.tableLoading=!1},elementClick:function(t,e){var s=this;if("margin"===t&&(this.orderData.positions.forEach((function(t){e===t.id&&(s.currentOrder=t)})),this.isShowDialog=!0),"close"===t&&this.orderData.positions.forEach((function(t){e===t.id&&s.close(t)})),"closeTwo"===t&&(this.limitPriceObj[e]?this.orderData.positions.forEach((function(t){if(e===t.id){var i=t;i.indexPrice=s.limitPriceObj[e],i.orderType=1,s.close(i)}})):this.$bus.$emit("tip",{text:this.$t("contract.pleprice"),type:"error"})),"inputValueChane"===t){var i=Object.keys(e),a=4;this.orderData.positions.forEach((function(t){Number(t.id)===Number(i[0])&&(a=t.pricePrecision)})),this.limitPriceObj[i[0]]=Object(c["h"])(e[i[0]],a),this.formPosition(this.orderData.positions)}"cancel"===t&&this.orderData.orderList.forEach((function(t){e===t.orderId&&s.cancelOrder(t)}))},lineClickEveent:function(t){var e=this;1===this.is_more_position&&this.orderData.positions.forEach((function(s){Number(s.id)===t.id&&(e.currenSymboltDataName=s.symbol,e.currenSymboltDataId=s.id,e.$bus.$emit("CO_CURRENT_TODER_DATA",s),e.symbolCurrent!==s.series&&(e.symbolCurrent=s.series,e.$bus.$emit("ON_MARKET_SWITCH_ORDER",s.series)),e.marketCurrent!==s.symbol&&(e.marketCurrent=s.symbol,e.$bus.$emit("ON_SYMBOL_SWITCH",s.symbol)))}))},close:function(t){var e=this,s={};s={contractId:t.contractId,volume:t.volume,price:t.indexPrice,orderType:t.orderType||2,side:"BUY"===t.side?"SELL":"BUY",level:t.leverageLevel,closeType:1,copType:2,positionId:t.id},this.cancelFla&&(this.cancelFla=!1,this.axios({url:this.$store.state.url.contract.take_order,hostType:"co",params:s}).then((function(s){"0"===s.code?(e.cancelOrderId=t.id,e.limitPriceObj={},e.getData(),e.$bus.$emit("GET_INIT_DATA",!0),e.$bus.$emit("tip",{text:e.$t("contract.c_success"),type:"success"}),e.cancelFla=!0):(e.cancelFla=!0,e.$bus.$emit("tip",{text:s.msg,type:"error"}))})).catch((function(){e.cancelFla=!0})))},cancelOrder:function(t){var e=this,s={};s={contractId:t.contractId,orderId:t.orderId},this.cancelFla&&this.cancelOrderId!==t.orderId&&(this.cancelOrderId=t.orderId,this.cancelFla=!1,this.axios({url:this.$store.state.url.contract.cancel_order,hostType:"co",params:s}).then((function(t){"0"===t.code?(e.getData(),e.$bus.$emit("GET_INIT_DATA",!0),e.$bus.$emit("tip",{text:e.$t("contract.cancel_success"),type:"success"}),e.cancelFla=!0):(e.cancelFla=!0,e.$bus.$emit("tip",{text:t.msg,type:"error"}))})).catch((function(){e.cancelFla=!0})))},setReviseType:function(t){this.marginReviseType=t},inputChanges:function(t,e){this[e]=t},dialogConfirm:function(){var t=this;if(this.sumbitFla){this.sumbitFla=!1;var e={contractId:this.currentOrder.contractId,positionId:this.currentOrder.id,amount:"Add"===this.marginReviseType?this.marginValue:"-".concat(this.marginValue)};this.axios({url:this.$store.state.url.contract.transfer_margin,hostType:"co",params:e}).then((function(e){t.sumbitFla=!0,"0"===e.code?(t.getData(),t.isShowDialog=!1,t.marginValue="",t.$bus.$emit("GET_INIT_DATA",!0),t.$bus.$emit("tip",{text:"".concat(t.marginPromptText).concat(t.$t("contract.success")),type:"success"})):(t.isShowDialog=!1,t.$bus.$emit("tip",{text:e.msg,type:"error"}))})).catch((function(){t.sumbitFla=!0,t.isShowDialog=!1,t.$bus.$emit("tip",{text:t.$t("contract.c_error"),type:"error"})}))}},pagechange:function(t){this.pagination.page=t,this.getData()},dialogClose:function(){this.marginValue="",this.marginReviseType="Add",this.isShowDialog=!1}}},Lt=(s("f164"),{mixins:[wt],mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.getDataInter)}}),kt=Lt,xt=Object(C["a"])(kt,$t,Tt,!1,null,null,null),St=xt.exports,Pt={mixins:[h],components:{Market:$,currentSymbol:x,Depth:X,tradingView:J["a"],tradeForm:_t,orderList:St},mounted:function(){this.init()}},It=Pt,Nt=Object(C["a"])(It,i,a,!1,null,null,null);e["default"]=Nt.exports},"746f":function(t,e,s){},"7f02":function(t,e,s){},ad36:function(t,e,s){},c2d5:function(t,e,s){},f164:function(t,e,s){},fce7:function(t,e,s){}}]);