(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45443b22"],{"050e":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("section",{staticClass:"v5-page-mnfait"},[s("div",{staticClass:"mnfait-form v5-10-bg"},[s("header",{staticClass:"mnfait-header v5-5-cl"},[s("svg",{staticClass:"icon icon-20",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[s("use",{attrs:{"xlink:href":"#icon-v5_36"}})]),s("span",[s("div",{staticClass:"tab-left v5-9-bg v5-5-cl"},[s("div",{staticClass:"tab-left-buy",class:{"v5-2-bg":"recharge"===this.nowType,colorWhite:"recharge"===this.nowType},on:{click:function(s){return t.changeType("recharge")}}},[t._v(t._s(t.$t("newOtc.text88")))]),s("div",{staticClass:"tab-left-sell",class:{"v5-3-bg":"withdraw"===this.nowType,colorWhite:"withdraw"===this.nowType},on:{click:function(s){return t.changeType("withdraw")}}},[t._v(t._s(t.$t("newOtc.text89")))])])])])]),s("div",{staticClass:"mnfait-box"},["recharge"===t.nowType?s("mnRecharge"):t._e(),"withdraw"===t.nowType?s("mnWithdraw"):t._e()],1)])},i=[],o=e("95d5"),n={name:"page-neotc",data:function(){return{imgMap:o["s"],colorMap:o["b"],nowType:"recharge"}},computed:{publicInfo:function(){return this.$store.state.baseData.publicInfo},userInfo:function(){return this.$store.state.baseData.userInfo}},watch:{},methods:{init:function(){this.$route.query.type&&(this.nowType=this.$route.query.type)},goBack:function(){this.$router.back()},changeType:function(t){this.nowType=t}}},r=(e("60f1"),function(){var t=this,s=t._self._c;return s("section",{staticClass:"v5-page-mnRecharge"},[s("div",{staticClass:"mnRecharge-details clearfix v5-10-bg"},[s("div",{staticClass:"details-left"},[s("c-v5-select",{attrs:{width:"340px",name:"symbol",imgMap:t.imgMap,promptText:t.$t("assets.otcAccount.coin"),options:t.rechargeCoinList,filterable:!0,value:t.symbol},on:{onChanges:t.selectChange}}),s("div",{staticClass:"numberList clearfix"},[s("ul",{staticClass:"numberList-key v5-5-cl"},[t.isInr?s("li",[t._v(t._s(t.$t("assets.recharge.lumpSum")))]):s("li",[t._v(t._s(t.$t("assets.recharge.quota")))])]),s("ul",{staticClass:"numberList-value v5-5-cl"},[s("li",[t._v(t._s(t._f("fixDFn")(t.quota,t.that)))])])]),t.rechargeRemark?s("div",{staticClass:"details-warking b-7-cl clearfix"},[s("span",{staticClass:"wicon"},[s("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-c_2"}})])]),s("span",{staticClass:"text"},[t._v("\n          "+t._s(t.rechargeRemark)+"\n        ")])]):t._e(),!t.isInr&&t.symbolType?s("div",{staticClass:"my-message v5-9-bg"},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("assets.recharge.myInfo")))]),s("input",{ref:"myInfo",staticClass:"v5-5-cl",attrs:{readonly:""},domProps:{value:t.myInfo}}),s("span",{staticClass:"copy",on:{click:function(s){return t.copy("myInfo")}}},[s("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_7"}})])])]):t._e()],1),s("div",{staticClass:"cut-line v5-12-bg"}),s("div",{staticClass:"details-right"},[!t.isInr&&t.symbolType?s("div",{staticClass:"select-bank"},[s("c-v5-select",{attrs:{promptText:t.$t("assets.recharge.selectBank"),type:"img",width:"100%",value:t.bank,options:t.bankList},on:{onChanges:t.bankChange}})],1):t._e(),t.bankInfo&&!t.isInr?s("ul",{staticClass:"company-info"},[s("li",{staticClass:"company-name v5-9-bg v5-5-cl"},[s("input",{ref:"companyName",staticClass:"v5-5-cl",attrs:{readonly:"",type:"text"},domProps:{value:t.bankInfo.bankAccount}}),s("span",{staticClass:"copy",on:{click:function(s){return t.copy("companyName")}}},[s("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_7"}})])])]),s("li",{staticClass:"company-id v5-9-bg v5-5-cl"},[s("input",{ref:"companyId",staticClass:"v5-5-cl",attrs:{readonly:"",type:"text"},domProps:{value:t.bankInfo.bankCardNumber}}),s("span",{staticClass:"copy",on:{click:function(s){return t.copy("companyId")}}},[s("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_7"}})])])])]):t._e(),t.isInr?s("div",{staticClass:"recharge-way"},[s("div",{staticClass:"v5-5-cl way-title"},[t._v(t._s(t.$t("assets.recharge.selectRechargeWay")))]),s("ul",{staticClass:"way-list"},t._l(t.typeList,(function(e,a){return s("li",{key:a,staticClass:"way-item",class:{"u-16-cl v5-1-bg":e.thirdPayType===t.activeInrType,"v5-9-bg":e.thirdPayType!==t.activeInrType,"v5-5-cl":e.thirdPayType===t.typeHover&&e.thirdPayType!==t.activeInrType,"v5-6-cl ":e.thirdPayType!==t.typeHover&&e.thirdPayType!==t.activeInrType},on:{mouseover:function(s){t.typeHover=e.thirdPayType},mouseout:function(s){t.typeHover=null},click:function(s){return t.setActiveType(e)}}},[t._v("\n            "+t._s(e.thirdPayTypeName)+"\n          ")])})),0)]):t._e(),s("div",{staticClass:"recharge-amount"},[s("c-v5-input",{attrs:{name:"amount",width:"100%",promptText:t.$t("assets.recharge.RechargeVolume"),placeholder:t.rechargeAmoutPlaceholder,value:t.amount,errorFlag:t.amountErrorFlag,errorText:t.amountErrorText},on:{onChanges:t.inputChange}})],1),s("div",{staticClass:"recharge-fee"},[t.isFeeShow?s("c-v5-input",{attrs:{name:"fee",width:"100%",promptText:t.$t("assets.withdraw.fee"),value:t.fee,readonly:!0}}):t._e()],1),s("c-v5-button",{attrs:{width:"100%",marginTop:"35px",height:"40px",disabled:t.btnDisabled},on:{click:t.confirm}},[t._v(t._s(t.$t("assets.recharge.confirm")))])],1)]),s("div",{staticClass:"faitRechargeRecord v5-5-cl v5-10-bg"},[s("div",{staticClass:"faitRechargeRecord-title v5-12-bd"},[s("span",{staticClass:"title-text"},[t._v("\n        "+t._s(t.$t("assets.recharge.RecentRechargeRecord"))+"\n        "),s("span",{staticClass:"title-line v5-1-bg"})])]),s("div",{staticClass:"mnRecharge-table v5-10-bg"},[s("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList,classes:"v5-10-bg v5-table",lineClassesHover:"v5-9-bg",lineClasses:"v5-12-bd",cellHeight:60,headHeight:0},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?s("c-v5-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)]),s("c-alert",{attrs:{showFlag:t.alertFlag,paddingBottom:"14px",imgMap:t.imgMap,colorMap:t.colorMap,titleText:t.$t("personal.leaglTenderSet.dlalogText")},on:{close:t.alertClose,confirm:t.confirmRecharge}},[t._v("\n    "+t._s(t.$t("assets.recharge.rechargeTip"))+"\n  ")]),s("c-v5-popup",{attrs:{showFlag:t.isShowInfoDialog,titleText:t.infoDialogTitle,closeText:t.dialogCloseText,confirmText:t.dialogConfirmText,showCancel:!!t.dialogCloseText,paddingBottom:"24px",paddingTop:"0",confirmDisabled:t.dialogConfirmDisabled},on:{close:t.dialogClose,cancel:t.dialogCancel,confirm:t.dialogConfirm}},[s("div",{staticClass:"order-status",class:t.orderStatusText.class},[t.orderStatusText.icon?s("img",{attrs:{src:t.orderStatusText.icon,alt:""}}):t._e(),t._v("\n      "+t._s(t.orderStatusText.title)+"\n    ")]),t.orderInfo?s("ul",{staticClass:"order-detail"},t._l(t.orderDetailRow,(function(e,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:a,staticClass:"detail-item v5-9-bg"},[s("span",{staticClass:"detail-key v5-6-cl"},[t._v(t._s(e.title))]),s("span",{staticClass:"detail-value v5-5-cl"},["ctime"===e.key?s("span",{staticClass:"text"},[t._v(t._s(t._f("formatTime")(t.orderInfo.ctime)))]):s("input",{ref:e.key,refInFor:!0,staticClass:"text v5-5-cl",attrs:{type:"text",readonly:""},domProps:{value:t.orderInfo[e.key]}}),e.hasSymbol?s("span",[t._v(t._s(t.orderInfo.symbolName))]):t._e(),e.copy?s("i",{staticClass:"copy",on:{click:function(s){return t.copy(e.key)}}},[s("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_7"}})])]):t._e()])])})),0):t._e(),0!==t.orderStatus||t.isInr?t._e():s("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.$t("assets.recharge.orderTip"))+"\n    ")]),3===t.orderStatus?s("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.orderInfo.checkDesc)+"\n    ")]):t._e()]),s("c-v5-dialog",{attrs:{showFlag:t.isShowDialog,paddingBottom:"40px",paddingTop:"40px",haveOption:2===t.inrStatus||3===t.inrStatus,showCancel:!1,confirmText:t.$t("components.alert.buttonText"),titleText:t.$t("assets.b2c.warning")},on:{close:t.closePayInfoDialog,confirm:t.closePayInfoDialog}},[s("div",{staticClass:"thirdPay-info"},[s("img",{attrs:{src:t.thirdPayInfo.icon,alt:""}}),s("h3",{staticClass:"b-1-cl pay-statusText"},[t._v(t._s(t.thirdPayInfo.statusText))]),s("p",{staticClass:"pay-tip b-2-cl"},[t._v(t._s(t.thirdPayInfo.payTip))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"assets-loading"},[s("c-loading",{attrs:{size:"50"}})],1)],1)}),c=[],h=(e("8e6e"),e("28a5"),e("768b")),l=e("bd86");e("a481"),e("6b54"),e("55dd"),e("456d"),e("ac6a"),e("c5f6");function u(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function d(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?u(Object(e),!0).forEach((function(s){Object(l["a"])(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var g={name:"page-recharge",data:function(){return{inrStatus:2,id:null,haveOption:!1,isShowDialog:!1,symbolType:null,thirdDepositConfigList:{},tabelLoading:!0,alertFlag:!1,imgMap:o["s"],colorMap:o["b"],tabelList:[],symbol:"",rechargeCoinList:[],paginationObj:{total:0,display:10,currentPage:1},bank:"",bankList:[],bankInfo:null,isShowInfoDialog:!1,rechargeRemark:"",amount:"",fee:"",orderInfo:null,orderStatus:0,rechargeList:[],feeRate:0,typeList:[],activeInrType:null,typeHover:null,timer:null,loading:!1,amountErrorFlag:!1,amountErrorText:""}},computed:{userInfo:function(){return this.$store.state.baseData.userInfo},showSymbol:function(){var t=this.symbol;return this.market&&this.market.coinList&&this.market.coinList[this.symbol]&&(t=Object(o["l"])(this.symbol,this.market.coinList)),t},exchangeData:function(){return this.$store.state.assets.exchangeData},quota:function(){if(this.exchangeData&&this.symbol){var t=this.exchangeData.allCoinMap[this.symbol];return t.total_balance}return""},showPrecision:function(){var t=0,s=this.$store.state.baseData.market;return s&&s.coinList&&s.coinList[this.symbol]&&(t=s.coinList[this.symbol].showPrecision),t},market:function(){return this.$store.state.baseData.market||{}},columns:function(){return this.isInr?[{title:this.$t("assets.recharge.RechargeCoin"),width:"15%"},{title:this.$t("assets.recharge.RechargeTime"),width:"15%",align:"left"},{title:this.$t("assets.recharge.RechargeVolume"),width:"15%",align:"left"},{title:this.$t("assets.withdraw.fee"),width:"15%",align:"left"},{title:this.$t("assets.recharge.RechargeStatus"),width:"15%",align:"left"},{title:this.$t("assets.recharge.rechargeWay"),width:"10%",align:"left"},{title:this.$t("assets.recharge.operate"),width:"15%"}]:[{title:this.$t("assets.recharge.RechargeTime"),width:"20%"},{title:this.$t("assets.recharge.RechargeCoin"),width:"20%",align:"left"},{title:this.$t("assets.recharge.RechargeVolume"),width:"20%",align:"left"},{title:this.$t("assets.recharge.RechargeStatus"),width:"20%",align:"left"},{title:this.$t("assets.recharge.operate"),width:"20%"}]},btnDisabled:function(){var t=!0;return!this.isInr&&this.bank&&this.amount&&Number(this.amount)?(t=!1,t):(this.amount&&Number(this.amount)&&!this.amountErrorFlag&&(t=!1),t)},infoDialogTitle:function(){return 0!==this.orderStatus||this.isInr?this.$t("assets.recharge.orderDetai"):this.$t("assets.recharge.rechargeStatus1")},dialogConfirmDisabled:function(){return!1},orderStatusText:function(){return 0===this.orderStatus?this.isInr?{class:"b-7-cl",title:this.$t("assets.recharge.status1"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:{class:"b-7-cl",title:this.$t("assets.recharge.orderStatus1"),icon:""}:1===this.orderStatus?this.isInr?{class:"b-7-cl",title:this.$t("assets.recharge.status2"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:{class:"b-7-cl",title:this.$t("assets.recharge.orderStatus2"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:2===this.orderStatus?this.isInr?{class:"b-5-cl",title:this.$t("assets.recharge.status3"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101012958.svg"}:{class:"b-5-cl",title:this.$t("assets.recharge.orderStatus3"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101012958.svg"}:3===this.orderStatus?this.isInr?{class:"b-6-cl",title:this.$t("assets.recharge.status4"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100958533.svg"}:{class:"b-6-cl",title:this.$t("assets.recharge.orderStatus4"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100958533.svg"}:4===this.orderStatus?{class:"b-2-cl",title:this.$t("assets.recharge.orderStatus5"),icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100930964.svg"}:{class:"",title:""}},orderDetailRow:function(){var t=[{title:this.$t("assets.recharge.RechargeVolume"),key:"amount",copy:!1,show:!0,hasSymbol:!0},{title:this.$t("assets.withdraw.fee"),key:"fee",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.settledAmount"),key:"settledAmount",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.orderId"),key:"sequence",copy:!0,show:!0}];return this.isInr?t.push({title:this.$t("assets.recharge.rechargeWay"),key:"depositSymbolTypeName",copy:!0,show:!0},{title:this.$t("assets.recharge.date"),key:"ctime",copy:!1,show:!0}):t.push({title:this.$t("assets.recharge.payee"),key:"bankAccount",copy:0===this.orderStatus,show:!0},{title:this.$t("assets.recharge.bankAccountNum"),key:"bankCardNumber",copy:0===this.orderStatus,show:!0},{title:this.$t("assets.recharge.bankName"),key:"bankNameShow",copy:!1,show:!0},{title:this.$t("assets.recharge.date"),key:"ctime",copy:!1,show:!0}),0!==this.orderStatus||this.isInr||t.push({title:this.$t("assets.recharge.myInfo"),key:"remark",copy:!0,show:!0}),t},myInfo:function(){if(this.userInfo){var t="";return this.userInfo.mobileNumber?t="".concat(this.userInfo.countryCode," ").concat(this.userInfo.mobileNumber):this.userInfo.email&&(t=this.userInfo.email),"".concat(t,"&").concat(this.userInfo.id)}return""},dialogConfirmText:function(){return 0===this.orderStatus?this.isInr?this.$t("assets.recharge.toPay"):this.$t("assets.recharge.confirmRecharge"):this.$t("common.close")},dialogCloseText:function(){return 0!==this.orderStatus||this.isInr?"":this.$t("assets.recharge.cancelOrder")},that:function(){return this},isShowFeeInDetail:function(){return this.orderInfo&&this.orderInfo.fee>0},isFeeShow:function(){return this.feeRate>0&&this.fee>0},coinList:function(){return this.market&&this.market.coinList||null},rechargeAmoutPlaceholder:function(){if(this.isInr){var t=this.thirdDepositConfigList,s=t.thirdDepositMin,e=t.thirdDepositMax;return this.$t("assets.recharge.amoutTip",{limit:"(".concat(s,"-").concat(e," ").concat(this.symbol,")")})}return this.$t("assets.recharge.RechargeVolume")},isInr:function(){return 3===this.symbolType||4===this.symbolType},thirdPayInfo:function(){return 0===this.inrStatus?{icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20220621173443188.svg",statusText:this.$t("assets.recharge.status1"),payTip:this.$t("assets.recharge.statusTip1")}:1===this.inrStatus?{icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20220621173443188.svg",statusText:this.$t("assets.recharge.status2"),payTip:this.$t("assets.recharge.statusTip2")}:2===this.inrStatus?{icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20220621173847037.svg",statusText:this.$t("assets.recharge.status3"),payTip:this.$t("assets.recharge.statusTip3")}:3===this.inrStatus?{icon:"https://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20220621173900738.svg",statusText:this.$t("assets.recharge.status4"),payTip:this.$t("assets.recharge.statusTip4")}:{}}},filters:{formatTime:function(t){return t?Object(o["k"])(t):t},fixDFn:function(t,s){return Object(o["f"])(t,s.showPrecision)}},watch:{inrStatus:function(t){this.haveOption=0!==t&&1!==t},exchangeData:function(t){t&&this.market&&this.coinList&&this.setRechargeCoinList()},market:function(t){t&&this.exchangeData&&this.coinList&&this.setRechargeCoinList()},coinList:function(t){t&&this.exchangeData&&this.market&&this.setRechargeCoinList()},amount:function(t){this.amount=Object(o["h"])(t,this.showPrecision)},symbol:function(t){t&&(this.getBankList(),this.getFeeRate(),this.getRechargeList())}},destroyed:function(){clearInterval(this.timer),this.timer=null},methods:{init:function(){this.exchangeData||this.$store.dispatch("assetsExchangeData"),this.exchangeData&&this.market&&this.coinList&&this.setRechargeCoinList(),this.getRechargeList()},selectChange:function(t,s){this[s]=t.code},setRechargeCoinList:function(){var t=this;if(!this.rechargeCoinList.length){var s=this.exchangeData.allCoinMap,e=[];Object.keys(s).forEach((function(a){var i=t.coinList,n=i[a]&&i[a].showPrecision||0,r=Object(o["l"])(a,i);s[a]&&s[a].depositOpen&&s[a].isFiat&&e.push({img:i[a]?i[a].icon:"",code:a,value:r,subValue:i[a]?i[a].longName:"",sort:s[a].normal_balance,label:t.thousands(Object(o["f"])(s[a].normal_balance,n))})})),e.sort((function(t,s){return s.sort-t.sort})),this.rechargeCoinList=[].concat(e),this.$route.query.symbol?this.symbol=this.$route.query.symbol.toUpperCase():this.rechargeCoinList.length?this.symbol=this.rechargeCoinList[0].code:this.$router.push("/assets/exchangeAccount")}},thousands:function(t){if(t&&parseFloat(t)){var s=t.toString(),e=s.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return s.replace(e,"$1,")}return t},alertClose:function(){this.alertFlag=!1},confirmRecharge:function(){var t=this;this.alertClose(),this.axios({url:"fiat/do_deposit",params:{symbol:this.symbol,fee:this.fee,amount:this.amount,bankName:this.bankInfo.bankName,bankCardNumber:this.bankInfo.bankCardNumber,bankAccount:this.bankInfo.bankAccount,companyCardId:this.bankInfo.id,remark:this.myInfo}}).then((function(s){var e=s.code,a=s.data,i=s.msg;"0"===e.toString()?(t.orderStatus=a.status,t.orderInfo=d({},a),t.getRechargeList(),t.isShowInfoDialog=!0):t.$bus.$emit("tip",{text:i,type:"error"})}))},copy:function(t){var s=this.$refs[t],e=null;if(s.length){var a=Object(h["a"])(s,1);e=a[0]}else e=s;e.select(),document.execCommand("copy"),this.$bus.$emit("tip",{text:this.$t("personal.prompt.copySucces"),type:"success"})},pagechange:function(t){this.paginationObj.currentPage=t,this.getRechargeList()},fixStatus:function(t,s){return 3===s?0===t?this.$t("assets.recharge.status1"):1===t?this.$t("assets.recharge.status2"):2===t?this.$t("assets.recharge.status3"):3===t?this.$t("assets.recharge.status4"):"":0===t?this.$t("assets.recharge.orderStatus1"):1===t?this.$t("assets.recharge.inrStatus"):2===t?this.$t("assets.recharge.orderStatus3"):3===t?this.$t("assets.recharge.orderStatus4"):4===t?this.$t("assets.recharge.orderStatus5"):""},getFeeRate:function(){var t=this;this.axios({url:"fiat/fiat_symbol_info",params:{fiatSymbol:this.symbol}}).then((function(s){var e=s.code,a=s.data,i=s.msg;if("0"===e.toString()){if(a.list&&a.list.length&&(t.feeRate=a.list[0].depositFeeRate,t.symbolType=Number(a.list[0].symbolType),(3===t.symbolType||4===t.symbolType)&&(t.typeList=a.list[0].thirdDepositConfigList,!t.activeInrType&&t.typeList.length))){t.activeInrType=t.typeList[0].thirdPayType;var o=Object(h["a"])(t.typeList,1);t.thirdDepositConfigList=o[0]}}else t.$bus.$emit("tip",{text:i,type:"error"})}))},getRechargeStatus:function(){var t=this;this.axios({url:"fiat/deposit_list",params:{id:this.id,symbol:this.symbol}}).then((function(s){var e=s.code,a=s.data,i=s.msg;"0"===e.toString()?a.list&&a.list.length&&(t.isShowDialog=!0,t.inrStatus=a.list[0].status):t.$bus.$emit("tip",{text:i,type:"error"})}))},closePayInfoDialog:function(){clearInterval(this.timer),this.timer=null,this.isShowDialog=!1,this.getRechargeList()},getRechargeList:function(){var t=this;this.tabelLoading=!0,this.axios({url:"fiat/deposit_list",params:{symbol:this.symbol,page:this.paginationObj.currentPage,pageSize:this.paginationObj.display}}).then((function(s){var e=s.code,a=s.data,i=s.msg;if(t.tabelLoading=!1,"0"===e.toString()){var n=[];a.list&&a.list.length&&(t.rechargeList=a.list,a.list.forEach((function(s,e){var a=t.market.coinList,i=Object(o["l"])(s.symbol,a);if(t.isInr){var r=[{text:t.$t("assets.recharge.detail"),type:"button",eventType:"detail"}];0===s.status&&r.unshift({text:t.$t("assets.recharge.toPay"),type:"button",eventType:"recharge"}),n.push({id:e,data:[i,Object(o["k"])(s.ctime),"".concat(Object(o["f"])(s.amount,t.showPrecision)," ").concat(s.symbolName),"".concat(s.fee," ").concat(s.symbolName),t.fixStatus(s.status,s.depositSymbolType),s.depositSymbolTypeName,r]})}else n.push({id:e,data:[Object(o["k"])(s.ctime),i,"".concat(Object(o["f"])(s.amount,t.showPrecision)," ").concat(s.symbolName),t.fixStatus(s.status),[{text:0===s.status?t.$t("assets.recharge.confirmRecharge"):t.$t("assets.recharge.detail"),type:"button",eventType:0===s.status?"recharge":"detail"}]]})}))),t.tabelList=n,t.paginationObj.total=a.query.count}else t.$bus.$emit("tip",{text:i,type:"error"})}))},tableClick:function(t,s){this.orderInfo=this.rechargeList[s],this.orderStatus=this.orderInfo.status,this.isShowInfoDialog=!0},getBankList:function(){var t=this;this.axios({url:"fiat/company_bank_list",params:{supportSymbols:this.symbol}}).then((function(s){var e=s.code,a=s.data,i=s.msg;if("0"===e.toString()){if(t.bankList=[],t.bank="",t.rechargeRemark="",t.bankInfo=null,a.list&&a.list.length){t.bankList=a.list.map((function(t){var s=t;return s.code=t.id,s.value=t.bankNameShow,s.img=t.logo,s}));var o=Object(h["a"])(t.bankList,1);t.bankInfo=o[0],t.bank=t.bankInfo.id,t.rechargeRemark=t.bankList[0].remark}}else t.$bus.$emit("tip",{text:i,type:"error"})}))},bankChange:function(t){this.bank=t.id,this.bankInfo=t,this.rechargeRemark=t.remark},inputChange:function(t,s){if("amount"===s){this.amount=Object(o["h"])(t,this.showPrecision);var e,a=this.thirdDepositConfigList.thirdDepositFeeRate;this.isInr?(this.verifyAmount(t),e="".concat(Number(t)*(Number(a)/100)+(Number(t)-Number(t)*(Number(a)/100))*(Number(this.feeRate)/100))):e="".concat(t*this.feeRate/100),e<.01?e=0:e.indexOf(".")>-1&&(e="".concat(e.split(".")[0],".").concat(e.split(".")[1].slice(0,2))),this.fee=e}else this[s]=t},verifyAmount:function(t){this.amountErrorFlag=!1,this.amountErrorText="";var s=this.thirdDepositConfigList,e=s.thirdDepositMin,a=s.thirdDepositMax,i=parseFloat(e)||100,o=parseFloat(a)||49999;0===t.length||0===parseFloat(t)?(this.amountErrorFlag=!0,this.amountErrorText=this.$t("assets.recharge.inputAmount")):(parseFloat(i)>t||parseFloat(o)<t)&&(this.amountErrorFlag=!0,this.amountErrorText=this.$t("assets.recharge.amoutTip",{limit:"".concat(e,"-").concat(a," ").concat(this.symbol)}))},confirm:function(){this.isInr?this.thirdtoDeposit():this.alertFlag=!0},clearValue:function(){this.amount="",this.fee=""},thirdtoDeposit:function(){var t=this;this.loading=!0,this.axios({url:"fiat/third_do_deposit",params:{type:this.activeInrType,symbol:this.symbol,amount:this.amount,fee:this.fee}}).then((function(s){var e=s.code,a=s.data,i=s.msg;t.loading=!1,"0"===e.toString()?(t.id=a.id,t.clearValue(),t.getRechargeStatus(),t.timer=setInterval((function(){t.getRechargeStatus()}),3e3),window.open(a.thirdPayUrl,"_blank")):t.$bus.$emit("tip",{text:i,type:"error"})}))},dialogClose:function(){this.isShowInfoDialog=!1},dialogCancel:function(){var t=this;0===this.orderStatus?this.axios({url:"fiat/cancel_deposit",params:{id:this.orderInfo.id}}).then((function(s){var e=s.code,a=s.msg;"0"===e.toString()?(t.$bus.$emit("tip",{text:a,type:"success"}),t.isShowInfoDialog=!1,t.getRechargeList()):t.$bus.$emit("tip",{text:a,type:"error"})})):this.isShowInfoDialog=!1},dialogConfirm:function(){var t=this;0===this.orderStatus?this.isInr?window.open(this.orderInfo.thirdPayUrl,"_blank"):this.axios({url:"fiat/deposit_confirm_pay",params:{id:this.orderInfo.id}}).then((function(s){var e=s.code,a=s.msg;"0"===e.toString()?(t.$bus.$emit("tip",{text:a,type:"success"}),t.isShowInfoDialog=!1,t.getRechargeList()):t.$bus.$emit("tip",{text:a,type:"error"})})):this.isShowInfoDialog=!1},setActiveType:function(t){this.activeInrType=t.thirdPayType,this.thirdDepositConfigList=t}}},m=(e("b42c9"),{mixins:[g],mounted:function(){this.init()}}),p=m,f=e("2877"),b=Object(f["a"])(p,r,c,!1,null,null,null),w=b.exports,y=function(){var t=this,s=t._self._c;return s("section",{staticClass:"v5-page-mnWithdraw"},[s("div",{staticClass:"mnWithdraw-details clearfix v5-10-bg"},[s("div",{staticClass:"details-left"},[s("c-v5-select",{attrs:{width:"340px",name:"symbol",imgMap:t.imgMap,promptText:t.$t("assets.otcAccount.coin"),options:t.withdrawCoinList,value:t.symbol},on:{onChanges:t.selectChange}}),s("div",{staticClass:"numberList clearfix"},[s("ul",{staticClass:"numberList-key"},[s("li",[t._v(t._s(t.$t("assets.withdraw.lumpSum")))]),s("li",[t._v(t._s(t.$t("assets.withdraw.Available")))]),s("li",[t._v(t._s(t.$t("assets.withdraw.freeze")))])]),s("ul",{staticClass:"numberList-value v5-5-cl"},t._l(t.quotaList,(function(e,a){return s("li",{key:a},[t._v("\n            "+t._s(e.value)+"\n          ")])})),0)]),s("div",{staticClass:"details-warking b-7-cl"},[s("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-c_2"}})]),s("span",[t._v(t._s(t.$t("assets.withdraw.tip")))])])],1),s("div",{staticClass:"cut-line v5-12-bg"}),s("div",{staticClass:"details-right"},[s("div",{staticClass:"select-bank"},[s("c-v5-select",{attrs:{width:"100%",promptText:t.$t("assets.recharge.selectBank"),optionType:"double",value:t.bankId,options:t.bankList},on:{onChanges:t.bankChange}}),s("div",{staticClass:"goAddress v5-1-cl",on:{click:t.goBindBankCard}},[t._v("\n          "+t._s(t.$t("assets.withdraw.bindBankCard"))+"\n        ")])],1),t.bankInfo?s("ul",{staticClass:"company-info"},[s("li",{staticClass:"company-name v5-9-bg v5-5-cl"},[t._v("\n          "+t._s(t.bankInfo.bankNameShow)+" "+t._s(t.bankInfo.bankCardNumber)+"\n        ")]),3===Number(t.symbolType)?s("li",{staticClass:"company-name v5-9-bg v5-5-cl"},[t._v("\n          IFSC: "+t._s(t.bankInfo.remark)+"\n        ")]):t._e(),3===Number(t.symbolType)?s("li",{staticClass:"company-name v5-9-bg v5-5-cl"},[t._v("\n          "+t._s(t.$t("personal.label.name"))+": "+t._s(t.bankInfo.bankAccount)+"\n        ")]):t._e()]):t._e(),s("div",{staticClass:"withdraw-amount"},[s("c-v5-input",{attrs:{name:"amount",inputType:"num",width:"100%",errorHave:!0,promptText:t.$t("assets.withdraw.NumberOfCoins"),placeholder:t.amoutPlaceholder,value:t.amount,errorFlag:t.numberOptions.error,errorText:t.numberOptions.text},on:{onChanges:t.inputChange}},[s("span",{staticClass:"allWithdraw v5-1-cl",attrs:{slot:"append"},on:{click:t.allWithDraw},slot:"append"},[t._v("\n            "+t._s(t.$t("assets.withdraw.allWithdraw"))+"\n          ")])])],1),s("div",{staticClass:"withdraw-fee"},[s("c-v5-input",{attrs:{name:"fee",width:"100%",errorHave:!0,promptText:t.feePrompt,value:t.fee,readonly:!0}})],1),s("c-v5-button",{attrs:{width:"100%",marginTop:"16px",height:"40px",disabled:t.btnDisabled},on:{click:t.withdrawClick}},[t._v(t._s(t.$t("assets.withdraw.buttonWithdraw")))])],1)]),s("div",{staticClass:"faitWithdrawRecord v5-5-cl v5-10-bg"},[s("div",{staticClass:"faitWithdrawRecord-title v5-12-bd"},[s("span",{staticClass:"title-text"},[t._v("\n        "+t._s(t.$t("assets.withdraw.RecentWithdrawalRecords"))+"\n        "),s("span",{staticClass:"title-line v5-1-bg"})])]),s("div",{staticClass:"mnWithdraw-table"},[s("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList,classes:"v5-10-bg v5-table",lineClassesHover:"v5-9-bg",lineClasses:"v5-12-bd",cellHeight:60,headHeight:0},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?s("c-v5-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)]),s("c-alert",{attrs:{showFlag:t.isShowBindCardTip,imgMap:t.imgMap,imageType:"1",buttonText:t.$t("assets.withdraw.goBind")},on:{close:function(s){t.isShowBindCardTip=!1},confirm:t.goBindBankCard}},[s("div",{staticClass:"v5-5-cl bindCardTipTitle"},[t._v("\n      "+t._s(t.$t("assets.withdraw.withdrawTip"))+"\n    ")]),s("p",{staticClass:"v5-6-cl bindCardTip"},[t._v("\n      "+t._s(t.$t("assets.withdraw.bindCardTip"))+"\n    ")])]),s("c-verifyCationc-alert",{attrs:{showFlag:t.alertFlag,imgMap:t.imgMap,titleText:t.$t("assets.withdraw.safetyWarning"),detaText:t.authTitleText,dataList:t.alertData,buttonText:t.$t("assets.withdraw.GotoOpen")},on:{close:t.alertClone,confirm:t.alertGo}}),s("c-dialog",{attrs:{showFlag:t.dialogFlag,paddingBottom:"14px",confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.$t("assets.withdraw.safetyVerification")},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[t.OpenMobile?s("c-inputLine",{attrs:{maxLength:"6",name:"smsCode",value:t.smsCode,promptText:t.$t("assets.withdraw.phoneCode"),errorHave:!0,errorFlag:t.phoneError,errorText:t.$t("assets.withdraw.phoneCodeError")},on:{onchanges:t.inputChange}},[s("c-getCode",{attrs:{name:"withdrawGetcode",voiceOpen:t.voiceSmsOpen},on:{click:t.getCodeClick}})],1):t._e(),t.OpenGoogle?s("c-inputLine",{attrs:{maxLength:"6",name:"googleCode",value:t.googleCode,promptText:t.$t("assets.withdraw.googleCode"),errorHave:!0,errorFlag:t.googleError,errorText:t.$t("assets.withdraw.googleCodeError")},on:{onchanges:t.inputChange}}):t._e()],1),s("c-alert",{attrs:{showFlag:t.notIdShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap,colorMap:t.colorMap},on:{close:t.alertClone,confirm:t.gotoAuth}},[s("div",{staticClass:"ts-content-text"},[t._v("\n      "+t._s(t.$t("personal.exccAuthForm.text19"))+"\n    ")])]),s("c-v5-popup",{attrs:{showFlag:t.isShowInfoDialog,titleText:t.infoDialogTitle,closeText:t.dialogCloseText,confirmText:t.dialogConfirmText,showCancel:!!t.dialogCloseText,paddingBottom:"24px",paddingTop:"0"},on:{close:t.closeInfoDialog,cancel:t.cancelOrder,confirm:t.closeInfoDialog}},[s("div",{staticClass:"order-status",class:t.orderStatusText.class},[t.orderStatusText.icon?s("img",{attrs:{src:t.orderStatusText.icon,alt:""}}):t._e(),t._v("\n      "+t._s(t.orderStatusText.title)+"\n    ")]),t.orderInfo?s("ul",{staticClass:"order-detail"},t._l(t.orderDetailRow,(function(e,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:a,staticClass:"detail-item v5-9-bg"},[s("span",{staticClass:"detail-key v5-6-cl"},[t._v(t._s(e.title))]),s("span",{staticClass:"detail-value v5-5-cl"},["ctime"===e.key?s("span",{staticClass:"text"},[t._v(t._s(t._f("formatTime")(t.orderInfo.ctime)))]):s("input",{ref:e.key,refInFor:!0,staticClass:"text v5-5-cl",attrs:{type:"text",readonly:""},domProps:{value:t.orderInfo[e.key]}}),e.hasSymbol?s("span",[t._v(t._s(t.orderInfo.symbolName))]):t._e(),e.copy?s("i",{staticClass:"copy",on:{click:function(s){return t.copy(e.key)}}},[s("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_7"}})])]):t._e()])])})),0):t._e(),0===t.orderStatus?s("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.$t("assets.withdraw.orderTip"))+"\n    ")]):t._e(),t.orderInfo&&t.orderInfo.checkDesc?s("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.orderInfo.checkDesc)+"\n    ")]):t._e()])],1)},v=[],C={name:"page-mnWithdraw",data:function(){return{symbolType:null,withdraw_min:null,withdraw_max:null,thirdWithdrawConfigInfo:{},tabelLoading:!0,imgMap:o["s"],colorMap:o["b"],alertFlag:!1,withdrawMin:"--",withdrawMax:"--",tabelList:[],withdrawList:[],symbol:"",withdrawCoinList:[],amount:"",fee:"",paginationObj:{total:0,display:10,currentPage:1},dialogFlag:!1,dialogConfirmLoading:!1,googleCode:"",smsCode:"",revokeList:[],defaultFeeFlag:!0,defaultFee:null,symbol_withdraw_msg:null,branchTip:"",notIdShowDialog:!1,smsType:"sms",bankId:"",bankInfo:null,bankList:[],isShowBindCardTip:!1,feeRate:0,orderInfo:null,orderStatus:0,isShowInfoDialog:!1}},filters:{formatTime:function(t){return t?Object(o["k"])(t):t},fixDFn:function(t,s){return Object(o["f"])(t,s.showPrecision)}},computed:{userInfo:function(){return this.$store.state.baseData.userInfo},quotaList:function(){if(this.exchangeData&&this.exchangeData.allCoinMap[this.symbol]){var t=this.exchangeData.allCoinMap[this.symbol],s=Number(t.normal_balance)||Number(t.overcharge_balance);return[{key:"sum",value:Object(o["f"])(t.total_balance,this.showPrecision)},{key:"normal",value:Object(o["f"])(s,this.showPrecision)},{key:"lock",value:Object(o["f"])(t.lock_balance,this.showPrecision)}]}return[{key:"sum",value:"--"},{key:"normal",value:"--"},{key:"lock",value:"--"}]},showSymbol:function(){var t=this.symbol;return this.market&&this.market.coinList&&this.market.coinList[this.symbol]&&(t=Object(o["l"])(this.symbol,this.market.coinList)),t},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var t=this.enforceGoogleAuth?"assets.withdraw.enforceGoogleAuth":"assets.withdraw.safetyWarningError";return this.$t(t)},alertData:function(){var t=[{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||t.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),t},showPrecision:function(){var t=0,s=this.$store.state.baseData.market;return s&&s.coinList&&s.coinList[this.symbol]&&(t=s.coinList[this.symbol].showPrecision),t},exchangeData:function(){return this.$store.state.assets.exchangeData},market:function(){return this.$store.state.baseData.market},btnDisabled:function(){var t=!0;return this.bankId&&Number(this.amount)&&this.numberOptions.flag&&(t=!1),t},columns:function(){return this.isInr?[{title:this.$t("assets.withdraw.withdrawTime"),width:"20%"},{title:this.$t("assets.withdraw.withdrawVolume"),width:"20%",align:"left"},{title:this.$t("assets.withdraw.withdrawFee"),width:"20%",align:"left"},{title:this.$t("assets.withdraw.withdrawStatus"),width:"20%",align:"left"},{title:this.$t("assets.withdraw.withdrawOptions"),width:"20%"}]:[{title:this.$t("assets.withdraw.withdrawTime"),width:"15%"},{title:this.$t("assets.withdraw.withdrawVolume"),width:"10%",align:"left"},{title:this.$t("assets.withdraw.withdrawFee"),width:"10%",align:"left"},{title:this.$t("assets.flowingWater.withdrawRemarks"),width:"15%",align:"left"},{title:this.$t("assets.withdraw.withdrawStatus"),width:"10%",align:"left"},{title:this.$t("assets.withdraw.withdrawOptions"),width:"15%",align:"left"}]},OpenMobile:function(){var t=!1,s=this.userInfo;return s&&"1"===s.isOpenMobileCheck.toString()&&(t=!0),t},idAuth:function(){var t=this.userInfo,s=0;return t&&(s=Number(t.authLevel)),s},OpenGoogle:function(){var t=!1,s=this.userInfo;return s&&"1"===s.googleStatus.toString()&&(t=!0),t},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.smsCode)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleCode)},phoneError:function(){return 0!==this.smsCode.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleCode.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var t=!0,s=!0;return this.OpenMobile&&(t=this.phoneValueFlag),this.OpenGoogle&&(s=this.googleValueFlag),!(t&&s||this.dialogConfirmLoading)},that:function(){return this},numberOptions:function(){var t,s,e={text:"",flag:null,error:null},a=parseFloat(this.quotaList[1].value)||0;return this.isInr?(t=parseFloat(Number(this.thirdWithdrawMin)+Number(this.amount)*Number(this.feeRate/100))||0,s=parseFloat(Number(this.thirdWithdrawMax)+Number(this.amount)*Number(this.feeRate/100))||0):(t=parseFloat(this.withdraw_min)||0,s=parseFloat(this.withdraw_max)||0),0===this.amount.length||0===parseFloat(this.amount)?(e.text=this.$t("assets.withdraw.NumberOfCoinsError"),e.flag=!1,e.error=!1,e):parseFloat(this.amount)<=parseFloat(this.fee)?(e.text=this.$t("assets.withdraw.NumberOfCoinsError2"),e.flag=!1,e.error=!0,e):parseFloat(this.amount)>a?(e.text=this.$t("assets.withdraw.NumberOfCoinsError3"),e.flag=!1,e.error=!0,e):parseFloat(t)>this.amount||parseFloat(s)<this.amount?(this.isInr?e.text=this.$t("assets.withdraw.amoutTip",{limit:"(".concat(this.thirdWithdrawMin,"-").concat(this.thirdWithdrawMax," ").concat(this.symbol,")")}):e.text=this.$t("assets.withdraw.withdrawError1"),e.flag=!1,e.error=!0,e):(e.flag=!0,e.error=!1,e)},publicInfo:function(){return this.$store.state.baseData.publicInfo},withdrawKycOpen:function(){var t=0;return this.publicInfo&&this.publicInfo.kycLimitConfig&&(t=this.publicInfo.kycLimitConfig.withdraw_kyc_open),Number(t)},voiceSmsOpen:function(){return this.$store.state.baseData.voiceSmsOpen},feePrompt:function(){return"".concat(this.$t("assets.withdraw.fee"),"(rate: ").concat(this.feeRate,"%)")},infoDialogTitle:function(){return this.$t("assets.recharge.orderDetai")},isShowFeeInDetail:function(){return this.orderInfo&&this.orderInfo.fee>0},orderStatusText:function(){return 0===this.orderStatus||1===this.orderStatus?this.isInr?{class:"b-7-cl",title:this.$t("assets.withdraw.status1"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:{class:"b-7-cl",title:this.$t("assets.recharge.orderStatus2"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:2===this.orderStatus?this.isInr?{class:"b-5-cl",title:this.$t("assets.withdraw.status2"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101012958.svg"}:{class:"b-5-cl",title:this.$t("assets.recharge.orderStatus3"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101012958.svg"}:3===this.orderStatus?this.isInr?{class:"b-6-cl",title:this.$t("assets.withdraw.status3"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100958533.svg"}:{class:"b-6-cl",title:this.$t("assets.recharge.orderStatus4"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100958533.svg"}:4===this.orderStatus?{class:"b-2-cl",title:this.$t("assets.recharge.orderStatus5"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100930964.svg"}:{class:"",title:""}},orderDetailRow:function(){var t=[{title:this.$t("assets.withdraw.NumberOfCoins"),key:"amount",copy:!1,show:!0,hasSymbol:!0},{title:this.$t("assets.withdraw.fee"),key:"fee",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.settledAmount"),key:"settledAmount",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.orderId"),key:"sequence",copy:!0,show:!0},{title:this.$t("assets.recharge.payee"),key:"bankAccount",copy:!1,show:!0},{title:this.$t("assets.recharge.bankAccountNum"),key:"bankCardNumber",copy:!1,show:!0},{title:this.$t("assets.recharge.bankName"),key:"bankNameShow",copy:!1,show:!0},{title:"IFSC",key:"ifsc",copy:!1,show:this.isInr},{title:this.$t("assets.recharge.date"),key:"ctime",copy:!1,show:!0}];return t},dialogConfirmText:function(){return this.$t("common.close")},dialogCloseText:function(){return""},userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},coinList:function(){return this.market&&this.market.coinList||null},isInr:function(){return 3===this.symbolType||4===this.symbolType},amoutPlaceholder:function(){return this.isInr?this.$t("assets.withdraw.amoutTip",{limit:"(".concat(this.thirdWithdrawMin,"-").concat(this.thirdWithdrawMax," ").concat(this.symbol,")")}):this.$t("assets.withdraw.withdrawVolume")}},watch:{userInfo:function(t){t&&(this.isShowBindCardTip=!t.hasFiatBank)},userInfoIsReady:function(t){t&&this.canAlert()},exchangeData:function(t){t&&this.market&&this.coinList&&this.setwithdrawCoinList()},market:function(t){t&&this.exchangeData&&this.coinList&&this.setwithdrawCoinList()},coinList:function(t){t&&this.exchangeData&&this.market&&this.setwithdrawCoinList()},amount:function(t){this.amount=Object(o["h"])(t,this.showPrecision)},symbol:function(t){t&&(this.getBankList(),this.getFeeRate(),this.getCost())}},methods:{init:function(){this.exchangeData||this.$store.dispatch("assetsExchangeData"),this.exchangeData&&this.market&&this.coinList&&this.setwithdrawCoinList(),this.userInfo&&(this.isShowBindCardTip=!this.userInfo.hasFiatBank),this.symbol=this.$route.query.symbol.toUpperCase(),this.getTableList(),this.userInfoIsReady&&this.canAlert()},selectChange:function(t,s){this[s]=t.code},setwithdrawCoinList:function(){var t=this;if(!this.withdrawCoinList.length){var s=this.exchangeData.allCoinMap,e=[];Object.keys(s).forEach((function(a){var i=t.coinList,n=i[a]&&i[a].showPrecision||0,r=Object(o["l"])(a,i);s[a].depositOpen&&s[a].isFiat&&e.push({img:i[a].icon,code:a,value:r,subValue:i[a].longName,sort:s[a].normal_balance,label:t.thousands(Object(o["f"])(s[a].normal_balance,n))})})),e.sort((function(t,s){return s.sort-t.sort})),this.withdrawCoinList=[].concat(e),this.$route.query.symbol?this.symbol=this.$route.query.symbol.toUpperCase():this.withdrawCoinList.length?this.symbol=this.withdrawCoinList[0].code:this.$router.push("/assets/exchangeAccount")}},thousands:function(t){if(t&&parseFloat(t)){var s=t.toString(),e=s.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return s.replace(e,"$1,")}return t},getBankList:function(){var t=this;this.axios({url:"/fiat/user_bank_list",params:{fiatSymbol:this.symbol}}).then((function(s){var e=s.code,a=s.data,i=s.msg;if("0"===e.toString())if(t.bankList=[],t.bank="",t.rechargeRemark="",t.bankInfo=null,a.list&&a.list.length){var o=a.list.map((function(t){var s=t;return s.code=t.id,s.value=t.bankNameShow,s.subValue="".concat(t.bankCardNumber," | ").concat(t.bankAccount),s.ifsc=t.remark,s.icon=t.color,s}));t.bankList=o.filter((function(t){return 0!==t.status}));var n=Object(h["a"])(t.bankList,1);t.bankInfo=n[0],t.bankId=t.bankInfo.id}else t.isShowBindCardTip=!0;else t.$bus.$emit("tip",{text:i,type:"error"})}))},bankChange:function(t){this.bankId=t.id,this.bankInfo=t},goBindBankCard:function(){this.$router.push("/personal/bindBankCard?type=add")},getFeeRate:function(){var t=this;this.axios({url:"fiat/fiat_symbol_info",params:{fiatSymbol:this.symbol}}).then((function(s){var e=s.code,a=s.data,i=s.msg;"0"===e.toString()?a.list&&a.list.length&&(t.feeRate=a.list[0].withdrawFeeRate,t.symbolType=a.list[0].symbolType,t.thirdWithdrawConfigInfo=a.list[0].thirdWithdrawConfigInfo,t.thirdWithdrawMin=t.thirdWithdrawConfigInfo.thirdWithdrawMin,t.thirdWithdrawMax=t.thirdWithdrawConfigInfo.thirdWithdrawMax,t.withdraw_min=a.list[0].withdraw_min,t.withdraw_max=a.list[0].withdraw_max):t.$bus.$emit("tip",{text:i,type:"error"})}))},inputChange:function(t,s){if("amount"===s){var e;if(this[s]=Object(o["h"])(t,this.showPrecision),this.isInr){var a=this.thirdWithdrawConfigInfo.thirdWithdrawFeeRate;e="".concat((Number(t)*(Number(this.feeRate)/100)+(Number(t)-Number(t)*(Number(this.feeRate)/100))*(Number(a)/100)).toFixed(2))}else e="".concat(t*this.feeRate/100);e.indexOf(".")>-1&&(e="".concat(e.split(".")[0],".").concat(e.split(".")[1].slice(0,2))),this.fee=e}else this[s]=t},getCost:function(){var t=this;this.axios({url:"cost/Getcost",params:{symbol:this.symbol}}).then((function(s){if("0"===s.code.toString()){var e=t.showPrecision;t.withdrawMin=Object(o["f"])(s.data.withdraw_min,e),t.withdrawMax=Object(o["f"])(s.data.withdraw_max,e)}}))},allWithDraw:function(){"--"!==this.quotaList[1].value&&(this.amount=this.quotaList[1].value)},canAlert:function(){var t=this;this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile?this.alertFlag=!1:setTimeout((function(){t.alertFlag=!0}),100)},alertClone:function(){this.alertFlag=!1,this.notIdShowDialog=!1},alertGo:function(){this.$router.push("/personal/userManagement")},pagechange:function(t){this.paginationObj.currentPage=t,this.getTableList()},getCodeClick:function(t,s){this.sendSmsCode(t,s)},sendSmsCode:function(t,s){var e=this;this.axios({url:"v4/common/smsValidCode",params:{operationType:"10",smsType:s&&"voiceSms"===s?"1":"0"}}).then((function(t){if("0"!==t.code.toString())setTimeout((function(){e.$bus.$emit("getCode-clear","withdrawGetcode"),e.$bus.$emit("tip",{text:t.msg,type:"error"})}),2e3);else{var a=s&&"voiceSms"===s?e.$t("login.voiceSendSuccess"):e.$t("login.phoneSendSuccess");e.$bus.$emit("tip",{text:a,type:"success"}),e.smsType="sms"===s?"sms":"voiceSms"}}))},withdrawClick:function(){if(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)return this.withdrawKycOpen&&1!==this.idAuth?void(this.notIdShowDialog=!0):void(this.dialogFlag=!0);this.alertFlag=!0},thirdtoWithdraw:function(){var t=this;this.axios({url:"fiat/third_do_withdraw",params:{symbol:this.symbol,amount:this.amount,fee:this.fee,ifsc:this.bankInfo.ifsc,bankName:this.bankInfo.bankName,bankCardNumber:this.bankInfo.bankCardNumber,bankAccount:this.bankInfo.bankAccount,userCardId:this.bankInfo.id,googleCode:this.googleCode?this.googleCode:void 0,smsValidCode:"sms"===this.smsType&&this.smsCode?this.smsCode:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.smsCode?this.smsCode:void 0}}).then((function(s){var e=s.code,a=s.data,i=s.msg;t.dialogConfirmLoading=!1,"0"===e.toString()?(t.dialogFlag=!1,t.resetParams(),t.orderInfo=a,t.orderStatus=a.status,t.getTableList(),t.$store.dispatch("assetsExchangeData"),t.isShowInfoDialog=!0):t.$bus.$emit("tip",{text:i,type:"error"})}))},dialogClose:function(){this.smsCode="",this.googleCode="",this.dialogFlag=!1},dialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0,this.isInr?this.thirdtoWithdraw():this.axios({url:"fiat/do_withdraw",params:{symbol:this.symbol,amount:this.amount,fee:this.fee,bankName:this.bankInfo.bankName,bankCardNumber:this.bankInfo.bankCardNumber,bankAccount:this.bankInfo.bankAccount,userCardId:this.bankInfo.id,googleCode:this.googleCode?this.googleCode:void 0,smsValidCode:"sms"===this.smsType&&this.smsCode?this.smsCode:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.smsCode?this.smsCode:void 0}}).then((function(s){var e=s.code,a=s.data,i=s.msg;t.dialogConfirmLoading=!1,"0"===e.toString()?(t.dialogFlag=!1,t.resetParams(),t.orderInfo=a,t.orderStatus=a.status,t.getTableList(),t.$store.dispatch("assetsExchangeData"),t.isShowInfoDialog=!0):t.$bus.$emit("tip",{text:i,type:"error"})}))},resetParams:function(){this.amount="",this.fee="",this.smsCode="",this.googleCode=""},closeInfoDialog:function(){this.isShowInfoDialog=!1},cancelOrder:function(){var t=this;0===this.orderStatus?this.axios({url:"fiat/cancel_withdraw",params:{id:this.orderInfo.id}}).then((function(s){var e=s.code,a=s.msg;"0"===e.toString()?(t.$bus.$emit("tip",{text:a,type:"success"}),t.$store.dispatch("assetsExchangeData"),t.isShowInfoDialog=!1,t.getTableList()):t.$bus.$emit("tip",{text:a,type:"error"})})):this.isShowInfoDialog=!1},copy:function(t){var s=this.$refs[t],e=null;if(s.length){var a=Object(h["a"])(s,1);e=a[0]}else e=s;e.select(),document.execCommand("copy"),this.$bus.$emit("tip",{text:this.$t("personal.prompt.copySucces"),type:"success"})},fixStatus:function(t,s){return 3===s?0===t||1===t?this.$t("assets.withdraw.status1"):2===t?this.$t("assets.withdraw.status2"):3===t?this.$t("assets.withdraw.status3"):"":0===t?this.$t("assets.recharge.orderStatus2"):2===t?this.$t("assets.recharge.orderStatus3"):3===t?this.$t("assets.recharge.orderStatus4"):4===t?this.$t("assets.recharge.orderStatus5"):""},getTableList:function(){var t=this;this.tabelLoading=!0,this.axios({url:"fiat/withdraw_list",params:{pageSize:this.paginationObj.display,page:this.paginationObj.currentPage}}).then((function(s){var e=s.code,a=s.data;if(t.tabelLoading=!1,"0"===e.toString()){var i=[];t.withdrawList=a.list,a.list.forEach((function(s,e){t.isInr?i.push({id:e,data:[Object(o["k"])(s.ctime),"".concat(Object(o["f"])(s.amount,t.showPrecision)," ").concat(s.symbolName),"".concat(Object(o["f"])(s.fee,t.showPrecision)," ").concat(s.symbolName),t.fixStatus(s.status,s.withdrawSymbolType),[{text:t.$t("assets.recharge.detail"),type:"button",eventType:"detail"}]]}):i.push({id:e,data:[Object(o["k"])(s.ctime),"".concat(Object(o["f"])(s.amount,t.showPrecision)," ").concat(s.symbolName),"".concat(Object(o["f"])(s.fee,t.showPrecision)," ").concat(s.symbolName),s.checkDesc,t.fixStatus(s.status,s.withdrawSymbolType),[{text:t.$t("assets.recharge.detail"),type:"button",eventType:"detail"}]]})})),t.tabelList=i,t.paginationObj.total=a.query.count}}))},tableClick:function(t,s){this.orderInfo=this.withdrawList[s],this.orderStatus=this.orderInfo.status,this.isShowInfoDialog=!0},handleButton:function(t){var s=[];return 0===t.status&&s.push({type:"button",text:this.$t("assets.flowingWater.Cancel"),iconClass:[""],eventType:"revoke"}),s.push({type:"subTable",text:this.$t("trade.view"),eventType:"subView"}),s},gotoAuth:function(){this.$router.push("/personal/userManagement")}}},k=(e("a7d7"),{mixins:[C],mounted:function(){this.init()}}),$=k,x=Object(f["a"])($,y,v,!1,null,null,null),I=x.exports,S={mixins:[n],mounted:function(){this.init()},components:{mnRecharge:w,mnWithdraw:I}},T=S,_=Object(f["a"])(T,a,i,!1,null,null,null);s["default"]=_.exports},"60f1":function(t,s,e){},a7d7:function(t,s,e){},b42c9:function(t,s,e){}}]);