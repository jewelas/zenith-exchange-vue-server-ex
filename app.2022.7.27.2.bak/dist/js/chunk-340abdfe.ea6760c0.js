(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-340abdfe"],{"09e5":function(e,t,r){"use strict";r("8e6e"),r("a481");var o=r("bd86"),s=(r("456d"),r("28a5"),r("ac6a"),r("95d5"));function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={data:function(){return{countryKeyCode:"",country:""}},watch:{countryObj:{handler:function(){var e=this.defaultCountryCode;this.countryListMoy&&this.countryListMoy.length&&!e&&(e=this.countryListMoy[0].keyCode),e&&""===this.countryKeyCode&&(this.countryKeyCode=e),!this.defaultCountryCodeReal&&!this.country&&e&&this.countryMap&&this.countryMap[e]&&(this.country=this.countryMap[e].code),this.defaultCountryCodeReal&&""===this.country&&(this.country=this.defaultCountryCodeReal)}},defaultCountryCodeReal:{handler:function(e){e&&""===this.country&&(this.country=e)},immediate:!0},defaultCountryCode:{handler:function(e){var t=e;this.countryListMoy&&this.countryListMoy.length&&!e&&(t=this.countryListMoy[0].keyCode),t&&""===this.countryKeyCode&&(this.defaultCountryCodeReal?this.countryKeyCode=this.countryListKeyObj[this.defaultCountryCodeReal].keyCode:this.countryKeyCode=t),!this.defaultCountryCodeReal&&!this.country&&t&&this.countryMap&&this.countryMap[t]&&(this.country=this.countryMap[t].code)},immediate:!0}},computed:{countryListKeyObj:function(){var e={};return this.countryObj.list.forEach((function(t){e[t.code]={code:t.code,keyCode:t.keyCode,value:t.value.split(" ")[0]}})),e},limitCountryList:function(){return this.$store.state.baseData.limitCountryList},countryList:function(){return this.countryObj.list},registerCountryList:function(){return this.filterCountryObj&&this.filterCountryObj.list?this.filterCountryObj.list:[]},countryListMoy:function(){var e=[],t=this.filterCountryObj.list;return t&&t.length&&t.forEach((function(t){e.push({code:t.code,keyCode:t.keyCode,value:t.value.split(" +")[0]})})),e},filterCountryObj:function(){var e=this.$t("phoneCode"),t={},r=this.limitCountryList;return r.length>0?(r=r.join("").split("+"),Object.keys(e).forEach((function(o){t[o]=e[o].filter((function(e){var t=e.split("+");return-1===r.indexOf(t[2])}))}))):t=i({},e),Object(s["o"])(t)},countryNameList:function(){var e=[],t=this.filterCountryObj.list;return t&&t.length&&t.forEach((function(t){e.push({code:t.value.split(" +")[0],value:t.value.split(" +")[0]})})),e},countryCodeList:function(){var e=[];return this.countryObj&&this.countryObj.list&&this.countryObj.list.forEach((function(t){e.push({code:t.keyCode,value:t.keyCode})})),e},countryFilterCodeList:function(){var e=[],t=this.filterCountryObj.list;return t&&t.length&&t.forEach((function(t){e.push({code:t.keyCode,value:t.keyCode})})),e},countryMap:function(){return this.countryObj.countryMap},countryRealMap:function(){return this.countryObj.countryRealMap},countryObj:function(){return this.$store.state.baseData.countryObj},defaultCountryCode:function(){var e=this.$store.state.baseData.defaultCountryCode,t=this.limitCountryList;if(t.length>0&&e){var r=t.join("").split("+"),o=e.replace("+","");r.indexOf(o)>-1&&(e="")}return e},defaultCountryCodeReal:function(){var e=this.$store.state.baseData.defaultCountryCodeReal,t=this.limitCountryList;if(t.length>0){var r=t.join("").split("+"),o=e.replace(/\+/g,"");r.indexOf(o)>-1&&(e="")}return e}},methods:{countryChange:function(e){this.country=e.code,this.countryKeyCode=e.keyCode}}}},2543:function(e,t,r){},4666:function(e,t,r){"use strict";r.r(t);r("6b54");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-management-change-phone fuz-card with-title"},[t("p",{staticClass:"user-management-child-header fuz-card-title"},[e._v("\n    "+e._s(e.$t("personal.changePhone.title")))]),t("div",{staticClass:"user-management-center fuz-card-content"},[t("p",{staticClass:"center-title b-7-cl"},[t("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-c_2"}})]),e._v("\n      "+e._s(e.safetyTimeSet.is_open&&"1"===e.safetyTimeSet.is_open.toString()?e.$t("personal.prompt.text1",{number:e.safetyTimeSet.hour}):e.$t("personal.prompt.warningChangePhone"))+"\n    ")]),t("div",{staticClass:"center-input"},[t("c-inputLine",{attrs:{name:"oldPhone",inputType:"text",promptText:e.promptText1,errorHave:!0,errorText:e.errorText1,errorFlag:e.checkErrorFlag1,disabled:!0,marginTop:"0px",value:e.checkValue1},on:{onchanges:e.inputChanges}}),t("c-inputLine",{attrs:{name:"oldSmsCode",maxLength:"6",inputType:"text",promptText:e.promptText2,errorHave:!0,errorText:e.errorText2,errorFlag:e.checkErrorFlag2,marginTop:"0px",value:e.checkValue2},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"oldSmsCode",voiceOpen:e.voiceSmsOpen,autoStart:!1,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1),t("c-select",{attrs:{value:e.country,promptText:e.promptText,filterable:!0,name:"country",errorHave:!0,errorFlag:e.countryErrorFlag,errorText:e.errorText,options:e.countryList},on:{onChanges:e.countryChange}}),t("c-inputLine",{attrs:{name:"newPhone",maxLength:"20",inputType:"text",promptText:e.promptText3,errorHave:!0,errorText:e.errorText3,errorFlag:e.checkErrorFlag3,marginTop:"0px",value:e.checkValue3},on:{onchanges:e.inputChanges}}),t("c-inputLine",{attrs:{name:"smsCode",maxLength:"6",inputType:"text",promptText:e.promptText4,errorHave:!0,errorText:e.errorText4,errorFlag:e.checkErrorFlag4,marginTop:"0px",value:e.checkValue4},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"smsCode",voiceOpen:e.voiceSmsOpen,autoStart:!1,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1),e.googleCode?t("c-inputLine",{attrs:{name:"googleCode",maxLength:"6",inputType:"text",promptText:e.promptText5,errorHave:!0,errorText:e.errorText5,errorFlag:e.checkErrorFlag5,marginTop:"0px",value:e.checkValue5},on:{onchanges:e.inputChanges}}):e._e(),t("c-button",{attrs:{type:"solid",loading:e.loading,big:!0,className:"",paddingW:"0px",disabled:e.disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:e.btnLink}},[e._v(e._s(e.$t("personal.tool.modify")))])],1)])])},s=[],n=(r("c5f6"),r("09e5")),i={name:"changePassword",mixins:[n["a"]],watch:{userInfo:function(e){this.googleCode=!!Number(e.googleStatus),this.smsCode=!!Number(e.isOpenMobileCheck),this.checkValue1=this.userInfo.mobileNumber},mobileUpdate:function(e){null!==e&&(this.loading=!1,"success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),this.$router.push("/personal/userManagement")):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),"10009"!==e.code&&this.$bus.$emit("getCode-clear","smsCode")))},sendSmsCode:function(e){null!==e&&("success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),"old"===this.currentCodeType?this.oldSmsType="1"===e.type?"voiceSms":"sms":"new"===this.currentCodeType&&(this.newSmsType="1"===e.type?"voiceSms":"sms")):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),"old"===this.currentCodeType?this.$bus.$emit("getCode-clear","oldSmsCode"):"new"===this.currentCodeType&&this.$bus.$emit("getCode-clear","smsCode")))},errorText3Text:function(e){e&&(this.errorText3=e)}},computed:{userInfo:function(){return this.$store.state.baseData.userInfo},sendSmsCode:function(){return this.$store.state.personal.sendSmsCode},mobileUpdate:function(){return this.$store.state.personal.mobileUpdate},promptText:function(){return this.$t("personal.label.promptText")},errorText:function(){return this.$t("personal.label.errorText")},promptText1:function(){return this.$t("personal.label.oldPhone")},promptText2:function(){return this.$t("personal.label.smsCodeText")},promptText3:function(){return this.$t("personal.label.newPhone")},promptText4:function(){return this.$t("personal.label.smsCodeText")},promptText5:function(){return this.$t("personal.label.googleCodeText")},errorText2:function(){return this.$t("personal.prompt.errorCode")},errorText4:function(){return this.$t("personal.prompt.errorCode")},errorText5:function(){return this.$t("personal.prompt.errorCode")},errorText3Text:function(){return this.$t("personal.prompt.errorPhone")},voiceSmsOpen:function(){return this.$store.state.baseData.voiceSmsOpen},safetyTimeSet:function(){var e=this.$store.state.baseData.publicInfo,t="{}";return e&&e.switch&&e.switch.update_safe_withdraw&&(t=e.switch.update_safe_withdraw),JSON.parse(t)}},data:function(){return{loading:!1,checkValue1:"",checkValue2:"",checkValue3:"",checkValue4:"",checkValue5:"",errorText1:"",checkErrorFlag1:!1,checkErrorFlag2:!1,checkErrorFlag3:!1,checkErrorFlag4:!1,checkErrorFlag5:!1,disabled:!0,oldNew:!1,smsCode:!1,googleCode:!1,countryErrorFlag:!1,oldSmsType:"sms",newSmsType:"sms",currentCodeType:""}},methods:{init:function(){this.userInfo&&(this.googleCode=!!Number(this.userInfo.googleStatus),this.smsCode=!!Number(this.userInfo.isOpenMobileCheck),this.checkValue1=this.userInfo.mobileNumber)},phoneFlag:function(e){return this.$store.state.regExp.phone.test(e)},codeFlag:function(e){return this.$store.state.regExp.verification.test(e)},getCodeClick:function(e,t){if("oldSmsCode"===e){this.$bus.$emit("getCode-start","oldSmsCode");var r={operationType:3,smsType:t&&"voiceSms"===t?"1":"0"};this.$store.dispatch("sendSmsCode",r),this.currentCodeType="old"}else if(this.checkValue3&&!this.checkErrorFlag3){this.$bus.$emit("getCode-start","smsCode");var o={mobile:this.checkValue3,operationType:2,countryCode:this.countryKeyCode,smsType:t&&"voiceSms"===t?"1":"0"};this.$store.dispatch("sendSmsCode",o),this.currentCodeType="new"}else this.checkErrorFlag3=!0,this.errorText3=this.$t("personal.prompt.errorNewPhone")},inputChanges:function(e,t){switch(t){case"oldSmsCode":this.checkValue2=e,this.codeFlag(e)?this.checkErrorFlag2=!1:this.checkErrorFlag2=!0;break;case"newPhone":this.checkValue3=e,this.phoneFlag(e)?this.checkErrorFlag3=!1:(this.checkErrorFlag3=!0,this.errorText3=this.$t("personal.prompt.errorPhone"));break;case"smsCode":this.checkValue4=e,this.codeFlag(e)?this.checkErrorFlag4=!1:this.checkErrorFlag4=!0;break;default:this.checkValue5=e,this.codeFlag(e)?this.checkErrorFlag5=!1:this.checkErrorFlag5=!0}!(this.checkValue4&&this.checkValue2&&this.checkValue3)||this.checkErrorFlag2||this.checkErrorFlag3||this.checkErrorFlag4||this.checkErrorFlag5?this.disabled=!0:this.googleCode?this.disabled=!this.checkValue5:this.disabled=!1},btnLink:function(){this.loading=!0;var e={smsAuthCode:"sms"===this.newSmsType&&this.checkValue4?this.checkValue4:void 0,smsAuthVoiceCode:"voiceSms"===this.newSmsType&&this.checkValue4?this.checkValue4:void 0,countryCode:this.countryKeyCode,mobileNumber:this.checkValue3,googleCode:this.checkValue5,authenticationCode:"sms"===this.oldSmsType&&this.checkValue2?this.checkValue2:void 0,authenticationVoiceCode:"voiceSms"===this.oldSmsType&&this.checkValue2?this.checkValue2:void 0};this.$store.dispatch("mobileUpdate",e)}}},c=(r("2543"),{mixins:[i],mounted:function(){this.init()}}),a=c,u=r("2877"),h=Object(u["a"])(a,o,s,!1,null,null,null);t["default"]=h.exports}}]);