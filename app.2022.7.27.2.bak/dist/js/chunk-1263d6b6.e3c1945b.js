(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1263d6b6"],{"3d9e":function(t,i,a){},"587f":function(t,i,a){},9241:function(t,i,a){},d724:function(t,i,a){"use strict";a("9241")},f3ad:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t._self._c;return i(t.comp,{tag:"component"})},e=[],n={computed:{comp:function(){var t=this.$store.state.baseData.publicInfo;if(t&&t.switch){var i=window.publicInfo.switch.index_temp_type;return["51","52","53","54"].indexOf(i)>-1?"newCreditCard":"creditCard"}return""}}},r=function(){var t=this,i=t._self._c;return i("section",{staticClass:"page-creditCard a-5-bg"},[i("div",{staticClass:"otc-page-title a-5-bg a-7-bd"},[i("div",{staticClass:"page-title-bar b-1-cl"},[t._v("\n        "+t._s(t.$t("creditCard.title"))+"\n    ")])]),i("div",{staticClass:"page-creditCard-coneent"},[i("div",{staticClass:"page-creditCard-bar"},[i("div",{staticClass:"creditCard-symbolNav a-3-bd b-1-cl"},[t._v("\n          "+t._s(t.$t("creditCard.title"))+"\n          "),t._m(0)]),i("div",{staticClass:"creditCard-main"},[i("div",{staticClass:"creditCard-main-even"},[i("div",{staticClass:"creditCard-main-input"},[i("c-inputLine",{attrs:{name:"tokenInput",promptText:t.$t("creditCard.amount"),marginTop:"0px",value:t.tokenInput,errorHave:!0},on:{onchanges:t.inputChanges}},[i("div",{staticClass:"creditCard-main-inputLine a-3-bg"})])],1),i("div",{staticClass:"creditCard-main-select"},[i("c-select",{attrs:{options:t.tokenList,value:t.activeToken,errorHave:!0},on:{onChanges:t.tokenChange}})],1)]),i("div",{staticClass:"creditCard-main-even"},[i("div",{staticClass:"creditCard-main-input"},[i("c-inputLine",{attrs:{name:"fiatInput",promptText:t.$t("creditCard.num"),marginTop:"0px",errorFlag:t.inputError.show,errorText:t.inputError.text,value:t.fiatInput,errorHave:!0},on:{onchanges:t.inputChanges}},[i("div",{staticClass:"creditCard-main-inputLine a-3-bg"})])],1),i("div",{staticClass:"creditCard-main-select"},[i("c-select",{attrs:{options:t.fiatList,value:t.activeFiat,errorHave:!0},on:{onChanges:t.fiatChange}})],1)]),t.loginFlag?i("c-button",{staticClass:"fuz-primary-btn",attrs:{type:"solid",marginTop:"20px",height:"40px",width:"380px",disabled:t.buttonDisable,paddingW:"0px"},on:{click:t.submit}},[t._v("\n            "+t._s(t.$t("creditCard.buy"))+"\n          ")]):i("c-button",{staticClass:"fuz-primary-btn",attrs:{type:"solid",marginTop:"20px",height:"40px",width:"380px",paddingW:"0px"},on:{click:t.goLogin}},[t._v("\n            "+t._s(t.$t("trade.loginReg"))+"\n          ")]),i("div",{staticClass:"powered"},[i("span",{staticClass:"powered-tit"},[t._v("Powered by")]),i("img",{staticClass:"powered-img",attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142935518.png",alt:""}}),i("div",{staticClass:"creditCard-page-icon"},[i("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_15"}})]),i("ul",{staticClass:"creditCard-page-market a-4-bg"},[i("li",[t._v("\n                  "+t._s(t.$t("creditCard.mark"))+"\n                ")])])])]),i("div",{staticClass:"creditCard-warn"},[i("div",{staticClass:"creditCard-warn-even"},[t._v(t._s(t.$t("creditCard.warnTit"))+":")]),i("div",{staticClass:"creditCard-warn-even"},[t._v("\n              "+t._s(t.$t("creditCard.warn1")))]),i("div",{staticClass:"creditCard-warn-even",domProps:{innerHTML:t._s(t.warn2Text)}}),i("div",{staticClass:"creditCard-warn-even"},[t._v("\n              "+t._s(t.$t("creditCard.warn3"))+"\n            ")])])],1)])]),i("c-dialog",{attrs:{showFlag:t.confirmFlag,paddingBottom:"14px",confirmText:t.$t("creditCard.confirmTit"),confirmDisabled:t.dialogConfirmDisabled,confirmLoading:t.dialogConfirmLoading,titleText:t.$t("creditCard.confirmBtn")},on:{confirm:t.confirmSubmit,close:t.confirmClose}},[i("div",{staticClass:"creditCard-confirm"},[i("div",{staticClass:"creditCard-confirm-mess b-1-cl"},[t._v("\n        "+t._s(t.$t("creditCard.confirmText1"))+"\n      ")]),i("div",{staticClass:"creditCard-confirm-options clearfix"},[i("c-checkBox",{attrs:{value:t.redioFlag},on:{click:t.setRedio}}),i("div",{staticClass:"creditCard-confirm-text"},[t._v(t._s(t.$t("creditCard.confirmText2")))])],1)])]),i("c-dialog",{attrs:{showFlag:t.callBackFlag,paddingBottom:"14px",confirmText:t.$t("creditCard.callBackFalse"),titleText:t.$t("creditCard.callBackTit")},on:{confirm:t.callBackSubmit,close:t.callBackClose}},[i("ul",{staticClass:"creditCard-callBack"},[i("li",{domProps:{innerHTML:t._s(t.callBackText1)}}),i("li",[t._v(t._s(t.$t("creditCard.callBackText2")))]),i("li",[t._v(t._s(t.$t("creditCard.callBackText3")))])])])],1)},o=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"creditCard-imgs"},[i("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429141529768.svg"}}),i("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142925574.svg"}}),i("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142747706.svg"}})])}],c=(a("6b54"),a("ac6a"),a("28a5"),a("95d5")),d={data:function(){return{confirmFlag:!1,redioFlag:!1,activeToken:"",activeFiat:"",tokenList:[],fiatList:[],tokenInput:"",fiatInput:"",nowRate:0,sourceID:"",spks:{},dialogConfirmLoading:!1,callBackFlag:!1}},computed:{loginFlag:function(){var t=this.$store.state.baseData,i=t.isLogin,a=t.userInfoIsReady;return!(!i||!a)},warn2Text:function(){var t=this.$t("creditCard.warn2"),i=["https://buy.moonpay.io/trade_history","/assets/flowingWater"];return this.setLocals(t,i)},callBackText1:function(){var t=this.$t("creditCard.callBackText1"),i=["https://buy.moonpay.io/trade_history"];return this.setLocals(t,i)},lan:function(){return this.$store.state.baseData?this.$store.state.baseData.lan:null},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},dialogConfirmDisabled:function(){return!this.dialogConfirmLoading&&!this.redioFlag},market:function(){return this.$store.state.baseData.market},nowSpk:function(){var t="";return this.spks[this.activeFiat]&&(t=this.spks[this.activeFiat]),t},inputError:function(){var t={flag:!1,show:!1,text:""},i=this.nowSpk,a=i.minAmount,s=i.maxAmount,e=parseFloat(this.fiatInput);return this.fiatInput&&this.nowSpk&&(a-1<e&&e<s+1?t.flag=!0:(t.show=!0,t.text="".concat(this.$t("creditCard.spk"),"：").concat(a," ").concat(this.activeFiat,"\n           ~ ").concat(s," ").concat(this.activeFiat))),t},buttonDisable:function(){var t=!0;return this.activeFiat&&this.inputError.flag&&(t=!1),t}},watch:{confirmFlag:function(t){t||(this.redioFlag=!1)}},methods:{goLogin:function(){this.$router.push("/login")},setLocals:function(t,i){var a=t,s="";if(a){var e=a.split("$<"),n=0;e.forEach((function(t){if(-1!==t.indexOf(">$")){var a=i[n];n+=1;var e=t.split(">$");s+='<a class="u-8-cl" href="'.concat(a,'" target="_block">\n              ').concat(e[0],"</a>").concat(e[1])}else s+=t}))}return s},callBackSubmit:function(){this.$router.push("/assets/exchangeAccount")},callBackClose:function(){this.callBackFlag=!1},setRedio:function(){this.redioFlag=!this.redioFlag},submit:function(){this.confirmFlag=!0},confirmClose:function(){this.confirmFlag=!1},confirmSubmit:function(){var t=this;this.dialogConfirmLoading=!0,this.axios({url:"finance/get_charge_address",params:{symbol:this.activeToken}}).then((function(i){"0"===i.code.toString()?t.getD():t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},getD:function(){var t=this;this.axios({url:"middleman/createOrder",hostType:"fe-increment-api",params:{coin:this.activeToken,fiatCoin:this.activeFiat,amount:this.fiatInput,source:this.sourceID},method:"post"}).then((function(i){t.dialogConfirmLoading=!1,"0"===i.code?(window.open(i.data.url),t.confirmFlag=!1,t.callBackFlag=!0):t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},inputChanges:function(t,i){this[i]=t;var a=this.market.coinList,s=a[this.activeToken]&&a[this.activeToken].showPrecision||0;"tokenInput"===i?(this.tokenInput=Object(c["h"])(t,s),this.fiatInput=Object(c["f"])(this.tokenInput*this.nowRate,0)):(this.fiatInput=Object(c["h"])(t,0),this.tokenInput=Object(c["f"])(this.fiatInput/this.nowRate,s))},init:function(){this.getLogos(),this.getCoins()},getLogos:function(){},getCoins:function(){var t=this;this.axios({url:"noToken_middleman/coinList",hostType:"fe-increment-api",params:{},method:"post"}).then((function(i){if("0"===i.code){var a=i.data,s=a.fiatList,e=a.tokenList,n=[];s.forEach((function(i){n.push({value:i.fiatCoin,code:i.fiatCoin}),i.isDefault&&(t.activeFiat=i.fiatCoin),t.spks[i.fiatCoin]=i}));var r=[];e.forEach((function(i){var a=i.coin;"EUSDT"===a&&(a="USDT(ERC20)"),r.push({value:a,code:i.coin}),i.isDefault&&(t.activeToken=i.coin)})),t.fiatList=n,t.tokenList=r,t.getMess()}}))},getMess:function(){var t=this;this.axios({url:"noToken_middleman/serverList",hostType:"fe-increment-api",params:{coin:this.activeToken,fiatCoin:this.activeFiat},method:"post"}).then((function(i){"0"===i.code&&((t.fiatInput||t.tokenInput)&&(t.fiatInput="",t.tokenInput="",t.$bus.$emit("tip",{text:t.$t("creditCard.warningText"),type:"warning"})),t.nowRate=i.data.serverList[0].rate,t.sourceID=i.data.serverList[0].id)}))},reset:function(){this.tokenInput="",this.fiatInput="",this.nowRate=0,this.getMess()},tokenChange:function(t){t.code!==this.activeToken&&(this.activeToken=t.code,this.reset())},fiatChange:function(t){t.code!==this.activeFiat&&(this.activeFiat=t.code,this.reset())}}},l=(a("3d9e"),{mixins:[d],mounted:function(){this.init()}}),u=l,h=(a("d724"),a("2877")),p=Object(h["a"])(u,r,o,!1,null,"5e48e944",null),f=p.exports,C=function(){var t=this,i=t._self._c;return i("section",{staticClass:"v5-page-creditCard fuz-card"},[i("div",{staticClass:"creditCard-form"},[i("header",{staticClass:"creditCard-header v5-5-cl fuz-border"},[i("svg",{staticClass:"icon icon-20",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[i("use",{attrs:{"xlink:href":"#icon-v5_36"}})]),i("span",[t._v(t._s(t.$t("creditCard.title")))])]),i("div",{staticClass:"page-creditCard-content"},[i("div",{staticClass:"creditCard-imgs"},[i("svg",{staticClass:"icon icon-54",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-assets_18"}})]),i("svg",{staticClass:"icon icon-54",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-assets_19"}})]),i("svg",{staticClass:"icon icon-54",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-assets_20"}})])]),i("div",{staticClass:"creditCard-main"},[i("div",{staticClass:"creditCard-main-item"},[i("c-v5-input",{attrs:{name:"tokenInput",width:"378px",promptText:t.$t("creditCard.amount"),promptClass:"v5-6-cl",value:t.tokenInput},on:{onChanges:t.inputChanges}},[i("div",{staticClass:"input-append amount",attrs:{slot:"append"},slot:"append"},[i("c-v5-select",{staticClass:"transparent",attrs:{type:"fill",width:"140px",height:"38px",inputHeight:"38px",selectedClass:"v5-6-cl",showPrompt:!1,options:t.tokenList,value:t.activeToken},on:{onChanges:t.tokenChange}})],1)])],1),i("div",{staticClass:"creditCard-main-item"},[i("c-v5-input",{attrs:{name:"fiatInput",width:"378px",promptText:t.$t("creditCard.num"),promptClass:"v5-6-cl",errorFlag:t.inputError.show,errorText:t.inputError.text,value:t.fiatInput,errorHave:!0},on:{onChanges:t.inputChanges}},[i("div",{staticClass:"input-append amount",attrs:{slot:"append"},slot:"append"},[i("c-v5-select",{staticClass:"transparent",attrs:{type:"fill",width:"140px",height:"38px",inputHeight:"38px",selectedClass:"v5-6-cl",showPrompt:!1,options:t.fiatList,value:t.activeFiat,errorHave:!0},on:{onChanges:t.fiatChange}})],1)])],1),i("div",{staticClass:"submit-button"},[t.loginFlag?i("c-v5-button",{staticClass:"fuz-primary-btn",attrs:{type:"solid",height:"40px",width:"378px",disabled:t.buttonDisable},on:{click:t.submit}},[t._v("\n            "+t._s(t.$t("creditCard.buy"))+"\n          ")]):i("c-v5-button",{staticClass:"fuz-primary-btn",attrs:{type:"solid",height:"40px",width:"378px"},on:{click:t.goLogin}},[t._v("\n            "+t._s(t.$t("trade.loginReg"))+"\n          ")])],1),i("div",{staticClass:"powered"},[i("span",{staticClass:"powered-tit"},[t._v("Powered by")]),i("img",{staticClass:"powered-img",attrs:{src:t.imgMap.moonpay,alt:""}}),i("div",{staticClass:"creditCard-page-icon",on:{mouseover:function(i){t.iconHover=!0},mouseout:function(i){t.iconHover=!1}}},[t.iconHover?i("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-assets_6_h"}})]):i("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-assets_6"}})]),i("c-popover",{attrs:{show:t.iconHover,id:"creditCard-popover",position:"bottom",content:t.$t("creditCard.mark"),parent:".creditCard-page-icon"}})],1)]),i("div",{staticClass:"creditCard-warn"},[i("div",{staticClass:"creditCard-warn-even"},[t._v(t._s(t.$t("creditCard.warnTit"))+":")]),i("div",{staticClass:"creditCard-warn-even"},[t._v("\n            "+t._s(t.$t("creditCard.warn1")))]),i("div",{staticClass:"creditCard-warn-even",domProps:{innerHTML:t._s(t.warn2Text)}}),i("div",{staticClass:"creditCard-warn-even"},[t._v("\n            "+t._s(t.$t("creditCard.warn3"))+"\n          ")])])])])]),i("c-v5-dialog",{attrs:{showFlag:t.confirmFlag,confirmText:t.$t("creditCard.confirmTit"),confirmDisabled:t.dialogConfirmDisabled,confirmLoading:t.dialogConfirmLoading,titleText:t.$t("creditCard.confirmBtn")},on:{confirm:t.confirmSubmit,close:t.confirmClose}},[i("div",{staticClass:"creditCard-confirm"},[i("div",{staticClass:"creditCard-confirm-mess v5-5-cl"},[t._v("\n        "+t._s(t.$t("creditCard.confirmText1"))+"\n      ")]),i("div",{staticClass:"creditCard-confirm-options clearfix"},[i("c-checkBox",{attrs:{value:t.redioFlag,fontClass:"icon-14"},on:{click:t.setRedio}}),i("div",{staticClass:"creditCard-confirm-text"},[t._v(t._s(t.$t("creditCard.confirmText2")))])],1)])]),i("c-v5-dialog",{attrs:{showFlag:t.callBackFlag,confirmText:t.$t("creditCard.callBackFalse"),titleText:t.$t("creditCard.callBackTit")},on:{confirm:t.callBackSubmit,close:t.callBackClose}},[i("ul",{staticClass:"creditCard-callBack"},[i("li",{domProps:{innerHTML:t._s(t.callBackText1)}}),i("li",[t._v(t._s(t.$t("creditCard.callBackText2")))]),i("li",[t._v(t._s(t.$t("creditCard.callBackText3")))])])])],1)},v=[],m={data:function(){return{imgMap:c["s"],confirmFlag:!1,redioFlag:!1,activeToken:"",activeFiat:"",tokenList:[],fiatList:[],tokenInput:"",fiatInput:"",nowRate:0,sourceID:"",spks:{},dialogConfirmLoading:!1,callBackFlag:!1,iconHover:!1}},computed:{loginFlag:function(){var t=this.$store.state.baseData,i=t.isLogin,a=t.userInfoIsReady;return!(!i||!a)},warn2Text:function(){var t=this.$t("creditCard.warn2"),i=["https://buy.moonpay.io/trade_history","/assets/flowingWater"];return this.setLocals(t,i)},callBackText1:function(){var t=this.$t("creditCard.callBackText1"),i=["https://buy.moonpay.io/trade_history"];return this.setLocals(t,i)},lan:function(){return this.$store.state.baseData?this.$store.state.baseData.lan:null},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},dialogConfirmDisabled:function(){return!this.dialogConfirmLoading&&!this.redioFlag},market:function(){return this.$store.state.baseData.market},nowSpk:function(){var t="";return this.spks[this.activeFiat]&&(t=this.spks[this.activeFiat]),t},inputError:function(){var t={flag:!1,show:!1,text:""},i=this.nowSpk,a=i.minAmount,s=i.maxAmount,e=parseFloat(this.fiatInput);return this.fiatInput&&this.nowSpk&&(a-1<e&&e<s+1?t.flag=!0:(t.show=!0,t.text="".concat(this.$t("creditCard.spk"),"：").concat(a," ").concat(this.activeFiat,"\n           ~ ").concat(s," ").concat(this.activeFiat))),t},buttonDisable:function(){var t=!0;return this.activeFiat&&this.inputError.flag&&(t=!1),t}},watch:{confirmFlag:function(t){t||(this.redioFlag=!1)}},methods:{goLogin:function(){this.$router.push("/login")},setLocals:function(t,i){var a=t,s="";if(a){var e=a.split("$<"),n=0;e.forEach((function(t){if(-1!==t.indexOf(">$")){var a=i[n];n+=1;var e=t.split(">$");s+='<a class="u-8-cl" href="'.concat(a,'" target="_block">\n              ').concat(e[0],"</a>").concat(e[1])}else s+=t}))}return s},callBackSubmit:function(){this.$router.push("/assets/exchangeAccount")},callBackClose:function(){this.callBackFlag=!1},setRedio:function(){this.redioFlag=!this.redioFlag},submit:function(){this.confirmFlag=!0},confirmClose:function(){this.confirmFlag=!1},confirmSubmit:function(){var t=this;this.dialogConfirmLoading=!0,this.axios({url:"finance/get_charge_address",params:{symbol:this.activeToken}}).then((function(i){"0"===i.code.toString()?t.getD():t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},getD:function(){var t=this;this.axios({url:"middleman/createOrder",hostType:"fe-increment-api",params:{coin:this.activeToken,fiatCoin:this.activeFiat,amount:this.fiatInput,source:this.sourceID},method:"post"}).then((function(i){t.dialogConfirmLoading=!1,"0"===i.code?(window.open(i.data.url),t.confirmFlag=!1,t.callBackFlag=!0):t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},inputChanges:function(t,i){this[i]=t;var a=this.market.coinList,s=a[this.activeToken]&&a[this.activeToken].showPrecision||0;"tokenInput"===i?(this.tokenInput=Object(c["h"])(t,s),this.fiatInput=Object(c["f"])(this.tokenInput*this.nowRate,0)):(this.fiatInput=Object(c["h"])(t,0),this.tokenInput=Object(c["f"])(this.fiatInput/this.nowRate,s))},init:function(){this.getCoins()},getCoins:function(){var t=this;this.axios({url:"noToken_middleman/coinList",hostType:"fe-increment-api",params:{},method:"post"}).then((function(i){if("0"===i.code){var a=i.data,s=a.fiatList,e=a.tokenList,n=[];s.forEach((function(i){n.push({value:i.fiatCoin,code:i.fiatCoin}),i.isDefault&&(t.activeFiat=i.fiatCoin),t.spks[i.fiatCoin]=i}));var r=[];e.forEach((function(i){var a=i.coin;"EUSDT"===a&&(a="USDT(ERC20)"),r.push({value:a,code:i.coin}),i.isDefault&&(t.activeToken=i.coin)})),t.fiatList=n,t.tokenList=r,t.getMess()}}))},getMess:function(){var t=this;this.axios({url:"noToken_middleman/serverList",hostType:"fe-increment-api",params:{coin:this.activeToken,fiatCoin:this.activeFiat},method:"post"}).then((function(i){"0"===i.code&&((t.fiatInput||t.tokenInput)&&(t.fiatInput="",t.tokenInput="",t.$bus.$emit("tip",{text:t.$t("creditCard.warningText"),type:"warning"})),t.nowRate=i.data.serverList[0].rate,t.sourceID=i.data.serverList[0].id)}))},goBack:function(){this.$router.back()},reset:function(){this.tokenInput="",this.fiatInput="",this.nowRate=0,this.getMess()},tokenChange:function(t){t.code!==this.activeToken&&(this.activeToken=t.code,this.reset())},fiatChange:function(t){t.code!==this.activeFiat&&(this.activeFiat=t.code,this.reset())}}},g=(a("587f"),{mixins:[m],mounted:function(){this.init()}}),k=g,b=Object(h["a"])(k,C,v,!1,null,"4b0a49ae",null),x=b.exports,w=a("304b"),_={mixins:[n],components:{creditCard:f,newCreditCard:x,latestCreditCard:w["default"]}},T=_,$=Object(h["a"])(T,s,e,!1,null,null,null);i["default"]=$.exports}}]);