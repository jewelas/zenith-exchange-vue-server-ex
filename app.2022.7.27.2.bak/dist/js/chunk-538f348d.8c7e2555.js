(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-538f348d"],{5914:function(t,e,s){},6114:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-mnRecharge"},[e("header",{staticClass:"mnRecharge-header b-1-cl a-3-bd"},[t._v(t._s(t.$t("assets.recharge.recharge")))]),e("div",{staticClass:"mnRecharge-details clearfix a-7-bd"},[e("div",{staticClass:"details-left"},[e("div",{staticClass:"symbol b-1-cl"},[t._v(t._s(t.showSymbol))]),e("div",{staticClass:"numberList clearfix"},[e("ul",{staticClass:"numberList-key"},[e("li",[t._v(t._s(t.$t("assets.recharge.quota")))])]),e("ul",{staticClass:"numberList-value b-1-cl"},[e("li",[t._v(t._s(t._f("fixDFn")(t.quota,t.that)))])])]),e("div",{staticClass:"details-warking b-7-cl clearfix"},[e("span",{staticClass:"wicon"},[e("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-c_2"}})])]),e("span",{staticClass:"text"},[t._v("\n          "+t._s(t.rechargeRemark)+"\n        ")])]),e("div",{staticClass:"my-message a-4-bg"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("assets.recharge.myInfo")))]),e("input",{ref:"myInfo",staticClass:"b-1-cl",attrs:{readonly:""},domProps:{value:t.myInfo}}),e("span",{staticClass:"copy",on:{click:function(e){return t.copy("myInfo")}}},[e("svg",{staticClass:"icon icon-14 hoverHide",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9"}})]),e("svg",{staticClass:"icon icon-14 hoverShow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9_1"}})])])])]),e("div",{staticClass:"details-right"},[e("div",{staticClass:"select-bank"},[e("c-newSelect",{attrs:{promptText:t.$t("assets.recharge.selectBank"),type:"img",value:t.bank,options:t.bankList},on:{onChanges:t.bankChange}})],1),t.bankInfo?e("ul",{staticClass:"company-info"},[e("li",{staticClass:"company-name a-4-bg b-1-cl"},[e("input",{ref:"companyName",staticClass:"b-1-cl",attrs:{readonly:"",type:"text"},domProps:{value:t.bankInfo.bankAccount}}),e("span",{staticClass:"copy",on:{click:function(e){return t.copy("companyName")}}},[e("svg",{staticClass:"icon icon-14 hoverHide",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9"}})]),e("svg",{staticClass:"icon icon-14 hoverShow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9_1"}})])])]),e("li",{staticClass:"company-id a-4-bg b-1-cl"},[e("input",{ref:"companyId",staticClass:"b-1-cl",attrs:{readonly:"",type:"text"},domProps:{value:t.bankInfo.bankCardNumber}}),e("span",{staticClass:"copy",on:{click:function(e){return t.copy("companyId")}}},[e("svg",{staticClass:"icon icon-14 hoverHide",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9"}})]),e("svg",{staticClass:"icon icon-14 hoverShow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9_1"}})])])])]):t._e(),e("div",{staticClass:"recharge-amount"},[e("c-inputLine",{attrs:{name:"amount",fixValue:t.showPrecision,inputType:"num",promptText:t.$t("assets.recharge.RechargeVolume"),value:t.amount},on:{onchanges:t.inputChange}})],1),e("div",{staticClass:"recharge-fee"},[t.isFeeShow?e("c-inputLine",{attrs:{name:"fee",promptText:t.$t("assets.withdraw.fee"),value:t.fee,disabled:!0}}):t._e()],1),e("c-button",{attrs:{width:"120px",marginTop:"24px",height:"40px",disabled:t.btnDisabled},on:{click:t.confirm}},[t._v(t._s(t.$t("assets.recharge.confirm")))])],1)]),e("header",{staticClass:"mnRecharge-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("assets.recharge.RecentRechargeRecord"))+"\n  ")]),e("div",{staticClass:"mnRecharge-table"},[e("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?e("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1),e("c-dialog",{attrs:{showFlag:t.alertFlag,paddingBottom:"14px",titleText:t.$t("personal.leaglTenderSet.dlalogText")},on:{close:t.alertClose,confirm:t.confirmRecharge}},[t._v("\n    "+t._s(t.$t("assets.recharge.rechargeTip"))+"\n  ")]),e("c-popup",{attrs:{showFlag:t.isShowInfoDialog,titleText:t.infoDialogTitle,closeText:t.dialogCloseText,confirmText:t.dialogConfirmText,showCancel:!!t.dialogCloseText,paddingBottom:"24px",paddingTop:"0",confirmDisabled:t.dialogConfirmDisabled},on:{close:t.dialogClose,cancel:t.dialogCancel,confirm:t.dialogConfirm}},[e("div",{staticClass:"order-status",class:t.orderStatusText.class},[t.orderStatusText.icon?e("img",{attrs:{src:t.orderStatusText.icon,alt:""}}):t._e(),t._v("\n      "+t._s(t.orderStatusText.title)+"\n    ")]),t.orderInfo?e("ul",{staticClass:"order-detail"},t._l(t.orderDetailRow,(function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"item.show"}],key:a,staticClass:"detail-item a-4-bg"},[e("span",{staticClass:"detail-key b-2-cl"},[t._v(t._s(s.title))]),e("span",{staticClass:"detail-value b-1-cl"},["ctime"===s.key?e("span",{staticClass:"text"},[t._v(t._s(t._f("formatTime")(t.orderInfo.ctime)))]):e("input",{ref:s.key,refInFor:!0,staticClass:"text b-1-cl",attrs:{type:"text",readonly:""},domProps:{value:t.orderInfo[s.key]}}),s.hasSymbol?e("span",[t._v(t._s(t.orderInfo.symbolName))]):t._e(),s.copy?e("i",{staticClass:"copy",on:{click:function(e){return t.copy(s.key)}}},[e("svg",{staticClass:"icon icon-14 hoverHide",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9"}})]),e("svg",{staticClass:"icon icon-14 hoverShow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_9_1"}})])]):t._e()])])})),0):t._e(),0===t.orderStatus?e("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.$t("assets.recharge.orderTip"))+"\n    ")]):t._e(),3===t.orderStatus?e("div",{staticClass:"refuseReason-tip b-7-cl"},[t._v("\n      "+t._s(t.orderInfo.checkDesc)+"\n    ")]):t._e()])],1)},i=[],r=(s("8e6e"),s("456d"),s("28a5"),s("ac6a"),s("768b")),o=s("bd86"),n=(s("6b54"),s("c5f6"),s("95d5"));function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"page-recharge",data:function(){return{tabelLoading:!0,alertFlag:!1,imgMap:n["s"],colorMap:n["b"],tabelList:[],symbol:"",paginationObj:{total:0,display:10,currentPage:1},bank:"",bankList:[],bankInfo:null,isShowInfoDialog:!1,rechargeRemark:"",amount:"",fee:"",orderInfo:null,orderStatus:0,rechargeList:[],feeRate:0}},computed:{userInfo:function(){return this.$store.state.baseData.userInfo},showSymbol:function(){var t=this.symbol;return this.market&&this.market.coinList&&this.market.coinList[this.symbol]&&(t=Object(n["l"])(this.symbol,this.market.coinList)),t},exchangeData:function(){return this.$store.state.assets.exchangeData},quota:function(){if(this.exchangeData&&this.symbol){var t=this.exchangeData.allCoinMap[this.symbol];return t.total_balance}return""},showPrecision:function(){var t=0,e=this.$store.state.baseData.market;return e&&e.coinList&&e.coinList[this.symbol]&&(t=e.coinList[this.symbol].showPrecision),t},market:function(){return this.$store.state.baseData.market||{}},columns:function(){return[{title:this.$t("assets.recharge.RechargeTime"),width:"20%"},{title:this.$t("assets.recharge.RechargeCoin"),width:"10%"},{title:this.$t("assets.recharge.RechargeVolume"),width:"30%"},{title:this.$t("assets.recharge.RechargeStatus"),width:"20%"},{title:this.$t("assets.recharge.operate"),width:"20%"}]},btnDisabled:function(){var t=!0;return this.bank&&this.amount&&Number(this.amount)&&(t=!1),t},infoDialogTitle:function(){return 0===this.orderStatus?this.$t("assets.recharge.rechargeStatus1"):this.$t("assets.recharge.orderDetai")},dialogConfirmDisabled:function(){return!1},orderStatusText:function(){return 0===this.orderStatus?{class:"b-7-cl",title:this.$t("assets.recharge.orderStatus1"),icon:""}:1===this.orderStatus?{class:"b-7-cl",title:this.$t("assets.recharge.orderStatus2"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101026485.svg"}:2===this.orderStatus?{class:"b-5-cl",title:this.$t("assets.recharge.orderStatus3"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213101012958.svg"}:3===this.orderStatus?{class:"b-6-cl",title:this.$t("assets.recharge.orderStatus4"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100958533.svg"}:4===this.orderStatus?{class:"b-2-cl",title:this.$t("assets.recharge.orderStatus5"),icon:"http://dev-saas-oss.oss-cn-hongkong.aliyuncs.com/upload/20211213100930964.svg"}:{class:"",title:""}},orderDetailRow:function(){var t=[{title:this.$t("assets.recharge.RechargeVolume"),key:"amount",copy:!1,show:!0,hasSymbol:!0},{title:this.$t("assets.withdraw.fee"),key:"fee",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.settledAmount"),key:"settledAmount",copy:!1,show:this.isShowFeeInDetail,hasSymbol:!0},{title:this.$t("assets.recharge.orderId"),key:"sequence",copy:!0,show:!0},{title:this.$t("assets.recharge.payee"),key:"bankAccount",copy:0===this.orderStatus,show:!0},{title:this.$t("assets.recharge.bankAccountNum"),key:"bankCardNumber",copy:0===this.orderStatus,show:!0},{title:this.$t("assets.recharge.bankName"),key:"bankNameShow",copy:!1,show:!0},{title:this.$t("assets.recharge.date"),key:"ctime",copy:!1,show:!0}];return 0===this.orderStatus&&t.push({title:this.$t("assets.recharge.myInfo"),key:"remark",copy:!0,show:!0}),t},myInfo:function(){if(this.userInfo){var t="";return this.userInfo.mobileNumber?t="".concat(this.userInfo.countryCode," ").concat(this.userInfo.mobileNumber):this.userInfo.email&&(t=this.userInfo.email),"".concat(t,"&").concat(this.userInfo.id)}return""},dialogConfirmText:function(){return 0===this.orderStatus?this.$t("assets.recharge.confirmRecharge"):this.$t("common.close")},dialogCloseText:function(){return 0===this.orderStatus?this.$t("assets.recharge.cancelOrder"):""},that:function(){return this},isShowFeeInDetail:function(){return this.orderInfo&&this.orderInfo.fee>0},isFeeShow:function(){return this.feeRate>0&&this.fee>0}},filters:{formatTime:function(t){return t?Object(n["k"])(t):t},fixDFn:function(t,e){return Object(n["f"])(t,e.showPrecision)}},methods:{init:function(){this.$route.query.symbol?(this.exchangeData||this.$store.dispatch("assetsExchangeData"),this.symbol=this.$route.query.symbol.toUpperCase(),this.getBankList(),this.getRechargeList(),this.getFeeRate()):this.$router.push("/assets/exchangeAccount")},alertClose:function(){this.alertFlag=!1},confirmRecharge:function(){var t=this;this.alertClose(),this.axios({url:"fiat/do_deposit",params:{symbol:this.symbol,fee:this.fee,amount:this.amount,bankName:this.bankInfo.bankName,bankCardNumber:this.bankInfo.bankCardNumber,bankAccount:this.bankInfo.bankAccount,companyCardId:this.bankInfo.id,remark:this.myInfo}}).then((function(e){var s=e.code,a=e.data,i=e.msg;"0"===s.toString()?(t.orderStatus=a.status,t.orderInfo=l({},a),t.getRechargeList(),t.isShowInfoDialog=!0):t.$bus.$emit("tip",{text:i,type:"error"})}))},copy:function(t){var e=this.$refs[t],s=null;if(e.length){var a=Object(r["a"])(e,1);s=a[0]}else s=e;s.select(),document.execCommand("copy"),this.$bus.$emit("tip",{text:this.$t("personal.prompt.copySucces"),type:"success"})},pagechange:function(t){this.paginationObj.currentPage=t,this.getRechargeList()},fixStatus:function(t){return 0===t?this.$t("assets.recharge.orderStatus1"):1===t?this.$t("assets.recharge.orderStatus2"):2===t?this.$t("assets.recharge.orderStatus3"):3===t?this.$t("assets.recharge.orderStatus4"):4===t?this.$t("assets.recharge.orderStatus5"):""},getFeeRate:function(){var t=this;this.axios({url:"fiat/fiat_symbol_info",params:{fiatSymbol:this.symbol}}).then((function(e){var s=e.code,a=e.data,i=e.msg;"0"===s.toString()?a.list&&a.list.length&&(t.feeRate=a.list[0].depositFeeRate):t.$bus.$emit("tip",{text:i,type:"error"})}))},getRechargeList:function(){var t=this;this.tabelLoading=!0,this.axios({url:"fiat/deposit_list",params:{page:this.paginationObj.currentPage,pageSize:this.paginationObj.display}}).then((function(e){var s=e.code,a=e.data,i=e.msg;if(t.tabelLoading=!1,"0"===s.toString()){var r=[];a.list&&a.list.length&&(t.rechargeList=a.list,a.list.forEach((function(e,s){var a=t.market.coinList,i=Object(n["l"])(e.symbol,a);r.push({id:s,data:[Object(n["k"])(e.ctime),i,"".concat(Object(n["f"])(e.amount,t.showPrecision)," ").concat(e.symbolName),t.fixStatus(e.status),[{text:0===e.status?t.$t("assets.recharge.confirmRecharge"):t.$t("assets.recharge.detail"),type:"button",eventType:0===e.status?"recharge":"detail"}]]})}))),t.tabelList=r,t.paginationObj.total=a.query.count}else t.$bus.$emit("tip",{text:i,type:"error"})}))},tableClick:function(t,e){this.orderInfo=this.rechargeList[e],this.orderStatus=this.orderInfo.status,this.isShowInfoDialog=!0},getBankList:function(){var t=this;this.axios({url:"fiat/company_bank_list",params:{supportSymbols:this.symbol}}).then((function(e){var s=e.code,a=e.data,i=e.msg;if("0"===s.toString()){if(a.list&&a.list.length){t.bankList=a.list.map((function(t){var e=t;return e.code=t.id,e.value=t.bankNameShow,e}));var o=Object(r["a"])(t.bankList,1);t.bankInfo=o[0],t.bank=t.bankInfo.id,t.rechargeRemark=t.bankList[0].remark}}else t.$bus.$emit("tip",{text:i,type:"error"})}))},bankChange:function(t){this.bank=t.id,this.bankInfo=t,this.rechargeRemark=t.remark},inputChange:function(t,e){if("amount"===e){this.amount=Object(n["h"])(t,this.showPrecision);var s="".concat(t*this.feeRate/100);s<.01?s=0:s.indexOf(".")>-1&&(s="".concat(s.split(".")[0],".").concat(s.split(".")[1].slice(0,2))),this.fee=s}else this[e]=t},confirm:function(){this.alertFlag=!0},dialogClose:function(){this.isShowInfoDialog=!1},dialogCancel:function(){var t=this;0===this.orderStatus?this.axios({url:"fiat/cancel_deposit",params:{id:this.orderInfo.id}}).then((function(e){var s=e.code,a=e.msg;"0"===s.toString()?(t.$bus.$emit("tip",{text:a,type:"success"}),t.isShowInfoDialog=!1,t.getRechargeList()):t.$bus.$emit("tip",{text:a,type:"error"})})):this.isShowInfoDialog=!1},dialogConfirm:function(){var t=this;0===this.orderStatus?this.axios({url:"fiat/deposit_confirm_pay",params:{id:this.orderInfo.id}}).then((function(e){var s=e.code,a=e.msg;"0"===s.toString()?(t.$bus.$emit("tip",{text:a,type:"success"}),t.isShowInfoDialog=!1,t.getRechargeList()):t.$bus.$emit("tip",{text:a,type:"error"})})):this.isShowInfoDialog=!1}}},u=(s("5914"),{mixins:[h],mounted:function(){this.init()}}),d=u,g=s("2877"),f=Object(g["a"])(d,a,i,!1,null,null,null);e["default"]=f.exports}}]);