(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cb8bd95"],{"504c":function(e,t,a){var s=a("0d58"),i=a("6821"),n=a("52a7").f;e.exports=function(e){return function(t){var a,o=i(t),r=s(o),l=r.length,d=0,h=[];while(l>d)n.call(o,a=r[d++])&&h.push(e?[a,o[a]]:o[a]);return h}}},"5d25":function(e,t,a){"use strict";a("7f7f");var s=a("75fc");a("55dd"),a("ac6a"),a("8615");t["a"]={data:function(){return{haveBranch:!1,showBranch:!1,branchArr:[],activeBranch:""}},methods:{branchInit:function(e,t){var a=e.coinList,i=e.followCoinList;if(this.haveBranch=!1,this.branchArr=[],this.activeBranch="",this.symbol&&a[this.symbol]){this.showBranch=!0;var n=[];if(1===a[this.symbol].mainChainType)if(i[this.symbol]){this.haveBranch=!0;var o=i[this.symbol];o=Object.values(o);var r=Object(s["a"])(o).sort((function(e,t){return e.sort-t.sort}));r.forEach((function(e){"withdraw"===t&&e.followCoinWithdrawOpen&&n.push({value:e.mainChainName,code:e.name}),"recharge"===t&&e.followCoinDepositOpen&&n.push({value:e.mainChainName,code:e.name}),"address"===t&&n.push({value:e.mainChainName,code:e.name})}))}else n.push({value:a[this.symbol].mainChainName,code:a[this.symbol].name});else n.push({value:a[this.symbol].mainChainName,code:a[this.symbol].name});this.branchArr=n,this.activeBranch=n[0].code}}}}},8615:function(e,t,a){var s=a("5ca1"),i=a("504c")(!1);s(s.S,"Object",{values:function(e){return i(e)}})},df44:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"page-addressMent"},[t("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[e._v("\n    "+e._s(e.$t("assets.addressMent.addAddress"))+"\n  ")]),t("div",{staticClass:"addressBox clearfix a-7-bd"},[t("div",{staticClass:"addressBox-left",class:{autoW:e.isHavePage}},[t("div",{staticClass:"clearfix"},[t("div",{staticClass:"addressBox-select"},[t("c-select",{attrs:{promptText:e.$t("assets.addressMent.coin"),errorHave:!1,value:e.symbolValue,options:e.selectList,filterable:!0},on:{onChanges:e.selectLineChange}})],1),e.showBranch?t("div",{staticClass:"addressBox-select addressBox-select-branch"},[t("c-select",{attrs:{promptText:e.$t("assets.branchName"),errorHave:!1,value:e.activeBranch,options:e.branchArr,filterable:!0},on:{onChanges:e.setActiveBranch}},[t("span",{attrs:{slot:"promptExtend"},slot:"promptExtend"},[e.branchTip?t("div",{staticClass:"mainChain-title"},[t("div",{staticClass:"mainChain-page-icon"},[t("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-a_15"}})]),t("ul",{staticClass:"mainChain-page-market a-4-bg"},[t("li",[e._v("\n                      "+e._s(e.branchTip)+"\n                    ")])])])]):e._e()])])],1):e._e(),t("div",{staticClass:"addressBox-address"},[t("c-inputLine",{attrs:{name:"addressValue",promptText:e.$t("assets.addressMent.WithdrawalAddress"),errorHave:!1,value:e.addressValue},on:{onchanges:e.inputLineChange}})],1)]),t("div",[t("div",{staticClass:"addressBox-remarks"},[t("c-inputLine",{attrs:{name:"remarksValue",maxLength:"20",promptText:e.$t("assets.addressMent.Remarks"),errorHave:!1,value:e.remarksValue},on:{onchanges:e.inputLineChange}})],1),e.isHavePage?t("div",{staticClass:"addressBox-pages"},[t("c-inputLine",{attrs:{name:"pagesValue",maxLength:"64",className:"addressTag",promptText:e.$t("assets.addressMent.label"),errorHave:!1,value:e.pagesValue},on:{onchanges:e.inputLineChange}},[t("div",{staticClass:"addressBox-page-icon"},[t("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-a_15"}})]),t("div",{staticClass:"addressBox-page-market a-4-bg"},[e._v("\n                "+e._s(e.$t("assets.addressMent.pageText"))+"\n              ")])])])],1):e._e()])]),t("div",{staticClass:"addressBox-right"},[t("c-button",{attrs:{width:"120px",height:"40px",disabled:e.addressBtnDisabled},on:{click:e.addressBtnClick}},[e._v(e._s(e.$t("assets.addressMent.add")))])],1)]),t("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[e._v("\n    "+e._s(e.$t("assets.addressMent.AddressList"))+"\n    ")]),t("div",{staticClass:"addressMent-table"},[t("c-table",{attrs:{loading:e.tabelLoading,columns:e.columns,imgMap:e.imgMap,colorMap:e.colorMap,dataList:e.tableList},on:{elementClick:e.tableClick}}),e.paginationObj.total>e.paginationObj.display?t("c-pagination",{attrs:{total:e.paginationObj.total,display:e.paginationObj.display,currentPage:e.paginationObj.currentPage},on:{pagechange:e.pagechange}}):e._e()],1),t("c-verifyCationc-alert",{attrs:{showFlag:e.alertFlag,imgMap:e.imgMap,titleText:e.$t("assets.addressMent.safetyWarning"),detaText:e.authTitleText,dataList:e.alertData,buttonText:e.$t("assets.addressMent.GotoOpen")},on:{close:e.alertClone,confirm:e.alertGo}}),t("c-dialog",{attrs:{showFlag:e.dialogFlag,paddingBottom:"14px",confirmLoading:e.dialogConfirmLoading,confirmDisabled:e.dialogConfirmDisabled,titleText:e.$t("assets.addressMent.safetyVerification")},on:{close:e.dialogClose,confirm:e.dialogConfirm}},[e.OpenMobile?t("c-inputLine",{attrs:{maxLength:"6",name:"phoneValue",value:e.phoneValue,promptText:e.$t("assets.addressMent.phoneCode"),errorHave:!0,errorFlag:e.phoneError,errorText:e.$t("assets.addressMent.phoneCodeError")},on:{onchanges:e.inputLineChange}},[t("c-getCode",{attrs:{voiceOpen:e.voiceSmsOpen,name:"addressGetcode"},on:{click:e.getCodeClick}})],1):e._e(),e.OpenGoogle?t("c-inputLine",{attrs:{maxLength:"6",name:"googleValue",value:e.googleValue,promptText:e.$t("assets.addressMent.googleCode"),errorHave:!0,errorFlag:e.googleError,errorText:e.$t("assets.addressMent.googleCodeError")},on:{onchanges:e.inputLineChange}}):e._e()],1)],1)},i=[],n=(a("456d"),a("ac6a"),a("c5f6"),a("6b54"),a("95d5")),o={name:"page-addressMent",data:function(){return{tabelLoading:!0,imgMap:n["s"],colorMap:n["b"],alertFlag:!1,selectList:[],remarksisRequire:!1,symbolValue:"",addressValue:"",remarksValue:"",pagesValue:"",googleValue:"",phoneValue:"",havePageArr:["XRP","EOS"],dialogFlag:!1,dialogConfirmLoading:!1,tableList:[],dialogStatus:"",deleteObj:{},paginationObj:{total:0,display:10,currentPage:1},branchTip:"",smsType:"sms"}},computed:{symbol:function(){return this.symbolValue},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var e=this.enforceGoogleAuth?"assets.withdraw.enforceGoogleAuth":"assets.withdraw.safetyWarningError";return this.$t(e)},alertData:function(){var e=[{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||e.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),e},exchangeData:function(){return this.$store.state.assets.exchangeData},market:function(){return this.$store.state.baseData.market},userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},columns:function(){return[{title:this.$t("assets.addressMent.listCoin"),width:"20%"},{title:this.$t("assets.addressMent.listAddress"),width:"47%",align:"left",styleClass:"add-text clearfix"},{title:this.$t("assets.addressMent.listRemarks"),width:"20%"},{title:this.$t("assets.addressMent.listOptions"),width:"20%"}]},OpenMobile:function(){var e=!1,t=this.$store.state.baseData.userInfo;return t&&"1"===t.isOpenMobileCheck.toString()&&(e=!0),e},OpenGoogle:function(){var e=!1,t=this.$store.state.baseData.userInfo;return t&&"1"===t.googleStatus.toString()&&(e=!0),e},isHavePage:function(){var e=!1;if(this.market&&this.market.coinList)if(this.haveBranch){if(this.market.followCoinList[this.symbolValue][this.activeBranch]){var t=this.market.followCoinList[this.symbolValue][this.activeBranch].tagType;e=t}}else if(this.market.coinList[this.symbolValue]){var a=this.market.coinList[this.symbolValue].tagType;e=a}return e},pagesFlag:function(){var e=!1;switch(Number(this.isHavePage)){case 1:e=!0;break;case 2:this.pagesValue.length&&(e=!0);break;default:e=!0}return e},addressBtnDisabled:function(){if(!this.userInfoIsReady)return!0;var e=!0;return this.symbolValue.length&&this.addressValue.length&&this.remarksValue.length&&this.pagesFlag&&(e=!1),e},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.phoneValue)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleValue)},phoneError:function(){return 0!==this.phoneValue.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleValue.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var e=!0,t=!0;return this.OpenMobile&&(e=this.phoneValueFlag),this.OpenGoogle&&(t=this.googleValueFlag),!(e&&t||this.dialogConfirmLoading)},voiceSmsOpen:function(){return this.$store.state.baseData.voiceSmsOpen}},watch:{market:function(e){e&&this.exchangeData&&this.initSelectData(),e&&this.getTableList(),e&&this.symbol&&this.branchInit(this.market,"address")},symbol:function(e){e&&this.market&&this.branchInit(this.market,"address")},userInfoIsReady:function(){this.canAlert()},exchangeData:function(e){e&&this.market&&this.initSelectData()},symbolValue:function(){this.addressValue="",this.remarksValue="",this.pagesValue=""},activeBranch:function(e){var t=this;e&&this.axios({url:"cost/Getcost",params:{symbol:e}}).then((function(e){"0"===e.code.toString()&&(t.branchTip=e.data.mainChainNameTip)}))}},methods:{init:function(){this.exchangeData?this.market&&this.initSelectData():this.$store.dispatch("assetsExchangeData"),this.userInfoIsReady&&this.canAlert(),this.market&&this.getTableList()},canAlert:function(){var e=this;this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile?this.alertFlag=!1:setTimeout((function(){e.alertFlag=!0}),100)},alertClone:function(){this.alertFlag=!1},alertGo:function(){this.$router.push("/personal/userManagement")},pagechange:function(){},inputLineChange:function(e,t){this[t]=e},selectLineChange:function(e){this.symbolValue=e.code},setActiveBranch:function(e){this.activeBranch=e.code},initSelectData:function(){var e=this,t=[];Object.keys(this.exchangeData.allCoinMap).forEach((function(a){if(!e.exchangeData.allCoinMap[a].isFiat){var s=e.market.coinList,i=Object(n["l"])(a,s);t.push({value:i,code:a})}})),this.selectList=t},addressBtnClick:function(){if(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)return this.dialogStatus="add",void(this.dialogFlag=!0);this.alertFlag=!0},dialogClose:function(){this.dialogFlag=!1,this.googleValue="",this.phoneValue="",this.dialogStatus=""},dialogConfirm:function(){"add"===this.dialogStatus?this.addDialogConfirm():"del"===this.dialogStatus&&this.delDialogConfirm()},addDialogConfirm:function(){var e=this;this.dialogConfirmLoading=!0;var t=this.addressValue;this.isHavePage&&(t+="_".concat(this.pagesValue)),this.axios({url:"addr/add_withdraw_addr",params:{coinSymbol:this.haveBranch?this.activeBranch:this.symbolValue,address:t,label:this.remarksValue,smsValidCode:"sms"===this.smsType&&this.phoneValue?this.phoneValue:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.phoneValue?this.phoneValue:void 0,googleCode:this.googleValue}}).then((function(t){e.dialogConfirmLoading=!1,"0"!==t.code.toString()?e.$bus.$emit("tip",{text:t.msg,type:"error"}):(e.$bus.$emit("tip",{text:t.msg,type:"success"}),e.getTableList(),e.dialogFlag=!1,e.addressValue="",e.remarksValue="",e.pagesValue="",e.googleValue="",e.phoneValue="",e.dialogStatus="")}))},delDialogConfirm:function(){var e=this;this.dialogConfirmLoading=!0,this.axios({url:"addr/delete_withdraw_addr",params:{ids:[this.deleteObj.id],smsValidCode:"sms"===this.smsType&&this.phoneValue?this.phoneValue:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.phoneValue?this.phoneValue:void 0,googleCode:this.googleValue}}).then((function(t){e.dialogConfirmLoading=!1,"0"!==t.code.toString()?e.$bus.$emit("tip",{text:t.msg,type:"error"}):(e.$bus.$emit("tip",{text:t.msg,type:"success"}),e.getTableList(),e.dialogFlag=!1,e.googleValue="",e.phoneValue="",e.dialogStatus="")}))},getCodeClick:function(e,t){this.sendSmsCode(e,t)},sendSmsCode:function(e,t){var a=this,s="add"===this.dialogStatus?"11":"21";this.axios({url:"v4/common/smsValidCode",params:{operationType:s,smsType:t&&"voiceSms"===t?"1":"0"}}).then((function(e){if("0"!==e.code.toString())setTimeout((function(){a.$bus.$emit("getCode-clear","addressGetcode"),a.$bus.$emit("tip",{text:e.msg,type:"error"})}),2e3);else{var s=t&&"voiceSms"===t?a.$t("login.voiceSendSuccess"):a.$t("login.phoneSendSuccess");a.$bus.$emit("tip",{text:s,type:"success"}),a.smsType="sms"===t?"sms":"voiceSms"}}))},tableClick:function(e,t){if("deleteAddress"===e){var a={};this.tableList.forEach((function(e){e.id===t&&(a=e)})),this.deleteObj=a,this.dialogStatus="del",this.dialogFlag=!0}},getTableList:function(){var e=this;this.axios({url:"addr/address_list"}).then((function(t){if("0"===t.code.toString()){var a=[];t.data.addressList.forEach((function(t){var s=e.market.coinList,i=Object(n["l"])(t.symbol,s);a.push({id:t.id,data:[i,[{type:"icon",iconSvg:'<svg class="icon icon-14" aria-hidden="true">\n                      <use xlink:href="#icon-a_16"></use>\n                    </svg>\n                    '},{text:t.address}],t.label,[{type:"button",text:e.$t("assets.addressMent.delete"),iconClass:[""],eventType:"deleteAddress"}]]})})),e.tabelLoading=!1,e.tableList=a}}))}}},r=(a("ee95"),a("5d25")),l={mixins:[o,r["a"]],mounted:function(){this.init()}},d=l,h=a("2877"),c=Object(h["a"])(d,s,i,!1,null,null,null);t["default"]=c.exports},ee95:function(e,t,a){}}]);