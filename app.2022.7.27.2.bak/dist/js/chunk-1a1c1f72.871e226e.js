(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a1c1f72"],{"89b5":function(t,e,i){},ea1e:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-otcOrder fuz-card"},[e("div",{staticClass:"otcOrder-nav fuz-card-tab"},[e("c-navTab",{attrs:{activeClassName:"b-2-cl",activeColor:"a-12-bg",className:"b-2-cl",currentTab:t.nowType,navTab:t.navTab,lineHeight:"55"},on:{currentType:t.currentType}}),2===t.nowType?e("div",{staticClass:"otcOrder-nav-switchs"},[e("c-switch",{attrs:{value:t.switchFlag},on:{click:t.switchChange}}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("order.otcOrder.haveCancel")))])],1):t._e()],1),e("div",{staticClass:"otcOrder-options"},[e("c-select",{attrs:{promptText:t.$t("order.otcOrder.coin"),value:t.symbol,options:t.symbolList,errorHave:!0,width:"120px",filterable:!0},on:{onChanges:t.symbolChange}})],1),e("div",{staticClass:"otcOrder-table"},[e("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?e("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)])},a=[],o=(i("6b54"),i("456d"),i("ac6a"),i("95d5")),n={name:"page-otcOrder",data:function(){return{imgMap:o["s"],colorMap:o["b"],switchFlag:!1,tabelLoading:!0,tabelList:[],nowType:1,symbol:"all",symbolList:[],side:"all",paginationObj:{total:0,display:10,currentPage:1}}},watch:{market:function(t){t&&this.initSymbolList()}},computed:{linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},excheifFlag:function(){return!1},navTab:function(){return[{name:this.$t("order.otcOrder.nowOrder"),index:1},{name:this.$t("order.otcOrder.hisOrder"),index:2}]},sideList:function(){return[{code:"all",value:this.$t("order.otcOrder.all")},{code:"buy",value:this.$t("order.otcOrder.buy")},{code:"sell",value:this.$t("order.otcOrder.sell")}]},market:function(){return this.$store.state.baseData.market},axiosSide:function(){return"all"===this.side?"":this.side},axiosSymbol:function(){if("all"!==this.symbol)return this.symbol},columns:function(){var t=this,e=[];return 1===this.nowType&&(e=[{title:this.$t("order.otcOrder.nowOrderId")},{title:this.$t("order.otcOrder.nowOrderType")},{title:this.$t("order.otcOrder.nowOrderCoin")},{title:this.$t("order.otcOrder.nowOrderPirce")},{title:this.$t("order.otcOrder.nowOrderVolume")},{title:this.$t("order.otcOrder.nowOrderTotol")},{title:this.$t("order.otcOrder.service")},{title:this.$t("order.otcOrder.nowOrderStatus")},{title:this.$t("order.otcOrder.nowOrderUser")}]),2===this.nowType&&(e=[{title:this.$t("order.otcOrder.hisOrderId")},{title:this.$t("order.otcOrder.hisOrderType")},{title:this.$t("order.otcOrder.hisOrderCoin")},{title:this.$t("order.otcOrder.hisOrderPirce")},{title:this.$t("order.otcOrder.hisOrderVolume")},{title:this.$t("order.otcOrder.hisOrderTotol")},{title:this.$t("order.otcOrder.service")},{title:this.$t("order.otcOrder.hisOrderStatus")},{title:this.$t("order.otcOrder.hisOrderUser")}]),this.excheifFlag||e.forEach((function(i,r){i.title===t.$t("order.otcOrder.service")&&e.splice(r,1)})),e},baseData:function(){return this.$store.state.baseData},otcLinkUrl:function(){var t={url:"",type:""};return"ex"===window.HOSTAPI&&this.baseData.publicInfo?(t.url=this.$store.state.baseData.publicInfo.url.otcUrl,t.type="2"):"otc"===window.HOSTAPI&&(t.url="",t.type="1"),t}},methods:{getFix:function(t){return this.market.coinList[t.toLocaleUpperCase()].showPrecision},currentCoinPriceFix:function(t,e,i){var r=this.$store.state.baseData.defaultFiatPrecision;return i&&this.market&&this.market.coinList[e]&&this.market.coinList[e].fiatPrecision&&this.market.coinList[e].fiatPrecision[i.toLowerCase()]?(r=this.market.coinList[e].fiatPrecision[i.toLowerCase()],Object(o["f"])(t,r)+i):t},init:function(){this.market&&this.initSymbolList()},switchChange:function(){this.switchFlag=!this.switchFlag,this.getData()},initSymbolList:function(){var t=this.market.coinList,e=[{code:"all",value:this.$t("order.otcOrder.allCoin")}];Object.keys(t).forEach((function(i){t[i].otcOpen&&e.push({code:i,value:Object(o["l"])(i,t)})})),this.symbol="all",this.symbolList=e,this.getData()},getData:function(){1===this.nowType?this.getNowData():2===this.nowType&&this.getHisData()},getNowData:function(){var t=this,e="/order/otc/unfinished";this.axios({url:e,method:"post",params:{pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.axiosSymbol}}).then((function(e){if(1===t.nowType&&(t.tabelLoading=!1,"0"===e.code.toString())){var i=[];e.data.orderList.forEach((function(e){var r="";r="".concat(t.linkurl.otcUrl,"/otcDetailOrder?orderId=").concat(e.sequence);var a="";e.orderType&&(r=e.url,a='target="view_frame"');var n=[[{type:"icon",iconSvg:'<a class="u-8-cl" '.concat(a,' href="').concat(r,'">').concat(e.sequence,"</a>")}],[{text:e.type,classes:"BUY"===e.side?"b-5-cl":"b-6-cl"}],Object(o["l"])(e.coinSymbol,t.market.coinList),t.currentCoinPriceFix(e.price,e.coinSymbol,e.payCoin),Object(o["f"])(e.volume,t.getFix(e.coinSymbol)),t.currentCoinPriceFix(e.totalPrice,e.coinSymbol,e.payCoin)];t.excheifFlag&&n.push(e.relativeFee);var s=[e.status_text,e.orderType?e.realName:[{type:"button",text:e.nickName,eventType:"userName",subContent:{text:e.realName,classes:["e-2-cl"]}}]];n=n.concat(s),i.push({id:JSON.stringify(e),data:n})})),t.tabelList=i,t.paginationObj.total=e.data.count}}))},getHisData:function(){var t=this,e="/order/otc/complete";this.axios({url:e,method:"post",params:{isShowCanceled:this.switchFlag?1:0,pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.axiosSymbol}}).then((function(e){if(2===t.nowType&&(t.tabelLoading=!1,"0"===e.code.toString())){var i=[];e.data.orderList.forEach((function(e){var r="";r="".concat(t.linkurl.otcUrl,"/otcDetailOrder?orderId=").concat(e.sequence);var a="";e.orderType&&(r=e.url,a='target="view_frame"');var n=[[{type:"icon",iconSvg:'<a class="u-8-cl" '.concat(a,' href="').concat(r,'">').concat(e.sequence,"</a>")}],[{text:e.type,classes:"BUY"===e.side?"b-5-cl":"b-6-cl"}],Object(o["l"])(e.coinSymbol,t.market.coinList),t.currentCoinPriceFix(e.price,e.coinSymbol,e.payCoin),Object(o["f"])(e.volume,t.getFix(e.coinSymbol)),t.currentCoinPriceFix(e.totalPrice,e.coinSymbol,e.payCoin)];t.excheifFlag&&n.push(e.relativeFee);var s=[e.status_text,e.orderType?e.realName:[{type:"button",text:e.nickName,eventType:"userName",subContent:{text:e.realName,classes:["e-2-cl"]}}]];n=n.concat(s),i.push({id:JSON.stringify(e),data:n})})),t.tabelList=i,t.paginationObj.total=e.data.count}}))},currentType:function(t){this.nowType!==t.index&&(this.nowType=t.index,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},symbolChange:function(t){this.symbol!==t.code&&(this.symbol=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},sideChange:function(t){this.side!==t.code&&(this.side=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},tableClick:function(t,e){var i=JSON.parse(e);if("orderId"===t)"1"===this.otcLinkUrl.type?this.$router.push("".concat(this.otcLinkUrl.url,"/otcDetailOrder?orderId=").concat(i.sequence)):"2"===this.otcLinkUrl.type&&(window.location.href="".concat(this.otcLinkUrl.url,"/otcDetailOrder?orderId=").concat(i.sequence));else if("userName"===t){var r="";"BUY"===i.side?r=i.sellerId:"SELL"===i.side&&(r=i.buyerId),"1"===this.otcLinkUrl.type?this.$router.push("".concat(this.otcLinkUrl.url,"/stranger?uid=").concat(r)):"2"===this.otcLinkUrl.type&&(window.location.href="".concat(this.otcLinkUrl.url,"/stranger?uid=").concat(r))}},pagechange:function(t){this.paginationObj.currentPage=t,this.getData()}}},s=(i("89b5"),{mixins:[n],mounted:function(){this.init()}}),c=s,l=i("2877"),d=Object(l["a"])(c,r,a,!1,null,null,null);e["default"]=d.exports}}]);