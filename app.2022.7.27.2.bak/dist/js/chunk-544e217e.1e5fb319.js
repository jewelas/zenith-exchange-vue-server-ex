(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-544e217e"],{"056e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-management-id-auth a-5-bg"},[e("p",{staticClass:"user-management-child-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("personal.idAuth.title"))+"\n  ")]),e("div",{staticClass:"user-management-center a-5-bg"},[t.cropPassSwitch?t._e():e("div",{staticClass:"certification-process"},[e("div",{staticClass:"div-line a-3-bd clearfix"}),e("div",{staticClass:"step-left a-5-bg"},[e("p",{class:this.activeP1},[e("span",{staticClass:"span-mark b-8-cl clearfix a-12-bg"},[t._v("1")]),t._v("\n          "+t._s(t.$t("personal.idAuth.info"))+"\n        ")])]),e("div",{staticClass:"step-center a-5-bg"},[e("p",{class:this.activeP2},[e("span",{staticClass:"span-mark b-8-cl clearfix",class:this.activeS2},[t._v("2")]),t._v("\n          "+t._s(t.$t("personal.idAuth.uploadDocuments"))+"\n        ")])]),e("div",{staticClass:"step-right a-5-bg"},[e("p",{class:this.activeP3},[e("span",{staticClass:"span-mark b-8-cl clearfix",class:this.activeS3},[t._v("3")]),t._v("\n          "+t._s(t.$t("personal.idAuth.submitted"))+"\n        ")])])]),e("div",{staticClass:"idAuth-center clearfix"},["1"===t.active?e("div",[e("c-inputLine",{attrs:{promptText:t.$t("personal.kyc.areaTitle"),value:t.kycNationality,disabled:!0,errorHave:!0}}),"1"===t.kycType?e("c-inputLine",{attrs:{promptText:t.$t("personal.kyc.type"),value:t.$t("personal.label.idCard"),disabled:!0,errorHave:!0}}):t._e(),"2"===t.kycType?e("c-select",{attrs:{value:t.certificateType,promptText:t.$t("personal.kyc.type"),name:"certificateType",errorHave:!0,errorFlag:t.certificateTypeErrorFlag,options:t.idAuthType},on:{onChanges:t.idAuthTypeChange}}):t._e(),"1"===t.kycType?e("c-inputLine",{attrs:{maxLength:"50",name:"name",inputType:"text",promptText:t.promptText2,errorHave:!0,marginTop:"0px",value:t.checkValue2},on:{onchanges:t.inputChanges}}):t._e(),"2"===t.kycType?e("c-inputLine",{attrs:{maxLength:"50",name:"kycName",promptText:t.$t("personal.kyc.name"),errorHave:!0,value:t.kycName},on:{onchanges:t.inputChanges}}):t._e(),"2"===t.kycType?e("c-inputLine",{attrs:{maxLength:"50",name:"kycFamilyName",promptText:t.$t("personal.kyc.fName"),errorHave:!0,value:t.kycFamilyName},on:{onchanges:t.inputChanges}}):t._e(),e("c-inputLine",{attrs:{name:"idNo",maxLength:"35",inputType:"text",promptText:t.promptText1,errorHave:!0,errorText:t.errorText1,errorFlag:t.checkErrorFlag1,marginTop:"0px",value:t.checkValue1},on:{onchanges:t.inputChanges}}),e("div",{staticClass:"upload-text clearfix"},[e("p",[t._v("1、"+t._s(t.$t("personal.kyc.text1")))]),e("p",[t._v("2、"+t._s(t.$t("personal.kyc.text2")))])]),e("c-button",{attrs:{type:"solid",big:!0,disabled:t.kycStep1Disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:function(e){return t.btnLink(1)}}},[t._v(t._s(t.$t("personal.idAuth.next"))+"\n          ")])],1):t._e(),"2"===t.active?e("div",[e("div",[e("div",{staticClass:"upload1 clearfix"},[e("div",{staticClass:"upload1-left a-4-bg a-2-bd clearfix"},[t.firstPhotoLoading?e("div",[e("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),e("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):e("div",{staticClass:"loading-Img"},[e("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.firstPhoto?t.$t("personal.idAuth.uploadIdCardPositiveAgain"):t.$t("personal.idAuth.uploadIdCardPositive"))+"\n                ")]):e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.firstPhoto?t.$t("personal.idAuth.uploadPassportPositiveAgain"):t.$t("personal.idAuth.uploadPassportPositive"))+"\n                ")])]),""!==t.firstPhotoImg?e("div",{staticClass:"loading-mc b-2-bg"},[e("img",{staticClass:"loading-img",attrs:{src:t.firstPhotoImg}}),e("div",{staticClass:"b-2-bg"})]):t._e(),e("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"firstPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),e("div",{staticClass:"upload1-right clearfix",style:t.bg1})]),e("div",{staticClass:"upload2 clearfix"},[e("div",{staticClass:"upload2-left a-4-bg a-2-bd clearfix"},[t.secondPhotoLoading?e("div",[e("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),e("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):e("div",{staticClass:"loading-Img"},[e("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.secondPhoto?t.$t("personal.idAuth.uploadIdCardBackAgain"):t.$t("personal.idAuth.uploadIdCardBack"))+"\n                ")]):e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.secondPhoto?t.$t("personal.idAuth.uploadPassportBackAgain"):t.$t("personal.idAuth.uploadPassportBack"))+"\n                ")])]),""!==t.secondPhotoImg?e("div",{staticClass:"loading-mc b-2-bg"},[e("img",{staticClass:"loading-img",attrs:{src:t.secondPhotoImg}}),e("div",{staticClass:"b-2-bg"})]):t._e(),e("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"secondPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),e("div",{staticClass:"upload2-right clearfix",style:t.bg2})]),e("div",{staticClass:"upload3 clearfix"},[e("div",{staticClass:"upload2-left a-4-bg a-2-bd clearfix"},[t.thirdPhotoLoading?e("div",[e("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),e("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):e("div",{staticClass:"loading-Img"},[e("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.thirdPhoto?t.$t("personal.idAuth.uploadIdCardPersonalPositivAgain"):t.$t("personal.idAuth.uploadIdCardPersonalPositiv"))+"\n                ")]):e("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.thirdPhoto?t.$t("personal.idAuth.uploadPassportPersonalPositivAgain"):t.$t("personal.idAuth.uploadPassportPersonalPositiv"))+"\n                ")])]),""!==t.thirdPhotoImg?e("div",{staticClass:"loading-mc"},[e("img",{staticClass:"loading-img",attrs:{src:t.thirdPhotoImg}}),e("div",{staticClass:"b-2-bg"})]):t._e(),e("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"thirdPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],isWaterMark:!0,imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),e("div",{staticClass:"upload2-right clearfix",style:t.bg3})]),e("div",{staticClass:"upload-text clearfix"},[e("p",[t._v("1、"+t._s(t.$t("personal.idAuth.uploadText")[0]))]),e("p",[t._v("2、"+t._s(t.$t("personal.idAuth.uploadText")[1]))]),e("p",[t._v("3、"+t._s(t.$t("personal.idAuth.uploadText")[2]))]),t.kycMetaText.length?e("p",[t._v("4、"+t._s(t.kycMetaText))]):e("p",[t._v("4、"+t._s(t.$t("personal.idAuth.uploadText")[3]))])]),e("c-button",{attrs:{type:"solid",big:!0,className:"",paddingW:"0px",loading:t.loading,disabled:t.disabled2,marginTop:"18px",height:"40px",width:"100%"},on:{click:function(e){return t.btnLink(2)}}},[t._v(t._s(t.$t("personal.tool.submit")))])],1)]):t._e(),"3"===t.active?e("div",[e("div",{staticClass:"audit-information"},[e("svg",{staticClass:"icon icon-50",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-g_3"}})]),e("p",[t._v("\n            "+t._s(t.$t("personal.idAuth.wait")[0])+" "),e("br"),t._v(t._s(t.$t("personal.idAuth.wait")[1])+"\n          ")])])]):t._e()])])])},s=[],o=(i("7f7f"),i("6b54"),i("a481"),i("28a5"),i("768b")),n=i("95d5"),r=i("09e5"),c=n["s"].kyc_idcard_a,l=n["s"].kyc_idcard_b,u=n["s"].kyc_idcard_c,h=n["s"].kyc_passport_a,d=n["s"].kyc_passport_b,p=n["s"].kyc_passport_c,y={name:"bindEmail",mixins:[r["a"]],data:function(){return{authLevel:3,loading:!1,firstPhotoImg:"",secondPhotoImg:"",thirdPhotoImg:"",firstPhotoLoading:!1,secondPhotoLoading:!1,thirdPhotoLoading:!1,checkValue1:"",errorText1:"",checkErrorFlag1:!1,checkValue2:"",active:"1",disabled2:!0,country:"",countryErrorFlag:!1,certificateType:2,certificateTypeErrorFlag:!1,imageType:"1",firstPhoto:"",secondPhoto:"",thirdPhoto:"",uploadName:"",kycPhone:"",kycPhoneCode:"",kycName:"",kycFamilyName:"",kycMetaText:""}},watch:{interfaceSwitch:function(t){t&&this.getLang()},userInfo:function(t){t&&(this.authLevel=this.userInfo.authLevel,2===this.authLevel||3===this.authLevel?this.active="1":0===this.authLevel?this.active="3":this.$router.push("/personal/userManagement"))},publicInfo:function(t){t&&(this.isOpenUploadImg=this.publicInfo.switch.is_open_upload_img)},authRealname:function(t){null!==t&&(this.loading=!1,"success"===t.text?(this.$bus.$emit("tip",{text:t.msg,type:"success"}),this.active="3",this.$store.dispatch("resetType")):(this.$bus.$emit("tip",{text:t.msg,type:"error"}),this.firstPhotoImg="",this.secondPhotoImg="",this.thirdPhotoImg="",this.firstPhotoLoading=!1,this.secondPhotoLoading=!1,this.thirdPhotoLoading=!1,this.checkValue1="",this.checkValue2="",this.disabled2=!0,this.active="1",this.firstPhoto="",this.secondPhoto="",this.thirdPhoto="",this.uploadName="",this.kycName="",this.kycFamilyName="",this.$store.dispatch("resetType")))}},computed:{idAuthType:function(){return[{code:2,value:this.$t("personal.kyc.type1")},{code:4,value:this.$t("personal.kyc.type2")},{code:3,value:this.$t("personal.kyc.type3")}]},promptTextType:function(){return this.$t("personal.idAuth.promptTextType")},promptText:function(){return this.$t("personal.label.promptText")},errorText:function(){return this.$t("personal.label.errorText")},text1:function(){return this.$t("personal.label.idCard")},text2:function(){return this.$t("personal.label.passport")},promptText1:function(){return this.$t("personal.label.idCardNum")},promptText2:function(){return this.$t("personal.label.name")},interfaceSwitch:function(){return this.$store.state.baseData.interfaceSwitch},publicInfo:function(){return this.$store.state.baseData.publicInfo},bg1:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(c,")")}:{backgroundImage:"url(".concat(d,")")}},bg2:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(l,")")}:{backgroundImage:"url(".concat(h,")")}},bg3:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(u,")")}:{backgroundImage:"url(".concat(p,")")}},authRealname:function(){return this.$store.state.personal.authRealname},userInfo:function(){return this.$store.state.baseData.userInfo},activeP1:function(){return"1"!==this.active?"":"b-2-cl"},activeP2:function(){return"2"!==this.active?"":"b-2-cl"},activeP3:function(){return"3"===this.active?"b-2-cl":""},activeS2:function(){return"1"!==this.active?"a-12-bg":"a-1-bg"},activeS3:function(){return"3"===this.active?"a-12-bg":"a-1-bg"},kycStep1Disabled:function(){var t=!0;return"1"===this.kycType?this.kycNationality.length&&this.checkValue2.length&&this.checkValue1.length&&(t=!1):this.kycNationality.length&&this.kycName.length&&this.kycFamilyName.length&&this.checkValue1.length&&(t=!1),t},kycNationality:function(){var t="",e=this.countryRealMap["+".concat(this.kycPhone)];if(this.kycPhone&&e){var i=e.value,a=i.split(" +"),s=Object(o["a"])(a,1);t=s[0]}return t},kycType:function(){return"156"===this.kycPhone?"1":"2"},cropPassSwitch:function(){return this.$store.state.baseData.cropPassSwitch}},methods:{init:function(){if(this.$route.query)if(this.$route.query.country)this.kycPhone="630-1"===this.$route.query.country?"630":this.$route.query.country,this.kycPhoneCode=this.$route.query.countryKeyCode;else if(this.$route.query.countryKeyCode){var t=this.countryMap["+".concat(this.$route.query.countryKeyCode)].code.replace("+","");this.kycPhone="630-1"===t?"630":t,this.kycPhoneCode=this.$route.query.countryKeyCode}else this.kycPhone="156",this.kycPhoneCode="86";null!==this.publicInfo&&(this.isOpenUploadImg=this.publicInfo.switch.is_open_upload_img),this.userInfo&&(this.authLevel=this.userInfo.authLevel,2===this.authLevel||3===this.authLevel?this.active="1":0===this.authLevel?this.active="3":this.$router.push("/personal/userManagement")),this.interfaceSwitch&&this.getLang()},getLang:function(){var t=this;this.axios({url:"/kyc/Api/getUploadImgCopywriting"}).then((function(e){"0"===e.code.toString()?e.data.language&&(t.kycMetaText=e.data.language):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},idAuthTypeChange:function(t){var e=t.code;this.certificateType=e},uploadFinish:function(t){t.name&&(this.uploadName=t.name),t.error?this.$bus.$emit("tip",{text:t.error,type:"error"}):(this["".concat(this.uploadName,"Img")]=t.url,this["".concat(this.uploadName,"Loading")]=!1,this[this.uploadName]=t.fileName,this.firstPhotoImg&&this.secondPhotoImg&&this.thirdPhotoImg&&(this.disabled2=!1))},onChangeFileFun:function(t){t.code&&"maxSize"===t.code&&this.$bus.$emit("tip",{text:this.$t("personal.exccAuthForm.text3"),type:"error"}),this.uploadName=t.name,this["".concat(this.uploadName,"Loading")]=!0},inputChanges:function(t,e){"name"===e?this.checkValue2=t:"kycFamilyName"===e?this.kycFamilyName=t:"kycName"===e?this.kycName=t:this.checkValue1=t},checkFocus:function(t){switch(t){case"email":this.checkErrorFlag1=!1,this.errorText1="";break;case"2":break;default:}},btnLink:function(t){if(1===t)this.active="2";else{this.loading=!0;var e=1;"2"===this.kycType&&(e=this.certificateType);var i={countryCode:"+".concat(this.kycPhoneCode),numberCode:this.kycPhone,certificateType:e,certificateNumber:this.checkValue1,userName:this.checkValue2||void 0,firstPhoto:this.firstPhoto,secondPhoto:this.secondPhoto,thirdPhoto:this.thirdPhoto,familyName:this.kycFamilyName||void 0,name:this.kycName||void 0};this.$store.dispatch("authRealname",i)}}}},g=(i("144a"),{mixins:[y],mounted:function(){this.init()}}),m=g,f=i("2877"),v=Object(f["a"])(m,a,s,!1,null,null,null);e["default"]=v.exports},"09e5":function(t,e,i){"use strict";i("8e6e"),i("a481");var a=i("bd86"),s=(i("456d"),i("28a5"),i("ac6a"),i("95d5"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e["a"]={data:function(){return{countryKeyCode:"",country:""}},watch:{countryObj:{handler:function(){var t=this.defaultCountryCode;this.countryListMoy&&this.countryListMoy.length&&!t&&(t=this.countryListMoy[0].keyCode),t&&""===this.countryKeyCode&&(this.countryKeyCode=t),!this.defaultCountryCodeReal&&!this.country&&t&&this.countryMap&&this.countryMap[t]&&(this.country=this.countryMap[t].code),this.defaultCountryCodeReal&&""===this.country&&(this.country=this.defaultCountryCodeReal)}},defaultCountryCodeReal:{handler:function(t){t&&""===this.country&&(this.country=t)},immediate:!0},defaultCountryCode:{handler:function(t){var e=t;this.countryListMoy&&this.countryListMoy.length&&!t&&(e=this.countryListMoy[0].keyCode),e&&""===this.countryKeyCode&&(this.defaultCountryCodeReal?this.countryKeyCode=this.countryListKeyObj[this.defaultCountryCodeReal].keyCode:this.countryKeyCode=e),!this.defaultCountryCodeReal&&!this.country&&e&&this.countryMap&&this.countryMap[e]&&(this.country=this.countryMap[e].code)},immediate:!0}},computed:{countryListKeyObj:function(){var t={};return this.countryObj.list.forEach((function(e){t[e.code]={code:e.code,keyCode:e.keyCode,value:e.value.split(" ")[0]}})),t},limitCountryList:function(){return this.$store.state.baseData.limitCountryList},countryList:function(){return this.countryObj.list},registerCountryList:function(){return this.filterCountryObj&&this.filterCountryObj.list?this.filterCountryObj.list:[]},countryListMoy:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.code,keyCode:e.keyCode,value:e.value.split(" +")[0]})})),t},filterCountryObj:function(){var t=this.$t("phoneCode"),e={},i=this.limitCountryList;return i.length>0?(i=i.join("").split("+"),Object.keys(t).forEach((function(a){e[a]=t[a].filter((function(t){var e=t.split("+");return-1===i.indexOf(e[2])}))}))):e=n({},t),Object(s["o"])(e)},countryNameList:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.value.split(" +")[0],value:e.value.split(" +")[0]})})),t},countryCodeList:function(){var t=[];return this.countryObj&&this.countryObj.list&&this.countryObj.list.forEach((function(e){t.push({code:e.keyCode,value:e.keyCode})})),t},countryFilterCodeList:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.keyCode,value:e.keyCode})})),t},countryMap:function(){return this.countryObj.countryMap},countryRealMap:function(){return this.countryObj.countryRealMap},countryObj:function(){return this.$store.state.baseData.countryObj},defaultCountryCode:function(){var t=this.$store.state.baseData.defaultCountryCode,e=this.limitCountryList;if(e.length>0&&t){var i=e.join("").split("+"),a=t.replace("+","");i.indexOf(a)>-1&&(t="")}return t},defaultCountryCodeReal:function(){var t=this.$store.state.baseData.defaultCountryCodeReal,e=this.limitCountryList;if(e.length>0){var i=e.join("").split("+"),a=t.replace(/\+/g,"");i.indexOf(a)>-1&&(t="")}return t}},methods:{countryChange:function(t){this.country=t.code,this.countryKeyCode=t.keyCode}}}},"144a":function(t,e,i){}}]);