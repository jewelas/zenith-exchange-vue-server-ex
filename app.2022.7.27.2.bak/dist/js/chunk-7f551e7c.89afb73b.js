(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f551e7c"],{"64b3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"v5-page-otcOrder fuz-card"},[e("div",{staticClass:"otcOrder-nav fuz-card-tab"},[e("c-v5-navTab",{attrs:{activeClassName:"v5-5-cl",activeColor:"v5-1-bg",className:"v5-6-cl v5-12-bd",currentTab:t.nowType,navTab:t.navTab,lineHeight:"60"},on:{currentType:t.currentType}})],1),e("div",{staticClass:"otcOrder-options"},[e("div",{staticClass:"search-box"},[e("c-v5-select",{attrs:{value:t.side,options:t.sideList,errorHave:!0,width:"160px",inputHeight:"32px"},on:{onChanges:t.sideChange}})],1),e("div",{staticClass:"search-box"},[e("c-v5-select",{attrs:{value:t.status,options:t.statusList,errorHave:!0,width:"160px",inputHeight:"32px"},on:{onChanges:t.statusChange}})],1),e("div",{staticClass:"search-box"},[e("c-v5-select",{attrs:{value:t.symbol,options:t.symbolList,errorHave:!0,width:"160px",inputHeight:"32px"},on:{onChanges:t.symbolChange}})],1),2===t.nowType?e("div",{staticClass:"search-box"},[e("c-v5-calendar",{staticClass:"date-selecter",attrs:{value:t.startTime,width:"150px",inputHeight:"32px",name:"startTime",placeholder:t.$t("profitAndLoss.startTime"),agoDayHide:t.startAgoDayHide,futureDayHide:t.startFutureDayHide},on:{onSelect:t.dateChange}}),e("span",{staticClass:"line v5-12-cl"},[t._v("â€”")]),e("c-v5-calendar",{staticClass:"date-selecter",attrs:{value:t.endTime,width:"150px",inputHeight:"32px",name:"endTime",placeholder:t.$t("profitAndLoss.endTime"),agoDayHide:t.endAgoDayHide,futureDayHide:t.endFutureDayHide},on:{onSelect:t.dateChange}})],1):t._e()]),e("div",{staticClass:"otcOrder-table"},[e("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList,classes:"v5-10-bg v5-table",lineClassesHover:"v5-9-bg",lineClasses:"v5-12-bd",cellHeight:60,headHeight:0},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?e("c-v5-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)])},n=[],s=(i("6b54"),i("456d"),i("ac6a"),i("95d5")),o={name:"page-otcOrder",data:function(){return{imgMap:s["s"],colorMap:s["b"],switchFlag:!1,tabelLoading:!0,tabelList:[],nowType:1,symbol:"all",symbolList:[],status:"all",side:"all",paginationObj:{total:0,display:10,currentPage:1},startTime:"",endTime:""}},watch:{market:function(t){t&&this.initSymbolList()}},computed:{linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},excheifFlag:function(){return!1},navTab:function(){return[{name:this.$t("newOtc.text32"),index:1},{name:this.$t("newOtc.text33"),index:2}]},sideList:function(){return[{code:"all",value:this.$t("newOtc.text34")},{code:"BUY",value:this.$t("order.otcOrder.buy")},{code:"SELL",value:this.$t("order.otcOrder.sell")}]},statusList:function(){return 1===this.nowType?[{code:"all",value:this.$t("newOtc.text35")},{code:"1",value:this.$t("newOtc.text36")},{code:"2",value:this.$t("newOtc.text37")},{code:"5",value:this.$t("newOtc.text38")},{code:"6",value:this.$t("newOtc.text39")}]:[{code:"all",value:this.$t("newOtc.text35")},{code:"3",value:this.$t("newOtc.text40")},{code:"4",value:this.$t("newOtc.text41")},{code:"7",value:this.$t("newOtc.text42")},{code:"8",value:this.$t("newOtc.text43")},{code:"9",value:this.$t("newOtc.text44")}]},market:function(){return this.$store.state.baseData.market},axiosSide:function(){return"all"===this.side?"":this.side},axiosSymbol:function(){if("all"!==this.symbol)return this.symbol},axiosStatus:function(){if("all"!==this.status)return this.status},columns:function(){var t=this,e=[];return 1===this.nowType&&(e=[{title:this.$t("order.otcOrder.nowOrderId"),align:"left",width:"110px"},{title:this.$t("order.otcOrder.nowOrderType"),align:"left",width:"90px"},{title:this.$t("order.otcOrder.nowOrderCoin"),align:"left",width:"105px"},{title:this.$t("order.otcOrder.nowOrderPirce"),align:"left",width:"120px"},{title:this.$t("order.otcOrder.nowOrderVolume"),align:"left",width:"135px"},{title:this.$t("order.otcOrder.nowOrderTotol"),align:"left",width:"135px"},{title:this.$t("order.otcOrder.service"),align:"left",width:"50px"},{title:this.$t("order.otcOrder.nowOrderStatus"),align:"left",width:"80px"},{title:this.$t("order.otcOrder.nowOrderUser"),align:"right",width:"200px"}]),2===this.nowType&&(e=[{title:this.$t("order.otcOrder.nowOrderId"),align:"left",width:"110px"},{title:this.$t("order.otcOrder.nowOrderType"),align:"left",width:"90px"},{title:this.$t("order.otcOrder.nowOrderCoin"),align:"left",width:"105px"},{title:this.$t("order.otcOrder.nowOrderPirce"),align:"left",width:"120px"},{title:this.$t("order.otcOrder.nowOrderVolume"),align:"left",width:"135px"},{title:this.$t("order.otcOrder.nowOrderTotol"),align:"left",width:"135px"},{title:this.$t("order.otcOrder.service"),align:"left",width:"50px"},{title:this.$t("order.otcOrder.nowOrderStatus"),align:"left",width:"80px"},{title:this.$t("order.otcOrder.nowOrderUser"),align:"right",width:"200px"}]),this.excheifFlag||e.forEach((function(i,a){i.title===t.$t("order.otcOrder.service")&&e.splice(a,1)})),e},baseData:function(){return this.$store.state.baseData},otcLinkUrl:function(){var t={url:"",type:""};return"ex"===window.HOSTAPI&&this.baseData.publicInfo?(t.url=this.$store.state.baseData.publicInfo.url.otcUrl,t.type="2"):"otc"===window.HOSTAPI&&(t.url="",t.type="1"),t},startAgoDayHide:function(){if(this.endTime){var t=new Date(this.endTime).getTime()-5184e6;return"".concat(t/1e3)}return"0"},startFutureDayHide:function(){if(this.endTime){var t=new Date(this.endTime).getTime();if(t<(new Date).getTime())return"".concat(t/1e3)}return"".concat((new Date).getTime()/1e3)},endAgoDayHide:function(){if(this.startTime){var t=new Date(this.startTime).getTime();return"".concat(t/1e3)}return"0"},endFutureDayHide:function(){if(this.startTime){var t=new Date(this.startTime).getTime()+5184e6;if(t<(new Date).getTime())return"".concat(t/1e3)}return"".concat((new Date).getTime()/1e3)}},methods:{getFix:function(t){return this.market.coinList[t.toLocaleUpperCase()].showPrecision},currentCoinPriceFix:function(t,e,i){var a=this.$store.state.baseData.defaultFiatPrecision;return i&&this.market&&this.market.coinList[e]&&this.market.coinList[e].fiatPrecision&&this.market.coinList[e].fiatPrecision[i.toLowerCase()]?(a=this.market.coinList[e].fiatPrecision[i.toLowerCase()],Object(s["f"])(t,a)+i):t},init:function(){this.market&&this.initSymbolList()},switchChange:function(){this.switchFlag=!this.switchFlag,this.getData()},initSymbolList:function(){var t=this.market.coinList,e=[{code:"all",value:this.$t("newOtc.text45")}];Object.keys(t).forEach((function(i){t[i].otcOpen&&e.push({code:i,value:Object(s["l"])(i,t)})})),this.symbol="all",this.symbolList=e,this.getData()},getData:function(){1===this.nowType?this.getNowData():2===this.nowType&&this.getHisData()},getNowData:function(){var t=this,e="v4/order/otc/unfinished";this.axios({url:e,method:"post",params:{status:this.axiosStatus,side:this.axiosSide,pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.axiosSymbol}}).then((function(e){if(1===t.nowType&&(t.tabelLoading=!1,"0"===e.code.toString())){var i=[];e.data.orderList.forEach((function(e){var a="";a="".concat(t.linkurl.otcUrl,"/otcDetailOrder?orderId=").concat(e.sequence);var n="";e.orderType&&(a=e.url,n='target="view_frame"');var o=[[{type:"icon",classes:"iconClass",iconSvg:'<a class="v5-1-cl" '.concat(n,' href="').concat(a,'">').concat(e.sequence,"</a>")}],[{text:e.type,classes:"BUY"===e.side?"v5-2-cl":"v5-3-cl"}],Object(s["l"])(e.coinSymbol,t.market.coinList),t.currentCoinPriceFix(e.price,e.coinSymbol,e.payCoin),Object(s["f"])(e.volume,t.getFix(e.coinSymbol)),t.currentCoinPriceFix(e.totalPrice,e.coinSymbol,e.payCoin)];t.excheifFlag&&o.push(e.relativeFee);var r=[e.status_text,e.orderType?e.realName:[{type:"icon",classes:"iconClass",iconSvg:'<a class="v5-1-cl" '.concat(n,' href="').concat(t.linkurl.otcUrl,"/stranger?uid=").concat(e.buyerId,'">').concat(e.nickName,"</a>"),subContent:{text:e.realName,classes:["v5-6-cl"]}}]];o=o.concat(r),i.push({id:JSON.stringify(e),data:o})})),t.tabelList=i,t.paginationObj.total=e.data.count}}))},getHisData:function(){var t=this,e="v4/order/otc/complete";this.axios({url:e,method:"post",params:{side:this.axiosSide,status:this.axiosStatus,isShowCanceled:1,pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.axiosSymbol,startDate:this.startTime,endDate:this.endTime}}).then((function(e){if(2===t.nowType&&(t.tabelLoading=!1,"0"===e.code.toString())){var i=[];e.data.orderList.forEach((function(e){var a="";a="".concat(t.linkurl.otcUrl,"/otcDetailOrder?orderId=").concat(e.sequence);var n="";e.orderType&&(a=e.url,n='target="view_frame"');var o=[[{type:"icon",classes:"iconClass",iconSvg:'<a class="v5-1-cl" '.concat(n,' href="').concat(a,'">').concat(e.sequence,"</a>")}],[{text:e.type,classes:"BUY"===e.side?"v5-2-cl":"v5-3-cl"}],Object(s["l"])(e.coinSymbol,t.market.coinList),t.currentCoinPriceFix(e.price,e.coinSymbol,e.payCoin),Object(s["f"])(e.volume,t.getFix(e.coinSymbol)),t.currentCoinPriceFix(e.totalPrice,e.coinSymbol,e.payCoin)];t.excheifFlag&&o.push(e.relativeFee);var r=[e.status_text,e.orderType?e.realName:[{type:"icon",classes:"iconClass",iconSvg:'<a class="v5-1-cl" '.concat(n,' href="').concat(t.linkurl.otcUrl,"/stranger?uid=").concat(e.sellerId,'">').concat(e.nickName,"</a>"),subContent:{text:e.realName,classes:["v5-6-cl"]}}]];o=o.concat(r),i.push({id:JSON.stringify(e),data:o})})),t.tabelList=i,t.paginationObj.total=e.data.count}}))},currentType:function(t){this.nowType!==t.index&&(this.nowType=t.index,this.status="all",this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},symbolChange:function(t){this.symbol!==t.code&&(this.symbol=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},statusChange:function(t){this.status!==t.code&&(this.status=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},sideChange:function(t){this.side!==t.code&&(this.side=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData())},dateChange:function(t,e){this[e]=t,("startTime"===e&&this.endTime||"endTime"===e&&this.startTime)&&this.getData()},tableClick:function(t,e){var i=JSON.parse(e);if("orderId"===t)"1"===this.otcLinkUrl.type?this.$router.push("".concat(this.otcLinkUrl.url,"/otcDetailOrder?orderId=").concat(i.sequence)):"2"===this.otcLinkUrl.type&&(window.location.href="".concat(this.otcLinkUrl.url,"/otcDetailOrder?orderId=").concat(i.sequence));else if("userName"===t){var a="";"BUY"===i.side?a=i.sellerId:"SELL"===i.side&&(a=i.buyerId),"1"===this.otcLinkUrl.type?this.$router.push("".concat(this.otcLinkUrl.url,"/stranger?uid=").concat(a)):"2"===this.otcLinkUrl.type&&(window.location.href="".concat(this.otcLinkUrl.url,"/stranger?uid=").concat(a))}},pagechange:function(t){this.paginationObj.currentPage=t,this.getData()}}},r=(i("fc06"),{mixins:[o],mounted:function(){this.init()}}),c=r,l=i("2877"),d=Object(l["a"])(c,a,n,!1,null,null,null);e["default"]=d.exports},fc06:function(t,e,i){}}]);