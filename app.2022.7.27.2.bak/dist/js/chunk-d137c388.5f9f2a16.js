(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d137c388"],{"22ef":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("section",{staticClass:"page-exchangeAccount"},[a("div",{staticClass:"exchangeAccount-header-bg"},[a("div",{staticClass:"exchangeAccount-header",style:t.exchangeHeader},[a("div",{staticClass:"canvasBox"},[a("canvas",{ref:"canvas",attrs:{width:"100",height:"100"}})]),a("ul",{staticClass:"assetsSum f-8-cl"},[a("li",{staticClass:"text"},[t._v(t._s(t.$t("assets.exchangeAccount.TotalAssets")))]),a("li",{staticClass:"num"},[t._v("\n          "+t._s(t.totalBalance)),a("span",[t._v(t._s(t.showTotalBalanceSymbol))])]),a("li",{staticClass:"conversion"},[t._v("≈ "+t._s(t.totalRate))])]),a("ul",{staticClass:"colorList f-8-cl"},t._l(t.canvasPagesFilter,(function(e,s){return a("li",{key:s},[a("span",{style:"background: ".concat(e.color)}),t._v("\n          "+t._s(e.symbol)+"\n        ")])})),0)])]),a("div",{staticClass:"exchangeAccount-body a-7-bd a-5-bg"},[t.middlemanConfigOpen?a("p",{staticClass:"exchangeAccount-xyk a-3-bd"},[a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429141529768.svg"}}),a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142925574.svg"}}),a("router-link",{staticClass:"x-3-cl",attrs:{tag:"span",to:"/creditCard"}},[t._v("\n        "+t._s(t.$t("creditCard.title"))+"\n      ")])],1):t._e(),a("div",{staticClass:"exchangeAccount-title a-3-bd"},[a("div",{staticClass:"text b-1-cl medium h5-hide"},[t._v("\n        "+t._s(t.$t("assets.exchangeAccount.ListOfFunds"))+"\n      ")]),a("div",{staticClass:"hide"},[a("c-switch",{attrs:{value:t.switchFlag},on:{click:t.switchChange}}),a("span",{staticClass:"hodetext"},[t._v(t._s(t.$t("assets.hideMinAssets")))])],1),a("div",{staticClass:"find"},[a("c-inputFind",{attrs:{promptText:t.$t("assets.exchangeAccount.SearchCurrency"),value:t.findValue,className:"findClass"},on:{onchanges:t.findChanges}})],1)]),a("div",{staticClass:"exchangeAccount-center",class:{"hide-smaill-account":t.switchFlag}},[a("c-table",{attrs:{loading:t.tabelLoading,imgMap:t.imgMap,colorMap:t.colorMap,lineNumber:t.tabelLength,columns:t.columns,dataList:t.C_data},on:{elementClick:t.tableClick}})],1),t.paginationObj.total>t.paginationObj.display?a("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1),a("c-alert",{attrs:{showFlag:t.isShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap},on:{close:t.dialogClose,confirm:t.gotoAuth}},[a("div",{staticClass:"ts-content-text"},[t._v("\n      "+t._s(t.$t("personal.exccAuthForm.text19"))+"\n    ")])])],1)},i=[],n=(e("8e6e"),e("7f7f"),e("28a5"),e("6c7b"),e("456d"),e("bd86")),c=(e("ac6a"),e("55dd"),e("75fc")),o=(e("c5f6"),e("6b54"),e("386d"),e("95d5"));function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var h={name:"page-exchangeAccount",data:function(){return{tabelLoading:!0,exchangeHeader:"background: url(".concat(o["s"].zc_ex,")"),tabelLength:20,imgMap:o["s"],colorMap:o["b"],switchFlag:!1,findValue:"",dataList:[],totalBalance:"--",totalRate:"--",totalBalanceSymbol:"",colors:["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0.8)","rgba(255, 255, 255, 0.6)","rgba(255, 255, 255, 0.4)","rgba(255, 255, 255, 0.25)","rgba(255, 255, 255, 0.1)"],canvasPages:[],havePosition:!1,positionV2:!1,positionV3:!1,searchTimer:null,searchListResult:[],search:!1,isShowDialog:!1,rechargeFlag:!0,paginationObj:{total:0,display:10,currentPage:1},lan:Object(o["n"])("lan")}},computed:{C_firData:function(){var t=this.search?this.searchListResult:this.dataList;return t},C_data:function(){var t=[],a=this.paginationObj.currentPage*this.paginationObj.display,e=JSON.parse(JSON.stringify(this.C_firData));return t=e.slice((this.paginationObj.currentPage-1)*this.paginationObj.display,a),t},publicInfo:function(){return this.$store.state.baseData.publicInfo},isShowIcon:function(){return!(!this.$store.state.baseData.publicInfo||"1"!==this.$store.state.baseData.publicInfo.switch.asset_coin_detail_switch)},middlemanConfigOpen:function(){var t=!1;return this.publicInfo&&this.publicInfo.switch&&this.publicInfo.switch.middleman_config_open&&"1"===this.publicInfo.switch.middleman_config_open.toString()&&(t=!0),t},baseData:function(){return this.$store.state.baseData.publicInfo},withdrawKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.withdraw_kyc_open),Number(t)},depositeKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.deposite_kyc_open),Number(t)},userInfo:function(){return this.$store.state.baseData.userInfo},idAuth:function(){var t=0;return this.userInfo&&(t=Number(this.userInfo.authLevel)),t},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},tradeLinkUrl:function(){return this.$store.state.baseData&&this.$store.state.baseData.publicInfo?"".concat(this.linkurl.exUrl,"/trade"):""},market:function(){return this.$store.state.baseData.market},rate:function(){return this.market&&this.market.rate?this.market.rate[this.userCurrency]||this.market.rate.USD:{}},columns:function(){var t=[];return(this.havePosition||this.positionV2||this.positionV3)&&(t=[{title:this.$t("assets.exchangeAccount.position"),width:""}]),[{title:this.$t("assets.exchangeAccount.coin"),width:"100px"},{title:this.$t("assets.exchangeAccount.lumpSum"),width:""},{title:this.$t("assets.exchangeAccount.Available"),width:""},{title:this.$t("assets.exchangeAccount.freeze"),width:""}].concat(Object(c["a"])(t),[{title:"".concat(this.$t("assets.exchangeAccount.AssetFolding"),"(").concat(this.rate.lang_coin,")"),width:""},{title:this.$t("assets.exchangeAccount.options"),width:"200px"}])},exchangeData:function(){return this.$store.state.assets.exchangeData},canvasPagesFilter:function(){var t=this,a=[],e=this.canvasPages.filter((function(t){return parseFloat(t.spk)>0}));if(e.sort(this.compare("spk")),e.length<6)e.forEach((function(e,s){var i=t.market.coinList,n=Object(o["l"])(e.symbol,i);a.push(l(l({},e),{},{symbol:n,color:t.colors[s]}))}));else if(e.length>=6){var s=0;e.forEach((function(e,i){if(i<5){var n=t.market.coinList,c=Object(o["l"])(e.symbol,n);a.push(l(l({},e),{},{symbol:c,color:t.colors[i]}))}else s+=e.spk})),a.push({symbol:this.$t("assets.exchangeAccount.other"),spk:s,color:this.colors[5]})}return a},showTotalBalanceSymbol:function(){var t=this.totalBalanceSymbol;return this.market&&this.market.coinList&&this.market.coinList[this.totalBalanceSymbol]&&(t=Object(o["l"])(this.totalBalanceSymbol,this.market.coinList)),t},cropPassSwitch:function(){return this.$store.state.baseData.cropPassSwitch},userCurrency:function(){return Object(o["n"])("user_Currency")||"USD"}},watch:{C_firData:{immediate:!0,handler:function(t){this.paginationObj.total=t.length}},exchangeData:function(t){t&&this.market&&this.setData()},market:function(t){t&&this.exchangeData&&this.setData()},canvasPagesFilter:function(t){0===t.length?this.canvasInit():this.canvasMap()}},methods:{pagechange:function(t){this.paginationObj.currentPage=t},init:function(){o["u"].get("assetsSwitch")&&(this.switchFlag=o["u"].get("assetsSwitch")),this.canvasInit(),this.$store.dispatch("assetsExchangeData"),this.cropPassSwitch&&this.getWhiteList(),this.exchangeData&&this.market&&this.setData()},getWhiteList:function(){var t=this;this.axios({url:"finance/whiteListUsers",headers:{},params:{},method:"post"}).then((function(a){"0"===a.code?t.rechargeFlag=a.data.whiteListUsers.some((function(a){return Number(a)===t.userInfo.id})):t.$bus.$emit("tip",{text:a.msg,type:"error"})}))},setData:function(){var t=this.exchangeData,a=t.totalBalance,e=t.totalBalanceSymbol,s=t.platformCoin,i=t.allCoinMap;this.positionV3=Object.keys(i).some((function(t){return Number(i[t].lock_increment_amount)>0}));var n=this.market,c=n.coinList,r=n.rate,l=c[e]&&c[e].showPrecision||8;if(this.totalBalance=Object(o["f"])(a,l),this.totalBalanceSymbol=e,this.totalRate=Object(o["i"])(a,r,e,this.userCurrency),s&&s.length){var h=i[s];h&&Number(h.lock_position_balance)&&(this.havePosition=!0)}this.baseData.switch.lock_position_v2_status&&"1"===this.baseData.switch.lock_position_v2_status.toString()&&(this.positionV2=!0),this.setDataList(i,a)},compare:function(t){return function(a,e){var s=a[t],i=e[t];return i-s}},switchChange:function(){this.switchFlag=!this.switchFlag,o["u"].set("assetsSwitch",this.switchFlag),this.findChanges(this.findValue)},canvasMap:function(){var t=this.$refs.canvas.getContext("2d");this.$refs.canvas.width=100,this.$refs.canvas.height=100;var a=0;this.canvasPagesFilter.forEach((function(e){var s=a+2*e.spk;a>=2||(s>2&&(s=2),t.beginPath(),t.moveTo(50,50),t.fillStyle=e.color,t.arc(50,50,50,Math.PI*a,Math.PI*s),t.closePath(),t.fill(),a=s)})),t.beginPath(),t.moveTo(50,50),t.fillStyle="#294EBB",t.arc(50,50,35,0*Math.PI,2*Math.PI),t.closePath(),t.fill()},canvasInit:function(){var t=this.$refs.canvas.getContext("2d");this.$refs.canvas.width=100,this.$refs.canvas.height=100,t.beginPath(),t.moveTo(50,50),t.fillStyle="#e0e0e0",t.arc(50,50,50,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.moveTo(50,50),t.fillStyle="#294EBB",t.arc(50,50,35,0*Math.PI,2*Math.PI),t.closePath(),t.fill()},findChanges:function(t){var a=this;if(this.findValue=t,this.searchTimer&&clearTimeout(this.searchTimer),""!==t||this.switchFlag){var e=this.dataList.filter((function(e){var s=!a.switchFlag||a.switchFlag&&"smail-account"!==e.classes,i=s&&-1!==e.data[0].toUpperCase().indexOf(t.toUpperCase());return i}));this.searchListResult=e,this.search=!0,this.paginationObj.currentPage=1}else this.search=!1},tableClick:function(t,a){var e=this.exchangeData.allCoinMap,s=e[a].symbolType;if("withdraw"===t&&(this.withdrawKycOpen&&1!==this.idAuth?this.isShowDialog=!0:2===s?this.$router.push("mnWithdraw?symbol=".concat(a)):this.$router.push("withdraw?symbol=".concat(a))),"recharge"===t&&(this.depositeKycOpen&&1!==this.idAuth?this.isShowDialog=!0:2===s?this.$router.push("mnRecharge?symbol=".concat(a)):this.$router.push("recharge?symbol=".concat(a))),"goTrade"===t){var i=a.code;if(-1===i.toString().indexOf("/"))return;o["u"].set("markTitle",i.split("/")[1]),o["u"].set("sSymbolName",i),window.location.href=this.tradeLinkUrl}else"goTradeIn"===t&&(window.location.href=this.tradeLinkUrl)},dialogClose:function(){this.isShowDialog=!1},gotoAuth:function(){this.$router.push("/personal/userManagement")},setDataList:function(t,a){var e=this,s=[],i=[];Object.keys(t).forEach((function(n){if(!t[n].isFiat||0!==t[n].symbolType){i.push({symbol:n,spk:t[n].allBtcValuatin/a});var r=e.market,l=r.coinList,h=r.market,u=r.rate,g=l[n]&&l[n].showPrecision||0,b=e.totalBalanceSymbol,p=l[b]&&l[b].showPrecision||0,f=[],d=[];Object.keys(h).forEach((function(t){Object.keys(h[t]).forEach((function(a){var e=h[t][a].showName||h[t][a].name;a.split("/")[0]===n&&f.push({value:e,code:h[t][a].name}),t===n&&d.push({value:e,code:h[t][a].name})}))})),0===f.length&&(f=d);var m=[],v=t[n].lock_position_balance||"0",w=t[n].lock_position_v2_amount||"0",y=t[n].lock_increment_amount||"0";if(e.havePosition||e.positionV2||e.positionV3){var O=Number(v)+Number(w)+Number(y),k=[];Number(v)&&k.push("".concat(e.$t("assets.exchangeAccount.positionBalance"),"：\n                    ").concat(Object(o["f"])(v,g))),Number(w)&&k.push("".concat(e.$t("assets.exchangeAccount.positionV2Amount"),"：\n                  ").concat(Object(o["f"])(w,g))),Number(y)&&k.push("".concat(e.$t("assets.exchangeAccount.incomeLock"),"：").concat(Object(o["f"])(y,g))),m=[O?[{type:"select",iconSvg:'<span class="position">'.concat(Object(o["f"])(O,g),"</span>"),selectOption:k,iconClass:["aaa"],eventType:"",selectWidth:"150"}]:Object(o["f"])(O,g)]}var _=Object(o["l"])(n,l),x=!1;l[n]&&l[n].isOvercharge&&"1"===l[n].isOvercharge.toString()&&(x=!0);var C=Object(o["f"])(t[n].allBtcValuatin,p);s.push({id:n,btcValuation:C,classes:C>=1e-4?"":"smail-account",data:[_,Object(o["f"])(t[n].total_balance,g),x?[{text:Object(o["f"])(t[n].normal_balance,g),subContent:{text:"".concat(Object(o["f"])(t[n].overcharge_balance||0,g)," (").concat(e.$t("assets.exchangeAccount.limit"),")"),classes:"showUnlockSell"}}]:Object(o["f"])(t[n].normal_balance,g),Object(o["f"])(t[n].lock_balance,g)].concat(Object(c["a"])(m),[Object(o["i"])(t[n].allBtcValuatin,u,"BTC",e.userCurrency),[t[n].coinName===e.baseData.financing_symbol?{type:t[n].coinName===e.baseData.financing_symbol?"link":"label",text:"去理财",links:"/manageFinances",classes:[t[n].coinName===e.baseData.financing_symbol?"":"tableNownStyle b-2-cl"]}:"",{type:t[n].depositOpen&&e.rechargeFlag?"button":"label",text:e.$t("assets.exchangeAccount.Recharge"),links:"recharge?symbol=".concat(n),eventType:"recharge",classes:[t[n].depositOpen&&e.rechargeFlag?"":"tableNownStyle b-2-cl"]},{type:t[n].withdrawOpen&&e.rechargeFlag?"button":"label",text:e.$t("assets.exchangeAccount.withdraw"),links:"withdraw?symbol=".concat(n),eventType:"withdraw",classes:[t[n].withdrawOpen&&e.rechargeFlag?"":"tableNownStyle tableTithDraw b-2-cl"]},f.length&&e.isShowIcon?{type:"select",iconSvg:'<svg class="icon icon-16" aria-hidden="true"><use xlink:href="#icon-c_1"></use></svg>',selectOption:f,iconClass:[""],eventType:"goTrade"}:{type:"icon",iconSvg:'<span style="display: inline-block; width: 16px; height: 16px"></span>'}]])})}})),this.canvasPages=i,this.tabelLoading=!1,this.tabelLength=s.length,this.dataList=s.sort((function(t,a){return t.id-a.id})),this.findChanges(this.findValue)}}},u=(e("f2bd"),{mixins:[h],mounted:function(){this.init()}}),g=u,b=e("2877"),p=Object(b["a"])(g,s,i,!1,null,null,null);a["default"]=p.exports},"36bd":function(t,a,e){"use strict";var s=e("4bf8"),i=e("77f1"),n=e("9def");t.exports=function(t){var a=s(this),e=n(a.length),c=arguments.length,o=i(c>1?arguments[1]:void 0,e),r=c>2?arguments[2]:void 0,l=void 0===r?e:i(r,e);while(l>o)a[o++]=t;return a}},"6c7b":function(t,a,e){var s=e("5ca1");s(s.P,"Array",{fill:e("36bd")}),e("9c6c")("fill")},f2bd:function(t,a,e){}}]);