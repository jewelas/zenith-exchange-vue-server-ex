(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b37af14"],{"3bdb":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("section",{staticClass:"page-coAccount"},[a("div",{staticClass:"coAccount-header-bg fuz-card fuz-gap small"},[a("div",{staticClass:"coAccount-header",style:t.exchangeHeader},[a("div",{staticClass:"quota b-8-cl"},[a("div",{staticClass:"title b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.quota")))]),a("div",{staticClass:"number"},[t._v("\n          "+t._s(t._f("fixDFn")(t.detailsData.margin,this))+"\n          "),a("span",{staticClass:"Company"},[t._v(t._s(t.detailsData.quoteSymbol))])]),a("div",{staticClass:"Legal"},[t._v("≈ "+t._s(t._f("fixRateFn")(t.detailsData.margin,this)))])]),a("ul",{staticClass:"cohead-list b-1-cl a-22-bd"},[a("li",[a("div",{staticClass:"key b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.totel")))]),a("div",{staticClass:"value b-8-cl"},[t._v("\n            "+t._s(t._f("fixDFn")(t.detailsData.canUseBalance,this))+" "+t._s(t.detailsData.quoteSymbol)+"\n          ")])]),a("li",[a("div",{staticClass:"key b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.accountRight")))]),a("div",{staticClass:"value b-8-cl"},[t._v("\n            "+t._s(t._f("fixDFn")(t.detailsData.accountRight,this))+" "+t._s(t.detailsData.quoteSymbol)+"\n          ")])]),a("li",[a("div",{staticClass:"key b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.orderMargin")))]),a("div",{staticClass:"value b-8-cl"},[t._v("\n            "+t._s(t._f("fixDFn")(t.detailsData.orderMargin,this))+" "+t._s(t.detailsData.quoteSymbol)+"\n          ")])])]),a("ul",{staticClass:"cohead-list b-1-cl a-22-bd"},[a("li",[a("div",{staticClass:"key b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.positionMargin")))]),a("div",{staticClass:"value b-8-cl"},[t._v("\n            "+t._s(t._f("fixDFn")(t.detailsData.positionMargin,this))+" "+t._s(t.detailsData.quoteSymbol)+"\n          ")])]),a("li",[a("div",{staticClass:"key b-9-cl"},[t._v(t._s(t.$t("assets.coAccount.unrealisedAmount")))]),a("div",{staticClass:"value b-8-cl"},[t._v("\n            "+t._s(t._f("fixDFn")(t.detailsData.unrealisedAmount,this))+" "+t._s(t.detailsData.quoteSymbol)+"\n          ")])])])])]),a("div",{staticClass:"exchangeAccount-body fuz-noborder fuz-card"},[a("div",{staticClass:"exchangeAccount-title fuz-card-title"},[a("div",{staticClass:"text b-1-cl medium",staticStyle:{"line-height":"1",float:"none"}},[t._v("\n        "+t._s(t.$t("assets.coAccount.listTitle"))+"\n      ")]),a("div",{staticClass:"client f-7-cl",staticStyle:{"line-height":"1"}},[a("svg",{staticClass:"icon icon-16 client-icon",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-c_2"}})]),a("span",{staticClass:"client-text"},[t._v("\n          "+t._s(t.$t("assets.coAccount.useMarginRate"))+"：\n          "+t._s(t.detailsData.useMarginRate)+"%")])])]),a("div",{staticClass:"exchangeAccount-center fuz-full"},[a("c-table",{attrs:{cellHeight:55,imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,lineNumber:t.tableData.length,columns:t.columns,dataList:t.tableData},on:{elementClick:t.tableClick}})],1)]),a("c-dialog",{attrs:{showFlag:t.showFlag,titleText:t.$t("assets.coAccount.transfer"),confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[a("section",{staticClass:"transfer-box"},[a("ul",{staticClass:"transfer-content a-4-bg"},[a("li",{staticClass:"transfer-page"},[a("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("assets.otcAccount.from")))]),a("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.from))])]),a("li",{staticClass:"transfer-icon"},[a("svg",{staticClass:"icon icon-36",attrs:{"aria-hidden":"true"},on:{click:t.setTransferSide}},[a("use",{attrs:{"xlink:href":"#icon-f_4"}})])]),a("li",{staticClass:"transfer-page"},[a("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("assets.otcAccount.to")))]),a("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.to))])])]),a("c-inputLine",{attrs:{name:"transferValue",value:t.transferValue,promptText:t.$t("assets.otcAccount.volume"),errorHave:!0,errorFlag:t.transferError,errorText:t.$t("assets.otcAccount.volumeError"),warningText:t.transferWarningText},on:{onchanges:t.inputLineChange}},[a("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allTransfer}},[t._v("\n            "+t._s(t.$t("assets.otcAccount.all"))+"\n          ")])],1)],1)])],1)},i=[],n=(s("c5f6"),s("768b")),c=(s("6b54"),s("28a5"),s("ac6a"),s("95d5")),o={name:"page-coAccount",data:function(){return{showFlag:!1,tabelInfoData:[],detailsData:{},tabelLoading:!0,imgMap:c["s"],colorMap:c["b"],exchangeHeader:"background: url(".concat(c["s"].assetsco,")"),transferSide:"1",transferValue:"",dialogConfirmLoading:!1}},filters:{fixDFn:function(t,a){return Object(c["f"])(t,a.detailsData.showPrecision)},fixRateFn:function(t,a){if(a.market&&a.market.rate&&a.detailsData.quoteSymbol){var s=a.market.rate,e=a.detailsData.quoteSymbol;return Object(c["i"])(t,s,e,this.userCurrency)}return"--"}},watch:{transferValue:function(t){this.transferValue=Object(c["h"])(t,this.detailsData.showPrecision)}},computed:{dialogConfirmDisabled:function(){if(this.dialogConfirmLoading)return!1;var t=!0;return parseFloat(this.transferValue)>0&&!this.transferError&&(t=!1),t},transferError:function(){var t=!1,a=this.detailsData,s=a.walletBalance,e=a.margin;return"1"===this.transferSide?parseFloat(this.transferValue)>parseFloat(s)&&(t=!0):"2"===this.transferSide&&parseFloat(this.transferValue)>parseFloat(e)&&(t=!0),t},transferWarningText:function(){var t=this.$t("assets.otcAccount.can"),a=this.detailsData,s=a.walletBalance,e=a.canUseBalance,i=a.quoteSymbol,n="1"===this.transferSide?Object(c["f"])(s,this.detailsData.showPrecision):Object(c["f"])(e,this.detailsData.showPrecision);return"".concat(t," ").concat(n," ").concat(i)},side:function(){var t=this.$t("assets.otcAccount.exchangeAccount"),a=this.$t("assets.coAccount.coAccount"),s="",e="";return"1"===this.transferSide?(s=t,e=a):(s=a,e=t),{from:s,to:e}},tableData:function(){var t=this,a=[];return this.tabelInfoData.forEach((function(s){var e="";switch(s.contractType){case 0:e=t.$t("assets.coAccount.type1");break;case 1:e=t.$t("assets.coAccount.type2");break;case 2:e=t.$t("assets.coAccount.type3");break;case 3:e=t.$t("assets.coAccount.type4");break;case 4:e=t.$t("assets.coAccount.type5");break;default:e=""}var i="";if(s.contractType){var n=s.settleTime.split(" ")[0].split("-");i=n[1]+n[2]}a.push({id:JSON.stringify(s),data:[[{text:s.contractSeries,subContent:"".concat(e," · ").concat(i," (").concat(s.leverageLevel,"X)")}],[{text:"BUY"===s.side?"+".concat(s.volume):"-".concat(s.volume),classes:"BUY"===s.side?"u-1-cl":"u-4-cl"}],"".concat(Object(c["f"])(s.realisedAmount,s.showPrecision)," ").concat(s.quoteSymbol),"".concat(Object(c["f"])(s.unrealisedAmount,s.showPrecision)," ").concat(s.quoteSymbol),[{type:"icon",iconSvg:'<svg class="icon icon-16" aria-hidden="true"><use xlink:href="#icon-c_1"></use></svg>',iconClass:[""],eventType:"goTrade"}]]})})),a},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},tradeLinkUrl:function(){return this.$store.state.baseData&&this.$store.state.baseData.publicInfo?"".concat(this.linkurl.coUrl,"/trade"):""},columns:function(){return[{title:this.$t("assets.coAccount.list1"),width:"20%"},{title:this.$t("assets.coAccount.list2"),width:"20%"},{title:this.$t("assets.coAccount.list3"),width:"25%"},{title:this.$t("assets.coAccount.list4"),width:"25%"},{title:this.$t("assets.coAccount.list5"),width:"10%"}]},market:function(){return this.$store.state.baseData.market},userCurrency:function(){return Object(c["n"])("user_Currency")||"USD"}},methods:{init:function(){var t=this;this.getDetailData(),this.axios({url:"hold_contract_list",hostType:"co"}).then((function(a){"0"===a.code.toString()&&(t.tabelLoading=!1,t.tabelInfoData=a.data)}))},getDetailData:function(){var t=this;this.axios({url:"account_balance",hostType:"co"}).then((function(a){if("0"===a.code.toString()){var s=Object(n["a"])(a.data,1),e=s[0];t.detailsData=e}else t.$bus.$emit("tip",{text:a.msg,type:"error"})}))},dialogClose:function(){this.showFlag=!1},dialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0;var a=this.detailsData,s=a.contractAccountType,e=a.walletAccountType;this.axios({url:"capital_transfer",hostType:"co",params:{fromType:"1"===this.transferSide?e:s,toType:"1"===this.transferSide?s:e,amount:Number(this.transferValue),bond:this.detailsData.quoteSymbol},method:"post"}).then((function(a){t.dialogConfirmLoading=!1,"0"===a.code.toString()?(t.$bus.$emit("tip",{text:a.msg,type:"success"}),t.transferSide="1",t.transferValue="",t.showFlag=!1,t.getDetailData()):t.$bus.$emit("tip",{text:a.msg,type:"error"})}))},clickDialog:function(){this.showFlag=!0},inputLineChange:function(t,a){this[a]=t},setTransferSide:function(){"1"===this.transferSide?this.transferSide="2":"2"===this.transferSide&&(this.transferSide="1"),this.transferValue=""},tableClick:function(t,a){if("goTrade"===t){var s=JSON.parse(a);c["u"].set("coMarkTitle",s.contractSeries),c["u"].set("coNowSymbol",s.symbol),window.location.href=this.tradeLinkUrl}},allTransfer:function(){var t=this.detailsData,a=t.walletBalance,s=t.canUseBalance;if("1"===this.transferSide){if(!a)return;this.transferValue=a.toString()}else if("2"===this.transferSide){if("--"===!s)return;this.transferValue=s.toString()}}}},r=(s("7eef"),{mixins:[o],mounted:function(){this.init()}}),l=r,u=s("2877"),d=Object(u["a"])(l,e,i,!1,null,null,null);a["default"]=d.exports},"7eef":function(t,a,s){}}]);