(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ab0827f"],{"95ff":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t._self._c;return i("section",{staticClass:"v5-page-otcFlowingWater v5-10-bg"},[i("header",{staticClass:"flowingWater-header v5-5-cl v5-12-bd"},[i("svg",{staticClass:"icon icon-20 icon-back",attrs:{"aria-hidden":"true"},on:{click:t.goBack}},[i("use",{attrs:{"xlink:href":"#icon-v5_36"}})]),i("span",[t._v(t._s(t.$t("assets.otcFlowingWater.title")))]),i("div",{staticClass:"selectParam"},[i("c-v5-select",{staticClass:"type-select flowWater-select",attrs:{value:t.type,options:t.typeList,errorHave:!0,width:"160px",inputHeight:"32px"},on:{onChanges:t.typeChange}}),i("c-v5-select",{staticClass:"flowWater-select",attrs:{value:t.symbol,options:t.symbolList,errorHave:!0,width:"160px",inputHeight:"32px",filterable:!0},on:{onChanges:t.symbolChange}})],1)]),i("div",{staticClass:"flowingWater-table"},[i("c-v5-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tabelList},scopedSlots:t._u([{key:"coin",fn:function(a){return t.coinList&&t.coinList[a.row.coin]?i("dl",{staticClass:"table-coin"},[i("dt",[i("img",{attrs:{src:t.coinList[a.row.coin].icon,alt:""}})]),i("dd",[i("div",{staticClass:"coinShowName v5-5-cl"},[t._v(t._s(t._f("getCoinShowName")(a.row.coin,t.coinList)))]),i("div",{staticClass:"coinLongName v5-6-cl"},[t._v("\n            "+t._s(t.coinList[a.row.coin].longName||a.row.coin)+"\n          ")])])]):t._e()}}],null,!0)}),t.paginationObj.total>t.paginationObj.display?i("c-v5-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)])},n=[],s=(a("a481"),a("6b54"),a("456d"),a("ac6a"),a("95d5")),o={name:"page-flowingWater",data:function(){return{tabelLoading:!0,imgMap:s["s"],colorMap:s["b"],type:"all",symbol:"",tabelList:[],symbolList:[],paginationObj:{total:0,display:10,currentPage:1}}},computed:{typeList:function(){return[{code:"all",value:this.$t("assets.otcFlowingWater.all")},{code:"1",value:this.$t("assets.otcFlowingWater.inOtc")},{code:"2",value:this.$t("assets.otcFlowingWater.outOtc")}]},market:function(){return this.$store.state.baseData.market},coinList:function(){return this.market&&this.market.coinList},columns:function(){var t=[{key:"coin",title:this.$t("assets.otcFlowingWater.listCoin"),width:"30%"},{key:"time",title:this.$t("assets.otcFlowingWater.listTime"),width:"30%"},{key:"type",title:this.$t("assets.otcFlowingWater.listType"),width:"30%"},{key:"amount",title:this.$t("assets.otcFlowingWater.listVolume"),width:"10%"}];return t},axiosSymbol:function(){return"all"===this.symbol?null:this.symbol},axiosType:function(){return"all"===this.type?null:this.type}},watch:{market:function(t){t&&this.setData()}},filters:{getCoinShowName:function(t,i){return t?Object(s["l"])(t,i):""}},methods:{init:function(){this.market&&this.setData()},goBack:function(){this.$router.back()},symbolChange:function(t){this.symbol=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData()},typeChange:function(t){this.type=t.code,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.tabelLoading=!0,this.getData()},setData:function(){var t=this,i=[{code:"all",value:this.$t("assets.otcFlowingWater.allCoin")}];Object.keys(this.market.coinList).forEach((function(a){1===t.market.coinList[a].otcOpen&&i.push({img:t.market.coinList[a].icon,value:Object(s["l"])(a,t.market.coinList),code:a})})),this.symbolList=i,this.symbol="all",this.getData()},thousands:function(t){if(t&&parseFloat(t)){var i=t.toString(),a=i.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return i.replace(a,"$1,")}return t},getData:function(){var t=this;this.axios({url:"/record/otc_transfer_list",params:{pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.axiosSymbol,transactionType:this.axiosType}}).then((function(i){if(t.tabelLoading=!1,"0"===i.code.toString()){var a=[];i.data.financeList.forEach((function(i,e){var n=t.market.coinList,o=n[i.coinSymbol]&&n[i.coinSymbol].showPrecision||0;a.push({id:e,coin:i.coinSymbol,time:i.createTime,type:i.transactionType_text,amount:t.thousands(Object(s["f"])(i.amount,o))})})),t.tabelList=a,t.paginationObj.total=i.data.count}else t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},pagechange:function(t){this.paginationObj.currentPage=t,this.getData()}}},c=(a("cfa1"),{mixins:[o],mounted:function(){this.init()}}),l=c,r=a("2877"),u=Object(r["a"])(l,e,n,!1,null,null,null);i["default"]=u.exports},cfa1:function(t,i,a){}}]);