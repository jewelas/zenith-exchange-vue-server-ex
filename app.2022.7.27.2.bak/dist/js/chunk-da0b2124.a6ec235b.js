(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da0b2124"],{b1f7:function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("c-v5-dialog",{staticClass:"v5-transfer-dialog",attrs:{showFlag:t.showTransfer,titleText:t.$t("assets.otcAccount.CapitalTransfer"),confirmText:t.$t("assets.leverageAccount.transfer"),confirmDisabled:t.transferDisabled,size:"large"},on:{close:t.closeTransfer,confirm:t.confirmTransfer}},[s("div",{staticClass:"transfer-form"},[s("div",{staticClass:"transfer-account",class:{reverse:2===t.transferSide}},[s("div",{staticClass:"exchange account-side"},[s("c-v5-input",{attrs:{width:"184px",name:"exchangeAccount",readonly:!0,value:t.$t("assets.index.exchangeAccount")}},[s("div",{staticClass:"v5-6-cl",attrs:{slot:"promptExtend"},slot:"promptExtend"},[t._v("\n                "+t._s(1===t.transferSide?t.$t("assets.otcAccount.from"):t.$t("assets.otcAccount.to"))+"\n              ")])]),s("div",{staticClass:"available v5-6-cl"},[t._v("\n                "+t._s(t.$t("assets.otcAccount.Available"))+":\n                "+t._s(t._f("thousands")(t.exchangeAvailable))+" "+t._s(t.transferCoin)+"\n              ")])],1),s("div",{staticClass:"change-icon"},[s("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"},on:{click:t.changeTransferSide}},[s("use",{attrs:{"xlink:href":"#icon-assets_9"}})])]),s("div",{staticClass:"other account-side"},[s("c-v5-input",{attrs:{width:"184px",readonly:!0,value:t.$t("assets.index.leverage")}},[s("div",{staticClass:"v5-6-cl",attrs:{slot:"promptExtend"},slot:"promptExtend"},[t._v("\n                "+t._s(2===t.transferSide?t.$t("assets.otcAccount.from"):t.$t("assets.otcAccount.to"))+"\n              ")])]),s("div",{staticClass:"available v5-6-cl"},[t._v("\n                "+t._s(t.$t("assets.otcAccount.Available"))+":\n                "+t._s(t._f("thousands")(t.otherAvailable))+" "+t._s(t.transferCoin)+"\n              ")])],1)]),s("div",{staticClass:"transfer-symbol"},[s("c-v5-select",{attrs:{width:"100%",name:"transferSymbol",imgMap:t.imgMap,filterable:!0,options:t.symbolList,value:t.transferSymbol},on:{onChanges:t.selectChange}},[s("div",{staticClass:"v5-6-cl",attrs:{slot:"promptExtend"},slot:"promptExtend"},[t._v("\n              "+t._s(t.$t("order.exchangeOrder.coin"))+"\n            ")])])],1),s("div",{staticClass:"transfer-coin"},[s("c-v5-select",{attrs:{width:"100%",name:"transferCoin",imgMap:t.imgMap,options:t.leverCoinList,filterable:!0,value:t.transferCoin},on:{onChanges:t.selectChange}},[s("div",{staticClass:"v5-6-cl",attrs:{slot:"promptExtend"},slot:"promptExtend"},[t._v("\n              "+t._s(t.$t("assets.otcAccount.coin"))+"\n            ")])])],1),s("div",{staticClass:"transfer-num"},[s("c-v5-input",{attrs:{width:"100%",name:"transferNum",placeholder:t.$t("trade.pleaseInput")+t.$t("assets.otcAccount.volume"),value:t.transferNum,clearable:!0,errorFlag:t.transferError,errorText:t.$t("assets.otcAccount.volumeError"),warningText:t.transferWarningText},on:{onChanges:t.inputChange}},[s("div",{staticClass:"v5-6-cl",attrs:{slot:"promptExtend"},slot:"promptExtend"},[t._v("\n              "+t._s(t.$t("assets.otcAccount.volume"))+"\n            ")]),s("span",{staticClass:"transfer-all v5-1-cl",attrs:{slot:"append"},on:{click:t.transferAll},slot:"append"},[t._v(t._s(t.$t("assets.otcAccount.all")))])])],1)])])},n=[],i=(e("7f7f"),e("456d"),e("ac6a"),e("a481"),e("6b54"),e("c5f6"),e("95d5")),r={props:{leverMap:{type:Object,default:function(){}}},data:function(){return{imgMap:i["s"],showTransfer:!1,transferAccount:"",transferSide:1,transferSymbol:"",leverCoinList:[],transferCoin:"",transferNum:"",symbolList:[],symbolName:"",leverBalance:{}}},watch:{transferSymbol:function(t){if(t){var s=this.leverMap[t],e=s.baseCoin,a=s.quoteCoin,n=this.market.coinList;this.leverCoinList=[{img:n[e].icon,code:e,value:Object(i["l"])(e,n)},{img:n[a].icon,code:a,value:Object(i["l"])(a,n)}],(!this.transferCoin||this.transferCoin!==e&&this.transferCoin!==a)&&(this.transferCoin=this.leverCoinList[0].code)}else this.leverCoinList=[]},transferNum:function(t){this.transferNum=Object(i["h"])(t,this.transferCoinFix)},symbolName:function(t){t&&this.getLeverBalance()},leverMap:{handler:function(t){t&&this.setLeverData()},deep:!0}},computed:{market:function(){return this.$store.state.baseData.market},transferWarningText:function(){var t=this.$t("assets.otcAccount.can"),s=Object(i["f"])(this.transferCanNum,this.transferCoinFix);return 2===this.transferSide&&(s=Object(i["f"])(this.transferCanNum,8)),"".concat(t," ").concat(s," ").concat(this.getShowCoin(this.transferCoin)," ")},transferCoinFix:function(){var t=0;return this.market&&this.market.coinList&&this.market.coinList[this.transferCoin]&&(t=this.market.coinList[this.transferCoin].showPrecision),Number(t)},transferError:function(){var t=!1;return parseFloat(this.transferNum)>parseFloat(this.transferCanNum)&&(t=!0),t},transferCanNum:function(){var t=0;return t=1===this.transferSide?this.exchangeAvailable:this.otherAvailable,Number(t)},transferDisabled:function(){return!this.transferNum||!this.transferCoin||this.transferError},transferBalance:function(){if(this.transferCoin&&this.leverBalance){var t=this.market.coinList[this.transferCoin].showPrecision,s=this.leverBalance;return this.transferCoin===s.baseCoin?{exchangeAvailable:Object(i["f"])(s.baseExNormalBalance,t),otherAvailable:Object(i["f"])(s.baseCanTransfer,t)}:{exchangeAvailable:Object(i["f"])(s.quoteEXNormalBalance,t),otherAvailable:Object(i["f"])(s.quoteCanTransfer,t)}}return{exchangeAvailable:"--",otherAvailable:"--"}},exchangeAvailable:function(){return this.transferBalance.exchangeAvailable},otherAvailable:function(){return this.transferBalance.otherAvailable}},filters:{thousands:function(t){if(t){var s=t.toString(),e=s.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return s.replace(e,"$1,")}return t}},methods:{init:function(){var t=this;this.$bus.$on("openTransfer",(function(s,e,a){s&&(t.transferSymbol=s,t.symbolName=a),e&&(t.transferCoin=e),t.showTransfer=!0}))},getShowCoin:function(t){if(!this.market)return t;var s=this.market.coinList,e=t;return this.market&&s&&(e=Object(i["l"])(t,s)),e},showLoading:function(t){this.$emit("showLoading",t)},getLeverBalance:function(){var t=this;this.showLoading(!0),this.axios({url:"lever/finance/symbol/balance",params:{symbol:this.symbolName}}).then((function(s){t.showLoading(!1),"0"===s.code.toString()?t.leverBalance=s.data:t.$bus.$emit("tip",{text:s.msg,type:"error"})}))},setLeverData:function(){var t=this.market.coinList,s=[],e=this.leverMap;Object.keys(e).forEach((function(a){s.push({symbol:e[a].symbol,code:e[a].name,value:"".concat(Object(i["l"])(e[a].baseCoin,t),"/").concat(Object(i["l"])(e[a].quoteCoin,t))})})),this.symbolList=[].concat(s),this.transferSymbol||(this.transferSymbol=this.symbolList[0].code),this.symbolName||(this.symbolName=this.symbolList[0].symbol),this.showLoading(!1)},changeTransferSide:function(){this.transferNum="",1===this.transferSide?this.transferSide=2:this.transferSide=1},closeTransfer:function(){this.showTransfer=!1,this.transferNum="",this.transferSide=1},transferAll:function(){1===this.transferSide?this.transferNum=this.exchangeAvailable:this.transferNum=this.otherAvailable},confirmTransfer:function(){var t=this;this.showLoading(!0);var s={fromAccount:1===this.transferSide?"1":"2",toAccount:1===this.transferSide?"2":"1",amount:this.transferNum,coinSymbol:this.transferCoin,symbol:this.symbolName};this.axios({url:"lever/finance/transfer",params:s}).then((function(s){t.showLoading(!1),"0"===s.code.toString()?(t.clearTransfer(),t.showTransfer=!1,t.$emit("success"),t.$bus.$emit("tip",{text:s.msg,type:"success"})):t.$bus.$emit("tip",{text:s.msg,type:"error"})}))},clearTransfer:function(){this.transferSide=1,this.transferNum="",this.transferSymbol="",this.transferCoin="",this.symbolName=""},selectChange:function(t,s){this[s]=t.code,t.symbol&&(this.symbolName=t.symbol)},inputChange:function(t,s){this[s]=t}}},o=(e("ff39"),{mixins:[r],mounted:function(){this.init()}}),c=o,l=e("2877"),u=Object(l["a"])(c,a,n,!1,null,null,null);s["a"]=u.exports},b37e:function(t,s,e){},fe03:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("section",{staticClass:"v5-page-leverAccount"},[s("div",{staticClass:"total-assets fuz-card-plain"},[s("h2",{staticClass:"title"},[s("span",{staticClass:"v5-5-cl"},[t._v(t._s(t.$t("assets.index.leverage")))]),s("span",{staticClass:"hide-assets v5-9-bg",on:{click:t.hideAssets}},[t.isHide?s("svg",{staticClass:"icon icon-12",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_13"}})]):s("svg",{staticClass:"icon icon-12",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-assets_12"}})])])]),s("div",{staticClass:"folded-text"},[t._v("\n      "+t._s(t.$t("assets.exchangeAccount.TotalAssets"))+"\n    ")]),s("div",{staticClass:"folded-num"},[t.isHide?s("div",{staticClass:"num-hide v5-5-cl"},[s("span",[t._v("*********")])]):s("div",{staticClass:"num-display"},[s("span",{staticClass:"v5-5-cl btcNum"},[t._v("\n          "+t._s(t._f("thousands")(t.totalBalance))+" "+t._s(t.showTotalBalanceSymbol)+"\n        ")]),s("span",{staticClass:"v5-6-cl fiatNum"},[t._v("\n           ≈ "+t._s(t._f("thousands")(t.totalRate))+" "+t._s(t.userCurrency)+"\n        ")])])]),s("div",{staticClass:"funcButton-list"},[s("c-v5-button",{attrs:{type:"hollow",height:"32px",paddingW:"18px",defaultColorClass:t.colorList_1[0],hoverColorClass:t.colorList_1[1],activeColorClass:t.colorList_1[2]},on:{click:function(s){return t.operation("transfer")}}},[t._v("\n        "+t._s(t.$t("assets.leverageAccount.transfer"))+"\n      ")]),s("c-v5-button",{attrs:{type:"hollow",height:"32px",paddingW:"18px",defaultColorClass:t.colorList_1[0],hoverColorClass:t.colorList_1[1],activeColorClass:t.colorList_1[2]},on:{click:function(s){return t.operation("flowWater")}}},[t._v("\n        "+t._s(t.$t("assets.index.flowingWater"))+"\n      ")])],1)]),s("div",{staticClass:"leverAccount-list fuz-card"},[s("div",{staticClass:"list-header fuz-card-title"},[s("div",{staticClass:"title v5-5-cl"},[t._v("\n        "+t._s(t.$t("assets.exchangeAccount.ListOfFunds"))+"\n      ")]),s("div",{staticClass:"hide"},[s("c-switch",{attrs:{value:t.switchFlag},on:{click:t.switchChange}}),s("span",{staticClass:"hidetext v5-6-cl"},[t._v(t._s(t.$t("assets.hideMinAssets")))])],1),s("div",{staticClass:"find"},[s("c-v5-inputFind",{attrs:{promptText:t.$t("assets.exchangeAccount.SearchCurrency"),value:t.findValue,clearable:!0,className:"findClass"},on:{onChanges:t.findChanges}})],1)]),s("div",{staticClass:"leverAccount-center"},[s("c-v5-table",{attrs:{loading:t.tabelLoading,imgMap:t.imgMap,colorMap:t.colorMap,columns:t.columns,dataList:t.dataListFilter},scopedSlots:t._u([{key:"coin",fn:function(e){return[s("ul",[s("li",[t._v(t._s(e.row.showBaseCoin))]),s("li",[t._v(t._s(e.row.showQuoteCoin))])])]}},{key:"total",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("ul",[s("li",[t._v(t._s(e.row.baseTotalBalance))]),s("li",[t._v(t._s(e.row.quoteTotalBalance))])])]}},{key:"normal",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("ul",[s("li",[t._v(t._s(e.row.baseNormalBalance))]),s("li",[t._v(t._s(e.row.quoteNormalBalance))])])]}},{key:"freeze",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("ul",[s("li",[t._v(t._s(e.row.baseLockBalance))]),s("li",[t._v(t._s(e.row.quoteLockBalance))])])]}},{key:"borrow",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("ul",[s("li",[t._v(t._s(e.row.baseBorrowBalance))]),s("li",[t._v(t._s(e.row.quoteBorrowBalance))])])]}},{key:"burstPrice",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("div",[t._v(t._s(e.row.burstPrice))])]}},{key:"risk",fn:function(e){return[t.isHide?s("div",[t._v("********")]):s("div",[t._v(t._s(e.row.risk))])]}},{key:"operation",fn:function(e){return s("div",{},t._l(e.row.operation,(function(a,n){return s("div",{key:n,staticClass:"table-btn_item"},[s("c-v5-button",{staticClass:"operation-button",attrs:{type:"text",paddingW:"0"},on:{click:function(s){return t.tableClick(a.type,e.row)}}},[t._v(t._s(a.text))])],1)})),0)}}])})],1)]),s("leverageTransfer",{attrs:{leverMap:t.leverMap},on:{success:t.transferSuccess,showLoading:t.showLoading}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"assets-loading"},[s("c-loading",{attrs:{size:"50"}})],1)],1)},n=[],i=(e("28a5"),e("7f7f"),e("456d"),e("a481"),e("6b54"),e("ac6a"),e("95d5")),r={name:"page-leverAccount",data:function(){return{isHide:i["u"].get("assets_hide")||!1,tabelLoading:!0,imgMap:i["s"],colorMap:i["b"],dataList:[],totalBalance:"--",totalBalanceSymbol:"",switchFlag:!1,findValue:"",totalRate:"--",loading:!1,leverMap:{},lan:Object(i["n"])("lan")}},watch:{market:function(t){t&&this.getData()}},computed:{colorList_1:function(){return["v5-1-bd v5-1-cl","v5-1-bg v5-1-bd u-16-cl","v5-1-bg v5-1-bd u-16-cl"]},symbolAll:function(){return this.$store.state.baseData.symbolAll},showTotalBalanceSymbol:function(){var t=this.totalBalanceSymbol;return this.market&&this.market.coinList&&this.market.coinList[this.totalBalanceSymbol]&&(t=Object(i["l"])(this.totalBalanceSymbol,this.market.coinList)),t},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},tradeLinkUrl:function(){return this.$store.state.baseData&&this.$store.state.baseData.publicInfo?"".concat(this.linkurl.exUrl,"/").concat(this.lan,"/margin"):""},columns:function(){return[{key:"symbol",title:this.$t("assets.leverageAccount.list1"),width:"11%"},{key:"coin",title:this.$t("assets.exchangeAccount.coin"),width:"9%"},{key:"total",title:this.$t("assets.leverageAccount.list2"),width:"11%"},{key:"normal",title:this.$t("assets.leverageAccount.list3"),width:"11%"},{key:"freeze",title:this.$t("assets.leverageAccount.list4"),width:"11%"},{key:"borrow",title:this.$t("assets.leverageAccount.list5"),width:"11%"},{key:"burstPrice",title:this.$t("assets.leverageAccount.list6"),width:"11%"},{key:"risk",title:this.$t("assets.leverageAccount.list7"),width:"7%"},{key:"operation",title:this.$t("assets.leverageAccount.list8"),width:"18%"}]},market:function(){return this.$store.state.baseData.market},dataListFilter:function(){var t=this,s=[];this.switchFlag?this.dataList.forEach((function(t){var e=t.baseTotalBalance,a=t.quoteTotalBalance;(parseFloat(e)||parseFloat(a))&&s.push(t)})):s=this.dataList;var e=[];return s.forEach((function(s){-1!==s.symbol.indexOf(t.findValue.toUpperCase())&&e.push(s)})),e},userCurrency:function(){return Object(i["n"])("user_Currency")||"USD"}},filters:{thousands:function(t){if(t){var s=t.toString(),e=s.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return s.replace(e,"$1,")}return t},getCoinShowName:function(t,s){return Object(i["l"])(t,s)}},methods:{init:function(){i["u"].get("assetsSwitch")&&(this.switchFlag=i["u"].get("assetsSwitch")),this.market&&this.getData()},showLoading:function(t){this.loading=t},hideAssets:function(){this.isHide=!this.isHide,i["u"].set("assets_hide",this.isHide)},transferSuccess:function(){this.getData()},operation:function(t){"transfer"===t?this.$bus.$emit("openTransfer"):"flowWater"===t&&this.$router.push("/newAssets/lerverageFlowingWater")},getData:function(){var t=this;this.axios({url:"lever/finance/balance"}).then((function(s){if("0"===s.code.toString()){t.tabelLoading=!1;var e=s.data.leverMap;t.leverMap=e,t.setData(s.data)}}))},thousands:function(t){if(t){var s=t.toString(),e=s.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return s.replace(e,"$1,")}return t},setData:function(t){var s=this,e=t.totalBalance,a=t.totalBalanceSymbol,n=t.leverMap;this.tabelLoading=!1;var r=this.market,o=r.coinList,c=r.rate,l=r.market;this.totalBalance=Object(i["f"])(e,8),this.totalBalanceSymbol=a,this.totalRate=Object(i["i"])(e,c,a,this.userCurrency);var u=[];Object.keys(n).forEach((function(t){var e=n[t],a=o[e.quoteCoin].showPrecision||0;s.symbolAll&&(a=s.symbolAll[e.name].price);var r=l[e.quoteCoin][e.name],c=r.showName||r.name,h=Object(i["l"])(e.baseCoin,o),f=Object(i["l"])(e.quoteCoin,o);u.push({id:e.symbol,name:e.name,symbol:c,showBaseCoin:h,showQuoteCoin:f,baseTotalBalance:s.thousands(Object(i["f"])(e.baseTotalBalance,8)),quoteTotalBalance:s.thousands(Object(i["f"])(e.quoteTotalBalance,8)),baseNormalBalance:s.thousands(Object(i["f"])(e.baseNormalBalance,8)),quoteNormalBalance:s.thousands(Object(i["f"])(e.quoteNormalBalance,8)),baseLockBalance:s.thousands(Object(i["f"])(e.baseLockBalance,8)),quoteLockBalance:s.thousands(Object(i["f"])(e.quoteLockBalance,8)),baseBorrowBalance:s.thousands(Object(i["f"])(e.baseBorrowBalance,8)),quoteBorrowBalance:s.thousands(Object(i["f"])(e.quoteBorrowBalance,8)),burstPrice:"".concat(s.thousands(Object(i["f"])(e.burstPrice,a))," ").concat(f),risk:e.riskRate?"".concat(e.riskRate,"%"):"--",operation:[{text:s.$t("assets.leverageAccount.transfer"),type:"transfer"},{text:s.$t("assets.leverageAccount.ToLoan"),type:"toLoan"},{text:s.$t("home.trade"),type:"trade"}]})})),this.dataList=u},findChanges:function(t){this.findValue=t},switchChange:function(){this.switchFlag=!this.switchFlag,i["u"].set("assetsSwitch",this.switchFlag)},tableClick:function(t,s){var e=s.id,a=s.name;if("transfer"===t)this.$bus.$emit("openTransfer",a,a.split("/")[0],e);else if("toLoan"===t)this.$router.push("/newAssets/leverageToLoan?symbol=".concat(e));else if("trade"===t){var n=a;if(-1===n.toString().indexOf("/"))return;var i=n.split("/");window.location.href="".concat(this.tradeLinkUrl,"/").concat(i[0],"_").concat(i[1])}}}},o=(e("b37e"),e("b1f7")),c={mixins:[r],components:{leverageTransfer:o["a"]},mounted:function(){this.init()}},l=c,u=e("2877"),h=Object(u["a"])(l,a,n,!1,null,null,null);s["default"]=h.exports},ff39:function(t,s,e){}}]);