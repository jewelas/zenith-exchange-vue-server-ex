(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78154c6a"],{"0643":function(t,e,a){"use strict";a("d84f")},3574:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"free-staking"},[e("China")],1)},s=[],n=function(){var t=this,e=t._self._c;return t.pageData?e("div",{staticClass:"pos-history fuz-card"},[e("div",{staticClass:"pos-history-title f-1-cl"},[t._v(t._s(t.pageData.tipMine))]),e("div",{staticClass:"nav-tab fuz-card-tab"},[e("c-navTab",{staticClass:"c-5-bd",attrs:{minWidth:"120px",activeClassName:"f-1-cl",activeColor:"c-8-bg",currentTab:t.currentType,navTab:t.navTabList,lineHeight:"55"},on:{currentType:t.selectType}}),e("div",{staticClass:"clearfix"})],1),e("div",{staticClass:"date-select-cont"},[t.startTime?e("c-calendar",{staticClass:"date-selecter",attrs:{width:"120px",name:"start-time",value:t.startTime,futureDayHide:t.endTimeNum,promptText:t.startTimeText,inputLineStyle:"c-1-bd",showDateInfo:!0,dateInfoTilteClass:"f-8-cl"},on:{onChanges:t.setStartTime}}):t._e(),t.endTime?e("c-calendar",{staticClass:"date-selecter",attrs:{width:"120px",name:"end-time",value:t.endTime,agoDayHide:t.startTimeNum,promptText:t.endTimeText,inputLineStyle:"c-1-bd",showDateInfo:!0,dateInfoTilteClass:"f-8-cl"},on:{onChanges:t.setEndTime}}):t._e(),e("div",{staticClass:"clearfix"})],1),e("div",{staticClass:"date-table-cont"},[e("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.loading,columns:t.columns,dataList:t.posData,subColumns:t.subColumns,subContent:t.subTableData,subContentId:t.subTableDataId,subClass:"c-5-bg"},on:{elementClick:t.tableClick,subElementClick:t.subTableClick}}),t.paginationData.total>t.paginationData.display?e("c-pagination",{staticClass:"fuz-bg",attrs:{total:t.paginationData.total,display:t.paginationData.display,currentPage:t.paginationData.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)]):t._e()},o=[],r=(a("c5f6"),a("a481"),a("6b54"),a("95d5")),c={data:function(){return{colorMap:r["b"],imgMap:r["s"],currentType:0,startTime:"",endTime:"",posData:[],paginationData:{total:100,display:10,currentPage:1},subTableData:null,subTableDataId:null,subPosData:[],loading:!1,pageData:{},gainAuth:0,secoundClick:!0}},computed:{startTimeNum:function(){return(new Date(this.startTime.replace(/-/g,"/")).getTime()/1e3).toString()},endTimeNum:function(){return(new Date(this.endTime.replace(/-/g,"/")).getTime()/1e3).toString()},columns:function(){var t=[{title:this.$t("freeStaking.myPos.lockPosTable[6]"),width:"12%"},{title:this.$t("freeStaking.myPos.lockPosTable[0]"),width:"6%"},{title:this.$t("freeStaking.myPos.lockPosTable[7]"),width:"15%"},{title:this.$t("manageFinances.startTime"),width:"10%"},{title:this.$t("freeStaking.myPos.lockPosTable[2]"),width:"15%"},{title:this.$t("freeStaking.myPos.lockPosTable[3]"),width:"10%"},{title:this.$t("freeStaking.myPos.lockPosTable[4]"),width:"15%"},{title:this.pageData.tipStatus,width:"10%"}],e=[{title:this.$t("freeStaking.myPos.unLockPosTable[0]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[1]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[2]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[3]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[4]"),width:"20%"}];return this.currentType?e:t},subColumns:function(){var t=[{text:this.$t("freeStaking.detail.incomeTime"),class:"table-custom-class"},{text:this.$t("freeStaking.detail.incomeNum"),class:"table-custom-class"},{text:this.$t("freeStaking.gainCoin"),class:"table-custom-class"},{text:this.$t("freeStaking.status"),class:"table-custom-class"},{text:this.$t("freeStaking.operate"),class:"table-custom-class"}];return this.currentType?[]:t},navTabList:function(){return[{name:this.pageData.tipLock,index:0},{name:this.pageData.tipNormal,index:1}]},startTimeText:function(){return this.$t("broker.startTime")},endTimeText:function(){return this.$t("freeStaking.myPos.endTime")}},methods:{init:function(){this.startTime=this.getNowTime(this.getMonth(-3)),this.endTime=this.getNowTime(this.getMonth(3)),this.getUserPosData(this.currentType)},getMonth:function(t){var e=new Date;return e.setMonth(e.getMonth()+t)},getUserPosData:function(t){var e=this,a=this.paginationData,i=a.currentPage,s=a.display;this.loading=!0,this.axios({url:this.$store.state.url.freeStaking.pos_history,headers:{},hostType:"fe-increment-api",params:{page:i,pageSize:s,projectType:t?1:3,strTime:this.startTime,entTime:this.endTime},method:"post"}).then((function(a){if("0"===a.code.toString()&&t===e.currentType){var i=a.data,s=i.count,n=i.posList;e.pageData=a.data,e.paginationData.total=s,e.posData=e.initPosData(n),e.loading=!1}}))},reducePost:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.getUserPosData(t.currentType)}),500)},initPosData:function(t){var e=this;if(!Array.isArray(t))return!1;var a=[],i=t.map((function(t,i){var s=[];s=t.totalUserGainAmount?[t.projectName,t.coinName,t.applyTime,t.ltime,t.totalAmount,"".concat(t.gainRate,"%"),[{text:t.totalUserGainAmount},{type:"subTable"}],e.countStatusText(t.projectStatus)]:[t.projectName,t.coinName,t.applyTime,t.ltime,t.totalAmount,"".concat(t.gainRate,"%"),t.totalUserGainAmount,e.countStatusText(t.projectStatus)];var n=[t.coinName,t.revenueTime,t.baseAmount,"".concat(t.gainRate,"%"),t.gainAmount],o=!e.currentType&&Array.isArray(t.userGainList)?t.userGainList:[],r=[];return r=t.gainAuth?o.map((function(a){return[{text:a.gainTime,class:"table-custom-class"},{text:a.gainAmount,class:"table-custom-class"},t.gainCoinName,e.getStatus(Number(a.gainStatus)),e.handleButton(Number(a.gainStatus),Number(a.gainId))]})):o.map((function(a){return[{text:a.gainTime,class:"table-custom-class"},{text:a.gainAmount,class:"table-custom-class"},t.gainCoinName,e.$t("freeStaking.issued"),"--"]})),a.push(r),{id:i,data:e.currentType?n:s}}));return this.subPosData=a,i},getStatus:function(t){var e="";switch(t){case 10:e=this.$t("freeStaking.freeStakingStatus21");break;case 11:e=this.$t("freeStaking.freeStakingStatus22");break;case 12:e=this.$t("freeStaking.freeStakingStatus23");break;case 13:e=this.$t("freeStaking.freeStakingStatus24");break;default:e=""}return e},handleButton:function(t,e){var a={};return a=10===t?{text:'<button class="common-button button common-button-text u-8-cl " style="height: 24px; line-height: 24px; padding-left: 10px; padding-right: 10px; margin-top: 0px;"><div class="common-button-slot">'.concat(this.$t("freeStaking.receive"),"</div></button>"),class:"table-custom-class",eventType:"receive",id:e}:{text:"--",class:"table-custom-class"},a},getNowTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return"".concat(a,"-").concat(i,"-").concat(s)},selectType:function(t){this.loading||(this.paginationData.currentPage=1,this.currentType=t.index,this.subTableDataId=null,this.getUserPosData(this.currentType))},setStartTime:function(t){this.startTime=t,this.reducePost()},setEndTime:function(t){this.endTime=t,this.reducePost()},countStatusText:function(t){var e={0:this.$t("freeStaking.home.status[0]"),1:this.$t("freeStaking.home.status[1]"),2:this.$t("freeStaking.home.status[2]"),3:this.$t("freeStaking.home.status[3]"),4:this.$t("freeStaking.home.status[4]"),5:this.$t("freeStaking.home.status[5]"),6:this.$t("freeStaking.home.status[6]")};return e[t]},pagechange:function(t){this.loading||(this.paginationData.currentPage=t,this.subTableDataId=null,this.getUserPosData(this.currentType))},tableClick:function(t,e){this.currentType||(this.subTableData=this.subPosData[e.id],this.subTableDataId=e.id)},subTableClick:function(t){"receive"===t.eventType&&this.receive(t.id)},receive:function(t){var e=this;this.secoundClick&&(this.secoundClick=!1,this.axios({url:"increment/getGain",headers:{},params:{gainId:t},method:"post",hostType:"fe-increment-api"}).then((function(t){"0"===t.code.toString()?(e.$bus.$emit("tip",{text:t.msg,type:"success"}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){window.location.reload()}),500)):e.$bus.$emit("tip",{text:t.msg,type:"error"}),e.secoundClick=!0})))}}},u=(a("7fa4"),{mixins:[c],mounted:function(){this.init()}}),l=u,m=(a("0643"),a("2877")),h=Object(m["a"])(l,n,o,!1,null,"19b42d85",null),g=h.exports,d={components:{China:g}},p=d,T=Object(m["a"])(p,i,s,!1,null,"73b0cfd4",null);e["default"]=T.exports},"7fa4":function(t,e,a){},d84f:function(t,e,a){}}]);