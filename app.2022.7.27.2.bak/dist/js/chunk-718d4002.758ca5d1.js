(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-718d4002"],{a513:function(e,t,r){},bffd:function(e,t,r){"use strict";r.r(t);r("6b54");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-management-change-email fuz-card"},[t("p",{staticClass:"user-management-child-header fuz-card-title"},[e._v("\n    "+e._s(e.$t("personal.changeEmail.title")))]),t("div",{staticClass:"user-management-center"},[t("p",{staticClass:"center-title b-7-cl"},[t("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-c_2"}})]),e._v("\n      "+e._s(e.safetyTimeSet.is_open&&"1"===e.safetyTimeSet.is_open.toString()?e.$t("personal.prompt.text3",{number:e.safetyTimeSet.hour}):e.$t("personal.prompt.warningChangeEmail"))+"\n    ")]),t("div",{staticClass:"center-input"},[t("c-inputLine",{attrs:{name:"oldEmail",inputType:"text",promptText:e.promptText1,errorHave:!0,disabled:!0,errorText:"errorText1",errorFlag:e.checkErrorFlag1,marginTop:"0px",value:e.checkValue1},on:{onchanges:e.inputChanges}}),t("c-inputLine",{attrs:{maxLength:"6",name:"oldEmailCode",inputType:"text",promptText:e.promptText3,errorHave:!0,errorText:e.errorText3,errorFlag:e.checkErrorFlag3,marginTop:"0px",value:e.checkValue3},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"oldEmailCode",autoStart:!1,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1),t("c-inputLine",{attrs:{maxLength:"100",name:"newEmail",inputType:"text",promptText:e.promptText2,errorHave:!0,errorText:e.errorText2,errorFlag:e.checkErrorFlag2,marginTop:"0px",value:e.checkValue2},on:{onchanges:e.inputChanges}}),t("c-inputLine",{attrs:{maxLength:"6",name:"newEmailCode",inputType:"text",promptText:e.promptText6,errorHave:!0,errorText:e.errorText6,errorFlag:e.checkErrorFlag6,marginTop:"0px",value:e.checkValue6},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"newEmailCode",autoStart:!1,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1),e.smsCode?t("c-inputLine",{attrs:{maxLength:"6",name:"smsCode",inputType:"text",promptText:e.promptText4,errorHave:!0,errorText:e.errorText4,errorFlag:e.checkErrorFlag4,marginTop:"0px",value:e.checkValue4},on:{onchanges:e.inputChanges}},[t("c-getCode",{attrs:{name:"smsCode",voiceOpen:e.voiceSmsOpen,autoStart:!1,buttonName:"loginGetcodeBtn"},on:{click:e.getCodeClick}})],1):e._e(),e.googleCode?t("c-inputLine",{attrs:{name:"googleCode",maxLength:"6",inputType:"text",promptText:e.promptText5,errorHave:!0,errorText:e.errorText5,errorFlag:e.checkErrorFlag5,marginTop:"0px",value:e.checkValue5},on:{onchanges:e.inputChanges}}):e._e(),t("c-button",{attrs:{type:"solid",loading:e.loading,big:!0,className:"fuz-primary-btn",paddingW:"0px",disabled:e.disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:e.btnLink}},[e._v(e._s(e.$t("personal.tool.modify")))])],1)])])},o=[],i=(r("c5f6"),{name:"changePassword",watch:{userInfo:function(e){this.googleCode=!!Number(e.googleStatus),this.smsCode=!!Number(e.isOpenMobileCheck),this.checkValue1=this.userInfo.email},sendSmsCode:function(e){null!==e&&("success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),this.smsType="1"===e.type?"voiceSms":"sms"):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),this.$bus.$emit("getCode-clear","smsCode")))},emailUpdate:function(e){null!==e&&(this.loading=!1,"success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType"),this.$router.push("/personal/userManagement")):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType"),"10009"!==e.code&&this.$bus.$emit("getCode-clear","smsCode")))},sendEmailCode:function(e){null!==e&&("success"===e.text?(this.$bus.$emit("tip",{text:e.msg,type:"success"}),this.$store.dispatch("resetType")):(this.$bus.$emit("tip",{text:e.msg,type:"error"}),this.$store.dispatch("resetType")))},errorText2Text:function(e){e&&(this.errorText2=e)}},computed:{userInfo:function(){return this.$store.state.baseData.userInfo},sendSmsCode:function(){return this.$store.state.personal.sendSmsCode},emailUpdate:function(){return this.$store.state.personal.emailUpdate},sendEmailCode:function(){return this.$store.state.personal.sendEmailCode},promptText1:function(){return this.$t("personal.label.oldEmail")},promptText2:function(){return this.$t("personal.label.newEmail")},promptText3:function(){return this.$t("personal.label.emailCodeText")},promptText6:function(){return this.$t("personal.label.newEmailCodeText")},promptText4:function(){return this.$t("personal.label.smsCodeText")},promptText5:function(){return this.$t("personal.label.googleCodeText")},errorText3:function(){return this.$t("personal.prompt.errorCode")},errorText6:function(){return this.$t("personal.prompt.errorCode")},errorText4:function(){return this.$t("personal.prompt.errorCode")},errorText5:function(){return this.$t("personal.prompt.errorCode")},errorText2Text:function(){return this.$t("personal.prompt.errorEmailText")},voiceSmsOpen:function(){return this.$store.state.baseData.voiceSmsOpen},safetyTimeSet:function(){var e=this.$store.state.baseData.publicInfo,t="{}";return e&&e.switch&&e.switch.update_safe_withdraw&&(t=e.switch.update_safe_withdraw),JSON.parse(t)}},data:function(){return{loading:!1,checkValue1:"",checkValue2:"",checkValue3:"",checkValue6:"",checkValue4:"",checkValue5:"",errorText1:"",errorText2:this.$t("personal.prompt.errorEmailText"),checkErrorFlag1:!1,checkErrorFlag2:!1,checkErrorFlag3:!1,checkErrorFlag6:!1,checkErrorFlag4:!1,checkErrorFlag5:!1,disabled:!0,oldNew:!1,smsCode:!1,googleCode:!1,smsType:"sms"}},methods:{init:function(){this.userInfo&&(this.googleCode=!!Number(this.userInfo.googleStatus),this.smsCode=!!Number(this.userInfo.isOpenMobileCheck),this.checkValue1=this.userInfo.email)},getCodeClick:function(e,t){if("smsCode"===e){this.$bus.$emit("getCode-start","smsCode");var r={operationType:15,smsType:t&&"voiceSms"===t?"1":"0"};this.$store.dispatch("sendSmsCode",r)}else if("oldEmailCode"===e){this.$bus.$emit("getCode-start","oldEmailCode");var s={operationType:15};this.$store.dispatch("sendEmailCode",s)}else if(this.checkValue2){this.$bus.$emit("getCode-start","newEmailCode");var o={email:this.checkValue2,operationType:2};this.$store.dispatch("sendEmailCode",o)}else this.checkErrorFlag2=!0,this.errorText2=this.$t("personal.prompt.errorEmail")},inputChanges:function(e,t){switch(t){case"newEmail":this.checkValue2=e,this.emailFlag(e)?this.checkErrorFlag2=!1:this.checkErrorFlag2=!0;break;case"oldEmailCode":this.checkValue3=e,this.codeFlag(e)?this.checkErrorFlag3=!1:this.checkErrorFlag3=!0;break;case"newEmailCode":this.checkValue6=e,this.codeFlag(e)?this.checkErrorFlag6=!1:this.checkErrorFlag6=!0;break;case"smsCode":this.checkValue4=e,this.codeFlag(e)?this.checkErrorFlag4=!1:this.checkErrorFlag4=!0;break;default:this.checkValue5=e,this.codeFlag(e)?this.checkErrorFlag5=!1:this.checkErrorFlag5=!0}!(this.checkValue2&&this.checkValue3&&this.checkValue6)||this.checkErrorFlag2||this.checkErrorFlag3||this.checkErrorFlag4||this.checkErrorFlag5||this.checkErrorFlag6?this.disabled=!0:(this.smsCode&&(this.disabled=!this.checkValue4),this.googleCode&&(this.disabled=!this.checkValue5),this.smsCode||this.googleCode||(this.disabled=!1))},emailFlag:function(e){return this.$store.state.regExp.email.test(e)},codeFlag:function(e){return this.$store.state.regExp.verification.test(e)},btnLink:function(){this.loading=!0;var e={emailOldValidCode:this.checkValue3,emailNewValidCode:this.checkValue6,email:this.checkValue2,googleCode:this.checkValue5,smsValidCode:"sms"===this.smsType&&this.checkValue4?this.checkValue4:void 0,voiceSmsCode:"voiceSms"===this.smsType&&this.checkValue4?this.checkValue4:void 0};this.$store.dispatch("emailUpdate",e)}}}),a=(r("a513"),{mixins:[i],mounted:function(){this.init()}}),n=a,c=r("2877"),l=Object(c["a"])(n,s,o,!1,null,null,null);t["default"]=l.exports}}]);