(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c46f7dc"],{2356:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-b2cAddressMent"},[e("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("assets.b2c.addressAddTit"))+"\n  ")]),e("div",{staticClass:"addressBox clearfix a-7-bd"},[e("c-button",{attrs:{width:"120px",height:"40px"},on:{click:t.addressBtnClick}},[t._v(t._s(t.$t("assets.addressMent.add")))])],1),e("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("assets.b2c.addressListTit"))+"\n  ")]),e("div",{staticClass:"addressMent-table"},[e("c-table",{attrs:{colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,dataList:t.tableList},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?e("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1),e("c-dialog",{attrs:{showFlag:t.delFlag,paddingBottom:"14px",confirmLoading:t.confirmLoading,titleText:t.$t("assets.b2c.warning")},on:{close:t.delClose,confirm:t.delConfirm}},[e("span",[t._v(t._s(t.$t("assets.b2c.deleteWarn")))])]),e("c-verifyCationc-alert",{attrs:{showFlag:t.alertFlag,imgMap:t.imgMap,titleText:t.$t("assets.withdraw.safetyWarning"),detaText:t.authTitleText,dataList:t.alertData,buttonText:t.$t("assets.withdraw.GotoOpen"),haveClose:!1},on:{close:t.alertClone,confirm:t.alertGo}})],1)},n=[],i=a("e369"),o=(a("7f7f"),a("ac6a"),a("6b54"),a("95d5")),r={data:function(){return{imgMap:o["s"],colorMap:o["b"],delFlag:!1,confirmLoading:!1,tabelLoading:!0,dialogConfirmLoading:!1,tableList:[],dialogStatus:"",deleteObj:{},paginationObj:{total:0,display:10,currentPage:1},bankObj:{},delId:""}},computed:{paginationObjCurrentPage:function(){return this.paginationObj.currentPage},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},columns:function(){return[{title:this.$t("assets.addressMent.listCoin"),width:"15%"},{title:this.$t("assets.b2c.payType"),width:"15%"},{title:this.$t("assets.b2c.address"),width:"20%"},{title:this.$t("assets.b2c.addressUserName"),width:"20%"},{title:this.$t("assets.addressMent.listOptions"),width:"30%"}]},OpenMobile:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.isOpenMobileCheck.toString()&&(t=!0),t},OpenGoogle:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.googleStatus.toString()&&(t=!0),t},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.phoneValue)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleValue)},phoneError:function(){return 0!==this.phoneValue.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleValue.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var t=!0,e=!0;return this.OpenMobile&&(t=this.phoneValueFlag),this.OpenGoogle&&(e=this.googleValueFlag),!(t&&e||this.dialogConfirmLoading)}},watch:{paginationObjCurrentPage:function(){this.getTableList()}},methods:{init:function(){this.$route.query.symbol?(this.symbol=this.$route.query.symbol.toUpperCase(),this.getBankList()):this.$router.push("/assets/b2cAccount")},delClose:function(){this.delFlag=!1},delConfirm:function(){var t=this;this.confirmLoading=!0,this.axios({url:"/user/bank/delete",params:{id:this.delId}}).then((function(e){t.confirmLoading=!1,"0"===e.code.toString()?(t.paginationObj.currentPage=1,t.getTableList(),t.delFlag=!1):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},getBankList:function(){var t=this;this.axios({url:"/bank/all",params:{symbol:this.symbol}}).then((function(e){if("0"===e.code.toString()){var a={};e.data.forEach((function(t){a[t.bankNo.toString()]=t.accountName})),t.bankObj=a,t.getTableList()}else t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},pagechange:function(t){this.paginationObj.currentPage=t},addressBtnClick:function(){this.$router.push("/assets/b2cAdd?symbol=".concat(this.symbol,"&type=add"))},tableClick:function(t,e){"del"===t&&(this.delId=e,this.delFlag=!0),"set"===t&&this.$router.push("/assets/b2cAdd?symbol=".concat(this.symbol,"&type=set&id=").concat(e))},getTableList:function(){var t=this;this.axios({url:"user/bank/user_bank_list",params:{pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,symbol:this.symbol}}).then((function(e){if("0"===e.code.toString()){var a=[];e.data.list.forEach((function(e){a.push({id:e.id,data:[e.symbol,t.$t("assets.b2c.bankCard"),t.bankObj[e.bankNo],e.name,[{type:"button",text:t.$t("assets.b2c.set"),iconClass:[""],eventType:"set"},{type:"button",text:t.$t("assets.addressMent.delete"),iconClass:[""],eventType:"del"}]]})})),t.tabelLoading=!1,t.tableList=a,t.paginationObj.total=e.data.count}}))}}},l=(a("cfcf"),{mixins:[i["a"],r],mounted:function(){this.init()}}),c=l,u=a("2877"),d=Object(u["a"])(c,s,n,!1,null,null,null);e["default"]=d.exports},cfcf:function(t,e,a){},e369:function(t,e,a){"use strict";a("c5f6"),a("6b54");e["a"]={name:"b2cMixins",data:function(){return{alertFlag:!1}},watch:{userInfoIsReady:{immediate:!0,handler:function(t){t&&this.canAlert()}}},methods:{alertClone:function(){this.alertFlag=!1},alertGo:function(){this.$router.push("/personal/userManagement")},canAlert:function(){var t=this;(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)&&this.idAuth?this.alertFlag=!1:setTimeout((function(){t.alertFlag=!0}),100)}},computed:{userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var t="assets.withdraw.enforceGoogleAuth";return this.$t(t)},alertData:function(){var t=[{text:this.$t("otcRelease.authentication"),flag:this.idAuth},{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||t.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),t},OpenMobile:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.isOpenMobileCheck.toString()&&(t=!0),t},OpenGoogle:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.googleStatus.toString()&&(t=!0),t},idAuth:function(){var t=this.$store.state.baseData.userInfo,e=0;return t&&(e=1===Number(t.authLevel)),e}}}}}]);