(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf167482"],{"0de2":function(t,e,i){},"749f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-otcRelease"},[e("div",{staticClass:"otc-page-title a-5-bg a-7-bd"},[e("div",{staticClass:"page-title-bar b-1-cl"},[t._v("\n          "+t._s(t.$t("fiatdeal.navList")[6])+"\n      ")])]),e("div",{staticClass:"page-otcRelease-coneent fuz-card"},[e("div",{staticClass:"page-otcRelease-bar"},[e("div",{staticClass:"otcRelease-symbolNav fuz-card-tab"},[e("c-navTab",{attrs:{activeClassName:"b-1-cl",activeColor:"a-12-bg",className:"b-2-cl",currentTab:t.symbol,navTab:t.navSymbolList,lineHeight:"40",marginRight:"64"},on:{currentType:t.symbolChange}})],1),e("div",{staticClass:"otcRelease-message a-3-bd",style:t.backgroundImg},[e("div",{staticClass:"otcRelease-message-title b-1-cl"},[t._v("\n              "+t._s(t.$t("otcRelease.title"))+"\n               -\n              "+t._s(t.showCoin)+" ")]),e("div",{staticClass:"otcRelease-message-text"},[t._v("\n              "+t._s(t.$t("otcRelease.text1"))),e("br"),t._v("\n              "+t._s(t.$t("otcRelease.text2"))),e("br"),t._v("\n              "+t._s(t.$t("otcRelease.text3"))),e("br"),t._v("\n              "+t._s(t.$t("otcRelease.text4"))),e("br"),t._v("\n              "+t._s(t.$t("otcRelease.text5")))])]),e("div",{staticClass:"otcRelease-main fuz-card-content"},[e("div",{staticClass:"otcRelease-side"},[e("span",{staticClass:"otcRelease-page otcRelease-page-side"},[t._v("\n                "+t._s(t.$t("otcRelease.type"))+"\n              ")]),e("span",{staticClass:"otcRelease-side-even otcRelease-side-first"},[e("c-redio",{attrs:{name:"SELL",value:"SELL"===t.side},on:{click:t.sideChange}}),e("span",{staticClass:"text b-1-cl",on:{click:function(e){return t.sideChange("SELL")}}},[t._v("\n                  "+t._s(t.$t("otcRelease.sell"))+"\n                ")])],1),e("span",{staticClass:"otcRelease-side-even"},[e("c-redio",{attrs:{name:"BUY",value:"BUY"===t.side},on:{click:t.sideChange}}),e("span",{staticClass:"text b-1-cl",on:{click:function(e){return t.sideChange("BUY")}}},[t._v("\n                  "+t._s(t.$t("otcRelease.buy"))+"\n                ")])],1)]),e("div",{staticClass:"otcRelease-legalCurrency"},[e("c-select",{attrs:{value:t.legalCurrency,promptText:t.$t("otcRelease.currency"),name:"legalCurrency",errorHave:!0,errorFlag:!1,errorText:t.$t("otcRelease.currencyError"),options:t.legalCurrencyList},on:{onChanges:t.legalCurrencyChange}})],1),e("div",{staticClass:"otcRelease-number"},[e("c-inputLine",{attrs:{name:"number",value:t.number,promptText:t.$t("otcRelease.volume"),warningText:"SELL"===t.side?"".concat(t.$t("otcRelease.Surplus")," ").concat(t.otcRateFlag?t.blance:t.numberValue," ").concat(t.showCoin):"",errorHave:!0,errorText:t.numberObj.errorText,errorFlag:t.numberObj.errorFlag},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page b-1-cl"},[t._v(t._s(t.showCoin))])])],1),e("div",{staticClass:"otcRelease-NowPrice"},[e("div",{staticClass:"otcRelease-page otcRelease-NowPrice-side"},[t._v("\n                "+t._s(t.$t("otcRelease.CurrentUnitPrice"))+"\n                "),e("a",{staticClass:"des-icon",attrs:{href:"javascript:;"}},[e("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_15"}})]),e("span",{staticClass:"a-5-bg b-2-cl"},[t._v("\n                    "+t._s(t.$t("otcRelease.des"))+"\n                  ")])])]),e("div",{staticClass:"otcRelease-NowPrice-message"},[e("span",{staticClass:"price b-1-cl"},[t._v(t._s(t.nowPrice)+" "+t._s(t.legalCurrency))])])]),e("div",{staticClass:"otcRelease-pricingMethod"},[e("c-select",{attrs:{value:t.pricingMethod,promptText:t.$t("otcRelease.PricingMethod"),name:"pricingMethod",errorHave:!0,errorFlag:!1,errorText:t.$t("otcRelease.PricingMethodError"),options:t.pricingMethodList},on:{onChanges:t.pricingMethodChange}})],1),"1"===t.pricingMethod?e("div",{staticClass:"otcRelease-pricingMethod precent"},[e("c-select",{attrs:{value:t.pricentMethod,promptText:t.$t("otcRelease.precentWay"),name:"precentMethod",errorHave:!1,errorFlag:!1,options:t.pricentMethodList},on:{onChanges:t.precentMethodChange}})],1):t._e(),"1"===t.pricingMethod?e("div",{staticClass:"otcRelease-minPrice precentInput"},[e("c-inputLine",{attrs:{name:"precent",value:t.precent,errorHave:!0,errorFlag:t.precentObj.errorFlag,errorText:t.precentObj.errorText,promptText:t.$t("otcRelease.precent")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v("%")])])],1):t._e(),"1"===t.pricingMethod?e("div",{staticClass:"otcRelease-sum MessPrice"},[e("div",{staticClass:"otcRelease-page"},[t._v(t._s(t.$t("otcDetailOrder.MessPrice")))]),e("div",{staticClass:"otcRelease-sum-price b-1-cl"},[t._v(t._s(t.precentPrice)+" "+t._s(t.legalCurrency))])]):t._e(),"2"===t.pricingMethod?e("div",{staticClass:"otcRelease-autoPrice"},[e("c-inputLine",{attrs:{name:"autoPrice",value:t.autoPrice,errorHave:!0,errorFlag:t.autoPriceObj.errorFlag,errorText:t.autoPriceObj.errorText,promptText:t.$t("otcRelease.CustomPrice")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v(t._s(t.legalCurrency))])])],1):t._e(),e("div",{staticClass:"otcRelease-sum"},[e("div",{staticClass:"otcRelease-page"},[t._v(t._s(t.$t("otcRelease.TotalSum")))]),e("div",{staticClass:"otcRelease-sum-price b-1-cl"},[t._v(t._s(t.sum)+" "+t._s(t.legalCurrency))])]),e("div",{staticClass:"otcRelease-minPrice"},[e("c-inputLine",{attrs:{name:"minPrice",value:t.minPrice,errorHave:!0,errorFlag:t.minPriceObj.errorFlag,errorText:t.minPriceObj.errorText,promptText:t.$t("otcRelease.MinimumQuota")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v(t._s(t.legalCurrency))])])],1),e("div",{staticClass:"otcRelease-maxPrice"},[e("c-inputLine",{attrs:{name:"maxPrice",value:t.maxPrice,errorHave:!0,errorFlag:t.maxPriceObj.errorFlag,errorText:t.maxPriceObj.errorText,promptText:t.$t("otcRelease.MaximumQuota")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v(t._s(t.legalCurrency))])])],1),e("div",{staticClass:"otcRelease-tradeTime"},[e("c-inputLine",{attrs:{name:"tradeTime",value:t.tradeTime,errorHave:!0,errorFlag:t.tradeTimeObj.errorFlag,errorText:t.tradeTimeObj.errorText,promptText:t.$t("otcRelease.TimeLimitForPayment")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v(t._s(t.$t("otcRelease.min")))])])],1),e("div",{staticClass:"otcRelease-frequency"},[e("c-inputLine",{attrs:{name:"frequency",value:t.frequency,errorHave:!0,promptText:t.$t("otcRelease.MinimumNumber")},on:{onchanges:t.inputLineChange}},[e("span",{staticClass:"otcRelease-input-page"},[t._v(t._s(t.$t("otcRelease.frequency")))])])],1),e("div",{staticClass:"otcRelease-days"},[e("c-select",{attrs:{value:t.days,promptText:t.$t("otcRelease.FailureTime"),name:"days",errorHave:!0,errorFlag:!1,errorText:t.$t("otcRelease.FailureTimeError"),options:t.daysList},on:{onChanges:t.daysChange}})],1),"BUY"===t.side?e("div",{staticClass:"otcRelease-pays"},[e("div",{staticClass:"otcRelease-page"},[t._v("\n                "+t._s(t.$t("otcRelease.PaymentMethod"))+"\n                "),t._v("\n                ("+t._s(t.$t("otcRelease.PaymentMethodWarning"))+")\n                ")]),e("ul",{staticClass:"otcRelease-paysList"},t._l(t.buyPaysList,(function(i,s){return e("li",{key:s},[e("c-checkBox",{attrs:{value:-1!==t.myBuyPaysList.indexOf(i.key)},on:{click:function(e){return t.buyPayClick(i)}}}),e("span",{staticClass:"paysList-line",style:{"background-color":i.color}}),e("span",{staticClass:"paysList-text",on:{click:function(e){return t.buyPayClick(i)}}},[t._v(t._s(i.title))])],1)})),0)]):t._e(),"SELL"===t.side?e("div",{staticClass:"otcRelease-pays"},[e("div",{staticClass:"otcRelease-page"},[t._v("\n                "+t._s(t.$t("otcRelease.Receivables"))+"\n                "),t._v("\n                ("+t._s(t.$t("otcRelease.ReceivablesWarning"))+")")]),t.sellPaysList.length?e("ul",{staticClass:"otcRelease-paysList"},t._l(t.sellPaysList,(function(i,s){return e("li",{key:s},[e("c-checkBox",{attrs:{value:-1!==t.mySellPaysList.indexOf(i.payment)},on:{click:function(e){return t.sellPayClick(i)}}}),e("span",{staticClass:"paysList-line",style:{"background-color":i.color}}),e("span",{staticClass:"paysList-text",on:{click:function(e){return t.sellPayClick(i)}}},[t._v(t._s(i.title))])],1)})),0):e("div",{staticClass:"noPay b-4-cl",on:{click:t.goNoPay}},[t._v("\n                "+t._s(t.$t("otcRelease.PaymentError"))+"\n              ")])]):t._e(),e("c-textAreaLine",{attrs:{name:"reply",maxLength:"500",marginTop:"20px",value:t.reply,errorHave:!0,warningText:"".concat(t.reply.length,"/500"),promptText:t.$t("otcRelease.AutomaticRecovery")},on:{onchanges:t.inputLineChange}}),e("c-textAreaLine",{attrs:{name:"leavingText",maxLength:"500",marginTop:"30px",value:t.leavingText,errorHave:!0,warningText:"".concat(t.leavingText.length,"/500"),promptText:t.$t("otcRelease.AdvertisingMessage")},on:{onchanges:t.inputLineChange}}),e("c-button",{attrs:{type:"solid",paddingW:"31px",height:"40px",loading:t.confirmLoading,disabled:t.confirmDisabled,marginTop:"46px"},on:{click:t.confirm}},[t._v("\n                "+t._s(t.$t("otcRelease.submit"))+"\n              ")]),e("c-otcReminder"),e("c-dialog",{attrs:{showFlag:t.successDialogFlag,titleText:t.$t("otcRelease.Reminder"),confirmText:t.$t("otcRelease.AnotherOne"),closeText:t.$t("otcRelease.goHall")},on:{confirm:t.successDialogConfirm,close:t.successDialogClose}},[e("div",{staticClass:"success-dialog"},[t._v(t._s(t.$t("otcRelease.success")))])])],1),e("c-verifyCationc-alert",{attrs:{showFlag:t.jurisdictionObj.flag,imgMap:t.imgMap,titleText:t.$t("otcRelease.SafetyTips"),detaText:t.jurisdictionObj.str,dataList:t.jurisdictionObj.data,buttonText:t.jurisdictionObj.btnText},on:{confirm:t.alertConfirm,close:t.alertClose}})],1)])])},a=[],r=(i("8e6e"),i("bd86")),n=(i("55dd"),i("c5f6"),i("7f7f"),i("456d"),i("ac6a"),i("6b54"),i("95d5"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={data:function(){return{imgMap:n["s"],jurisdictionObj:{data:[],str:"",statusKey:"",flag:!1,btnText:"",btnLink:"",pass:!0},backgroundImg:"background: url(".concat(n["s"].otcRelease,") no-repeat right bottom"),accountList:[],symbol:null,symbolList:[],side:"",legalCurrency:"",legalCurrencyList:[],number:"",pricingMethod:"1",pricentMethod:"1",barNum:0,autoPrice:"",rates:null,minPrice:"",maxPrice:"",tradeTime:"5",frequency:"0",days:"30",buyPaysList:[],sellPaysList:[],myBuyPaysList:[],mySellPaysList:[],confirmLoading:!1,reply:"",leavingText:"",successDialogFlag:!1,precent:"",blance:"--",otcRateFlag:!1,otcRateList:[]}},watch:{showSymbol:function(t){var e=this;this.axios({url:"otc/rates",method:"post",hostType:"otc",params:{symbol:t}}).then((function(t){"0"===t.code.toString()&&(e.rates=t.data)}))},userInfo:function(t){t&&(this.jurisdiction(),this.initSellPaysList(),this.isSh())},number:function(t){var e=this,i=0;this.market&&this.market.coinList&&"number"===typeof this.symbol&&(Object.keys(this.market.coinList).forEach((function(t){var s=e.market.coinList[t],a=s.showPrecision,r=s.name;r===e.showSymbol&&(i=a)})),this.number=Object(n["h"])(t,i))},precent:function(t){this.precent=Object(n["h"])(t,2)},autoPrice:function(t){var e=this.priceFix;this.autoPrice=Object(n["h"])(t,e)},minPrice:function(t){var e=this.priceFix;this.minPrice=Object(n["h"])(t,e)},maxPrice:function(t){var e=this.priceFix;this.maxPrice=Object(n["h"])(t,e)},tradeTime:function(t){this.tradeTime=Object(n["h"])(t,0)},frequency:function(t){this.frequency=Object(n["h"])(t,0)},market:function(t){t&&this.otcPublicInfo&&this.initSymbolList()},otcPublicInfo:function(t){t&&(this.initLegalCurrencyList(),this.side=this.otcPublicInfo.defaultSeach,this.initBuyPaysList(),this.market&&this.initSymbolList())}},computed:{daysList:function(){var t=this.$t("otcRelease.day");return[{value:"2".concat(t),code:"2"},{value:"4".concat(t),code:"4"},{value:"7".concat(t),code:"7"},{value:"30".concat(t),code:"30"}]},pricentMethodList:function(){return[{value:this.$t("otcRelease.higher"),code:"1"},{value:this.$t("otcRelease.lower"),code:"2"}]},pricingMethodList:function(){return[{value:this.$t("otcRelease.MarketPrice"),code:"1"},{value:this.$t("otcRelease.Custom"),code:"2"}]},rateUrl:function(){var t="";return this.otcPublicInfo&&this.otcPublicInfo.rateUrl&&(t=this.otcPublicInfo.rateUrl),t},confirmDisabled:function(){var t=!0,e=!0;"2"===this.pricingMethod&&(e=this.autoPriceObj.flag);var i=!1;return i="SELL"===this.side?this.mySellPaysList.length:this.myBuyPaysList.length,(this.symbol&&this.side.length&&this.legalCurrency.length&&this.numberObj.flag&&e&&this.precentObj.flag&&this.minPriceObj.flag&&this.maxPriceObj.flag&&this.tradeTimeObj.flag&&this.frequencyFlag&&this.days.length&&i||this.confirmLoading)&&(t=!1),t},precentPrice:function(){var t=""===this.precent?0:this.precent,e="--";return"--"!==this.nowPrice&&(e="1"===this.pricentMethod?Object(n["f"])(this.nowPrice*(1+window.parseFloat(t)/100),this.priceFix):Object(n["f"])(this.nowPrice*(1-window.parseFloat(t)/100),this.priceFix)),e},sum:function(){var t=0;return this.number&&(t="1"===this.pricingMethod?this.number*this.precentPrice:this.number*this.autoPrice),Object(n["f"])(t,this.priceFix)},priceFix:function(){var t=this.$store.state.baseData.defaultFiatPrecision;return this.market&&this.market.coinList[this.showSymbol]&&this.market.coinList[this.showSymbol].fiatPrecision&&this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()]&&(t=this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()]),Number(t)},nowPrice:function(){var t="--";if(this.rates&&this.rates.symbol===this.showSymbol&&this.market&&this.market.coinList){var e=this.priceFix,i=this.rates[this.legalCurrency];t=Object(n["f"])(i,e)}return t},market:function(){return this.$store.state.baseData.market},userInfo:function(){return this.$store.state.baseData.userInfo},otcPublicInfo:function(){return this.$store.state.baseData.otcPublicInfo},frequencyFlag:function(){return 0!==this.frequency.length},numberObj:function(){return"SELL"===this.side?0===this.number.length||0===parseFloat(this.number)?{flag:!1,errorFlag:!1,errorText:this.$t("otcRelease.PleaseEnterQuantity")}:parseFloat(this.numberValue)>=parseFloat(this.number)?{flag:!0,errorFlag:!1,errorText:""}:parseFloat(this.numberValue)<parseFloat(this.number)?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.availableBalance")}:{flag:!1,errorFlag:!1,errorText:""}:0===this.number.length||0===parseFloat(this.number)?{flag:!1,errorFlag:!1,errorText:""}:{flag:!0,errorFlag:!1,errorText:""}},autoPriceObj:function(){return 0===this.autoPrice.length||0===parseFloat(this.autoPrice)?{flag:!1,errorFlag:!1,errorText:""}:{flag:!0,errorFlag:!1,errorText:""}},precentObj:function(){return this.precent>50?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.precentError")}:{flag:!0,errorFlag:!1,errorText:""}},minPriceObj:function(){return 0===this.minPrice.length||0===parseFloat(this.minPrice)?{flag:!1,errorFlag:!1,errorText:""}:parseFloat(this.minPrice)>parseFloat(this.sum)?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.minPriceError1")}:parseFloat(this.minPrice)>=parseFloat(this.maxPrice)?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.minPriceError2")}:{flag:!0,errorFlag:!1,errorText:""}},maxPriceObj:function(){return 0===this.maxPrice.length||0===parseFloat(this.maxPrice)?{flag:!1,errorFlag:!1,errorText:""}:parseFloat(this.maxPrice)>parseFloat(this.sum)?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.maxPriceError1")}:parseFloat(this.minPrice)>=parseFloat(this.maxPrice)?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.maxPriceError2")}:{flag:!0,errorFlag:!1,errorText:""}},tradeTimeObj:function(){return 0===this.tradeTime.length?{flag:!1,errorFlag:!1,errorText:this.$t("otcRelease.paymentTimeLimit")}:parseFloat(this.tradeTime)<5||parseFloat(this.tradeTime)>60?{flag:!1,errorFlag:!0,errorText:this.$t("otcRelease.paymentTimeError")}:{flag:!0,errorFlag:!1,errorText:""}},showSymbol:function(){var t=this,e="";return this.symbolList.length&&"number"===typeof this.symbol&&this.symbolList.forEach((function(i){i.index===t.symbol&&(e=i.name)})),e},showCoin:function(){var t=this.showSymbol;return this.market&&this.market.coinList&&(t=Object(n["l"])(t,this.market.coinList)),t},numberValue:function(){var t=this,e="--";return this.accountList&&this.accountList.length&&"number"===typeof this.symbol&&this.market&&this.market.coinList&&this.otcPublicInfo&&this.otcPublicInfo.feeOtcList&&this.accountList.forEach((function(i){if(i.coinSymbol===t.showSymbol){var s=i.normal,a=0,r=0;t.otcPublicInfo.feeOtcList.forEach((function(e){e.symbol===t.showSymbol&&(a=e.rate)})),Object.keys(t.market.coinList).forEach((function(e){var i=t.market.coinList[e],s=i.showPrecision,a=i.name;a===t.showSymbol&&(r=s)})),e=Object(n["f"])(s/(1+a),r)}})),e},excheifFlag:function(){return!1},navSymbolList:function(){var t=this,e=[];return this.market&&this.market.coinList&&this.symbolList.forEach((function(i){e.push({name:Object(n["l"])(i.name,t.market.coinList),index:i.index})})),e}},methods:{init:function(){this.initData(),this.precent=""},alertClose:function(){this.jurisdictionObj.flag=!1},alertConfirm:function(){this.$router.push(this.jurisdictionObj.btnLink)},goNoPay:function(){this.$router.push("/personal/leaglTenderSet")},isSh:function(){"1"===this.userInfo.authLevel.toString()&&this.userInfo.otcCompanyInfo&&this.userInfo.userCompanyInfo&&"0"!==this.userInfo.otcCompanyInfo.status&&this.userInfo.userCompanyInfo},initData:function(){this.getAccountList(),this.market&&this.otcPublicInfo&&this.initSymbolList(),this.otcPublicInfo&&(this.initLegalCurrencyList(),this.side=this.otcPublicInfo.defaultSeach,this.initBuyPaysList()),this.userInfo&&(this.jurisdiction(),this.initSellPaysList(),this.isSh())},jurisdiction:function(){var t=[],e=this.$t("otcRelease.jurisdictionTitle"),i=this.userInfo,s=i.otcCompanyInfo,a=i.userCompanyInfo,r=i.nickName,n=i.authLevel,o="",c="",l="",h=!0,u=this.$t("otcRelease.authentication");"1"===n.toString()?t.push({text:u,flag:!0,key:"authLevel"}):(t.push({text:u,flag:!1,key:"authLevel"}),o="authLevel",c=this.$t("otcRelease.DeCertification"),l="/personal",h=!1);var m=this.$t("otcRelease.SetNickname");if(r&&r.length?t.push({text:m,flag:!0,key:"nickName"}):(t.push({text:m,flag:!1,key:"nickName"}),o.length||(o="nickName",c=this.$t("otcRelease.ToSetUp"),l="/personal/userManagement",h=!1)),"0"!==s.status.toString()){e=this.$t("otcRelease.jurisdictionTitle2");var p=this.$t("otcRelease.ApplicationMerchant");"0"!==a.status.toString()?t.push({text:p,flag:!0,key:"companyInfo"}):(t.push({text:p,flag:!1,key:"companyInfo"}),o.length||(o="companyInfo",c=this.$t("otcRelease.ToApply"),l="/companyApplication",h=!1))}var g={data:t,str:e,statusKey:o,btnText:c,btnLink:l,pass:h,flag:!!o.length};this.jurisdictionObj=g},inputLineChange:function(t,e){this[e]=t},getAccountList:function(){var t=this;this.axios({url:"/finance/otc_account_list"}).then((function(e){"0"===e.code.toString()&&(t.accountList=e.data.allCoinMap)}))},initSymbolList:function(){var t=[],e=this.market.coinList;Array.isArray(e)&&(e=e.sort((function(t,e){return t.sort-e.sort}))),Object.keys(e).forEach((function(i,s){e[i].otcOpen&&t.push({name:i,index:s+1})})),this.symbolList=t,this.initSymbol()},initSymbol:function(){var t=this;this.symbolList.forEach((function(e){e.name===t.otcPublicInfo.defaultCoin&&(t.symbol=e.index)}))},initLegalCurrencyList:function(){var t=[];this.otcPublicInfo.paycoins.forEach((function(e){e.used&&t.push({value:e.title,code:e.key})})),this.legalCurrency=this.otcPublicInfo.otcDefaultPaycoin,this.legalCurrencyList=t},initBuyPaysList:function(){this.buyPaysList=this.otcPublicInfo.payments},initSellPaysList:function(){var t=this;this.axios({url:"/otc/payment/find",hostType:"otc",params:{isOpen:"1"}}).then((function(e){if("0"===e.code.toString()){var i=e.data,s=[],a={};t.excheifFlag?(i.forEach((function(t,e){a[i[e].payment]||(s.push(i[e]),a[i[e].payment]=!0)})),t.sellPaysList=s):t.sellPaysList=i}}))},reset:function(){this.number="",this.pricingMethod="1",this.autoPrice="",this.minPrice="",this.maxPrice="",this.tradeTime="5",this.frequency="0",this.days="30",this.myBuyPaysList=[],this.mySellPaysList=[],this.leavingText="",this.reply=""},symbolChange:function(t){this.symbol!==t.index&&(this.symbol=t.index,this.side=this.otcPublicInfo.defaultSeach,this.legalCurrency=this.otcPublicInfo.otcDefaultPaycoin,this.otcRateFlag&&this.excheifFlag&&this.setBlance(),this.reset())},sideChange:function(t){this.side=t,this.legalCurrency=this.otcPublicInfo.otcDefaultPaycoin,this.reset(),this.otcRateFlag&&this.excheifFlag&&this.setBlance()},legalCurrencyChange:function(t){this.legalCurrency=t.code,this.otcRateFlag&&this.excheifFlag&&this.setBlance(),this.reset()},precentMethodChange:function(t){this.pricentMethod=t.code},pricingMethodChange:function(t){this.pricingMethod=t.code,this.autoPrice=this.nowPrice,this.precent="",this.pricentMethod="1"},barChange:function(t){this.barNum=Number(t)},daysChange:function(t){this.days=t.code},buyPayClick:function(t){if(-1!==this.myBuyPaysList.indexOf(t.key))this.myBuyPaysList.splice(this.myBuyPaysList.indexOf(t.key),1);else{if(this.myBuyPaysList.length>=3)return void this.$bus.$emit("tip",{text:this.$t("otcRelease.threePayment"),type:"warning"});this.myBuyPaysList.push(t.key)}},sellPayClick:function(t){-1!==this.mySellPaysList.indexOf(t.payment)?this.mySellPaysList.splice(this.mySellPaysList.indexOf(t.payment),1):this.mySellPaysList.push(t.payment)},confirm:function(){var t=this;if(this.jurisdictionObj.pass){var e={};e="1"===this.pricingMethod?{price:this.precentPrice,priceRate:Math.abs(this.precent),priceRateType:"1"===this.pricentMethod?2:3}:{price:this.autoPrice,priceRate:0,priceRateType:0};var i=[];"SELL"===this.side?this.mySellPaysList.forEach((function(t){i.push({payment:t})})):this.myBuyPaysList.forEach((function(t){i.push({payment:t})}));var s=c(c({coin:this.showSymbol,side:this.side,payCoin:this.legalCurrency,volume:this.number},e),{},{minTrade:this.minPrice,maxTrade:this.maxPrice,limitTime:this.tradeTime,dealVolume:this.frequency,days:this.days,payments:i,description:this.leavingText,autoReply:this.reply});this.confirmLoading=!0,this.axios({url:"otc/wanted_save",hostType:"otc",params:s}).then((function(e){t.confirmLoading=!1,"0"===e.code.toString()?t.successDialogFlag=!0:t.$bus.$emit("tip",{text:e.msg,type:"error"})}))}else this.jurisdictionObj.flag=!0},successDialogConfirm:function(){this.initData(),this.reset(),this.successDialogFlag=!1},successDialogClose:function(){this.$router.push("/")},getOtcRateList:function(){var t=this;this.axios({url:this.$store.state.url.common.otc_fee_rate_list}).then((function(e){"0"===e.code.toString()&&(t.otcRateFlag=2===Number(e.data.otc_fee_rate_type),t.otcRateList=e.data.otc_fee_rate_list,t.otcRateFlag&&t.excheifFlag&&t.setBlance())}))},setBlance:function(){var t=this;this.accountList&&this.accountList.length&&"number"===typeof this.symbol&&this.market&&this.market.coinList&&this.otcPublicInfo&&this.otcRateList&&this.accountList.forEach((function(e){if(e.coinSymbol===t.showSymbol){var i=e.normal,s=0,a=0;t.otcRateList.forEach((function(e){e.symbol===t.showSymbol&&e.fiatCoin===t.legalCurrency&&(s=e.rate)})),Object.keys(t.market.coinList).forEach((function(e){var i=t.market.coinList[e],s=i.showPrecision,r=i.name;r===t.showSymbol&&(a=s)})),t.blance=Object(n["f"])(i/(1+s),a)}}))}}},h=(i("0de2"),{mixins:[l],mounted:function(){this.init()}}),u=h,m=i("2877"),p=Object(m["a"])(u,s,a,!1,null,null,null);e["default"]=p.exports}}]);