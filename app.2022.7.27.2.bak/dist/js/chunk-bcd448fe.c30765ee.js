(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcd448fe"],{"09e5":function(t,e,i){"use strict";i("8e6e"),i("a481");var n=i("bd86"),o=(i("456d"),i("28a5"),i("ac6a"),i("95d5"));function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e["a"]={data:function(){return{countryKeyCode:"",country:""}},watch:{countryObj:{handler:function(){var t=this.defaultCountryCode;this.countryListMoy&&this.countryListMoy.length&&!t&&(t=this.countryListMoy[0].keyCode),t&&""===this.countryKeyCode&&(this.countryKeyCode=t),!this.defaultCountryCodeReal&&!this.country&&t&&this.countryMap&&this.countryMap[t]&&(this.country=this.countryMap[t].code),this.defaultCountryCodeReal&&""===this.country&&(this.country=this.defaultCountryCodeReal)}},defaultCountryCodeReal:{handler:function(t){t&&""===this.country&&(this.country=t)},immediate:!0},defaultCountryCode:{handler:function(t){var e=t;this.countryListMoy&&this.countryListMoy.length&&!t&&(e=this.countryListMoy[0].keyCode),e&&""===this.countryKeyCode&&(this.defaultCountryCodeReal?this.countryKeyCode=this.countryListKeyObj[this.defaultCountryCodeReal].keyCode:this.countryKeyCode=e),!this.defaultCountryCodeReal&&!this.country&&e&&this.countryMap&&this.countryMap[e]&&(this.country=this.countryMap[e].code)},immediate:!0}},computed:{countryListKeyObj:function(){var t={};return this.countryObj.list.forEach((function(e){t[e.code]={code:e.code,keyCode:e.keyCode,value:e.value.split(" ")[0]}})),t},limitCountryList:function(){return this.$store.state.baseData.limitCountryList},countryList:function(){return this.countryObj.list},registerCountryList:function(){return this.filterCountryObj&&this.filterCountryObj.list?this.filterCountryObj.list:[]},countryListMoy:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.code,keyCode:e.keyCode,value:e.value.split(" +")[0]})})),t},filterCountryObj:function(){var t=this.$t("phoneCode"),e={},i=this.limitCountryList;return i.length>0?(i=i.join("").split("+"),Object.keys(t).forEach((function(n){e[n]=t[n].filter((function(t){var e=t.split("+");return-1===i.indexOf(e[2])}))}))):e=r({},t),Object(o["o"])(e)},countryNameList:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.value.split(" +")[0],value:e.value.split(" +")[0]})})),t},countryCodeList:function(){var t=[];return this.countryObj&&this.countryObj.list&&this.countryObj.list.forEach((function(e){t.push({code:e.keyCode,value:e.keyCode})})),t},countryFilterCodeList:function(){var t=[],e=this.filterCountryObj.list;return e&&e.length&&e.forEach((function(e){t.push({code:e.keyCode,value:e.keyCode})})),t},countryMap:function(){return this.countryObj.countryMap},countryRealMap:function(){return this.countryObj.countryRealMap},countryObj:function(){return this.$store.state.baseData.countryObj},defaultCountryCode:function(){var t=this.$store.state.baseData.defaultCountryCode,e=this.limitCountryList;if(e.length>0&&t){var i=e.join("").split("+"),n=t.replace("+","");i.indexOf(n)>-1&&(t="")}return t},defaultCountryCodeReal:function(){var t=this.$store.state.baseData.defaultCountryCodeReal,e=this.limitCountryList;if(e.length>0){var i=e.join("").split("+"),n=t.replace(/\+/g,"");i.indexOf(n)>-1&&(t="")}return t}},methods:{countryChange:function(t){this.country=t.code,this.countryKeyCode=t.keyCode}}}},"4c1d":function(t,e,i){"use strict";i.r(e);i("7f7f");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-management-exccAuthorization"},[e("p",{staticClass:"user-management-child-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("personal.exccAuthorization.title2"))+"\n  ")]),t.isLoading?e("div",{staticClass:"loadinBox"},[e("c-loading",{attrs:{size:"60"}})],1):e("div",{staticClass:"user-management-center"},[0===t.authLevel||"1"===t.active?e("div",{staticClass:"audit-information"},[e("svg",{staticClass:"icon icon-50",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-g_3"}})]),e("p",[t._v(t._s(t.$t("personal.idAuth.wait")[0])+"\n        "),e("br"),t._v(t._s(t.$t("personal.idAuth.wait")[1]))])]):e("div",[e("p",{staticClass:"note b-7-cl"},[e("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"5px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-c_2"}})]),t._v("\n        "+t._s(t.$t("personal.exccAuthorization.title"))+"\n      ")]),e("div",{staticClass:"idAuth-center clearfix"},[e("c-inputLine",{attrs:{name:"aliasname",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText1"),errorHave:!0,disabled:!0,value:t.aliasname}}),e("c-inputLine",{attrs:{name:"sex",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText2"),errorHave:!0,disabled:!0,value:t.sex}}),e("c-inputLine",{attrs:{name:"uinfin",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText3"),errorHave:!0,disabled:!0,value:t.uinfin}}),e("c-inputLine",{attrs:{name:"name",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText4"),errorHave:!0,disabled:!0,value:t.name}}),e("c-inputLine",{attrs:{name:"nationality",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText5"),errorHave:!0,disabled:!0,value:t.nationality}}),e("c-inputLine",{attrs:{name:"residentialstatus",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText6"),errorHave:!0,disabled:!0,value:t.residentialstatus}}),e("c-inputLine",{attrs:{name:"dob",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText7"),errorHave:!0,disabled:!0,value:t.dob}}),e("c-inputLine",{attrs:{name:"birthcountry",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText8"),errorHave:!0,disabled:!0,value:t.birthcountry}}),e("c-inputLine",{attrs:{name:"regadd",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText9"),errorHave:!0,disabled:!0,value:t.regadd}}),e("c-inputLine",{attrs:{name:"mobileno",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText10"),errorHave:!0,errorText:"",maxLength:"13",value:t.mobileno},on:{onchanges:t.inputChanges}}),e("c-inputLine",{attrs:{name:"mailadd",inputType:"text",promptText:t.$t("personal.exccAuthorization.promptText11"),errorHave:!0,maxLength:"50",value:t.mailadd},on:{onchanges:t.inputChanges}}),e("c-select",{attrs:{filterable:!0,value:t.income,promptText:t.$t("personal.exccAuthorization.promptText12"),name:"income",errorHave:!0,options:t.incomeList},on:{onChanges:t.incomeChange}}),"6"===t.income?e("c-inputLine",{attrs:{name:"qtTExt",inputType:"text",promptText:t.$t("personal.exccAuthForm.text15"),marginTop:"0px",maxLength:"256",value:t.qtTExt},on:{onchanges:t.inputChanges}}):t._e(),e("c-button",{attrs:{type:"solid",big:!0,className:"",paddingW:"0px",disabled:t.disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:function(e){return t.submitData()}}},[t._v(t._s(t.$t("personal.exccAuthorization.submit")))])],1)])])])},o=[],a=(i("28a5"),i("c5f6"),i("95d5")),r=i("09e5"),s={name:"exccAuthorization",mixins:[r["a"]],components:{},data:function(){return{isLoading:!0,aliasname:"",sex:"",uinfin:"",name:"",nationality:"",residentialstatus:"",dob:"",birthcountry:"",regadd:"",mobileno:"",mailadd:"",income:"0",code:"",active:"",qtTExt:""}},watch:{mobileno:function(t){this.mobileno=Object(a["h"])(t,0)},authRealname:function(t){null!==t&&("success"===t.text?(this.$bus.$emit("tip",{text:t.msg,type:"success"}),this.active="1"):(this.$bus.$emit("tip",{text:t.msg,type:"error"}),this.$store.dispatch("resetType")))},dob:function(t){t&&this.ageLimit&&!this.validateAge()&&this.$bus.$emit("tip",{text:"您需要年满".concat(this.ageLimit,"岁才能在平台认证"),type:"error"})}},computed:{exccKycConfig:function(){return this.$store.state.personal.exccKycConfig},ageLimit:function(){return this.exccKycConfig?Number(this.exccKycConfig.data.ageLimit):0},authRealname:function(){return this.$store.state.personal.authRealname},userInfo:function(){return this.$store.state.baseData.userInfo},authLevel:function(){return this.userInfo?this.userInfo.authLevel:""},disabled:function(){return!(!this.dob||this.validateAge())||("6"===this.income&&!this.qtTExt||!(this.mobileno&&this.mailadd))},incomeList:function(){return[{code:"0",value:this.$t("personal.exccAuthorization.income1")},{code:"1",value:this.$t("personal.exccAuthorization.income2")},{code:"2",value:this.$t("personal.exccAuthorization.income3")},{code:"3",value:this.$t("personal.exccAuthorization.income4")},{code:"4",value:this.$t("personal.exccAuthorization.income5")},{code:"5",value:this.$t("personal.exccAuthorization.income6")},{code:"6",value:this.$t("personal.exccAuthorization.income7")}]}},methods:{init:function(){this.code=this.$route.query.code,this.code&&this.getData(),this.exccKycConfig||this.$store.dispatch("exccKycConfig")},getData:function(){var t=this;this.axios({url:"/kyc/singPass/getInfo",method:"post",header:{},params:{code:this.code}}).then((function(e){t.isLoading=!1,"0"===e.code?e.data&&(t.aliasname=e.data.aliasname,t.sex=e.data.sex,t.uinfin=e.data.uinfin,t.name=e.data.name,t.nationality=e.data.nationality,t.residentialstatus=e.data.residentialstatus,t.dob=e.data.dob,t.birthcountry=e.data.birthcountry,t.regadd=e.data.regadd,t.mobileno=e.data.mobileno,t.mailadd=e.data.mailadd,t.qtTExt=e.data.otherIncomeDesc,t.income="0"):t.$bus.$emit("tip",{text:e.msg,type:"error"})})).catch((function(){}))},inputChanges:function(t,e){this[e]=t.trim()},incomeChange:function(t){this.income=t.code},submitData:function(){var t={mobileno:this.mobileno,mailadd:this.mailadd,income:this.income,otherIncomeDesc:this.qtTExt};this.$store.dispatch("singPassVerifyAuth",t)},validateAge:function(){if(!this.ageLimit)return!0;var t=this.dob.split("-"),e=new Date(t[0],t[1],t[2]),i=new Date,n=i.getFullYear(),o=i.getMonth()+1,a=i.getDate();i=new Date(n,o,a);for(var r=i.getTime()-e.getTime(),s=0,c=0;c<=this.ageLimit;c+=1)(c%4===0&&c%100!==0||c%400===0)&&(s+=1);var u=this.ageLimit-s,l=31536e6*u+316224e5*s;return r>=l}}},c=(i("4e8f"),{mixins:[s],created:function(){this.init()}}),u=c,l=i("2877"),h=Object(l["a"])(u,n,o,!1,null,null,null);e["default"]=h.exports},"4e8f":function(t,e,i){}}]);