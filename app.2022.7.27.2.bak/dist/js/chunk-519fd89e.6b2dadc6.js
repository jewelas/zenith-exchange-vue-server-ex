(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-519fd89e"],{"142d":function(t,e,a){},4692:function(t,e,a){},"57f3":function(t,e,a){"use strict";a("28a5"),a("ac6a"),a("456d"),a("a481");var s=a("95d5");e["a"]={beforeRouteEnter:function(t,e,a){var i=[1578,1317,1003],n=t.path,r=window.localStorage.getItem("defaultTradePage");if(window.publicInfo){var o=window.publicInfo.msg;i.indexOf(o.companyId)>-1?r||(r="5"):r="4"}else r||(r="5");if("5"===r){if(n.indexOf("/margin")>-1){var l=window.location.href;return void window.location.replace(l.replace("margin","newMargin"))}if(n.indexOf("/proTradeMargin")>-1){Object(s["y"])("newTrade_layout","pro");var c=window.location.href;return void window.location.replace(c.replace("/proTradeMargin","/newProTradeMargin"))}}a()},data:function(){return{markTitleClass:"leverMarkTitle",symbolNameClass:"leverSymbolName",routerPathClass:"margin"}},computed:{activeName:function(){return this.$route.meta.activeName},symbolAll:function(){if(this.$store.state.baseData.symbolAll){var t=this.$store.state.baseData.symbolAll,e=Object.keys(t),a={};return e.forEach((function(e){t[e].is_open_lever&&(a[e]=t[e])})),a}return{}},symbolList:function(){var t=this;if("myMarket"===this.marketCurrent){var e=s["u"].get("mySymbol")||[],a={};return e.length&&e.forEach((function(e){e&&t.symbolAll[e]&&t.symbolAll[e].is_open_lever&&(a[e]=t.symbolAll[e])})),a}if(this.marketList&&this.marketCurrent){var i=this.marketList[this.marketCurrent],n=Object.keys(i),r={};return n.length&&n.forEach((function(t){i[t].is_open_lever&&(r[t]=i[t])})),r}return null}},methods:{leverInit:function(){if("proTradeMargin"===this.activeName&&(this.routerPathClass="proTradeMargin"),this.routeSymbol)s["u"].set(this.markTitleClass,this.routeSymbol.split("_")[1]),s["u"].set(this.symbolNameClass,this.routeSymbol.replace("_","/"));else{var t=s["u"].get(this.symbolNameClass);if(t){var e=t.replace("/","_");this.$router.push("/".concat(this.routerPathClass,"/").concat(e))}}},leverMounted:function(){var t=this;this.screenWidth=document.body.clientWidth,this.screenWidth<=this.mediaWidth&&(this.shrink=!0,this.marketShrink=!0),this.$bus.$on("WINFOW_ON_RESIIZE",(function(){t.windowOnResizeFire&&(t.screenWidth=document.body.clientWidth,t.screenWidth<=t.mediaWidth?(t.shrink=!0,t.marketShrink=!0):(t.shrink=!1,t.marketShrink=!1),t.windowOnResizeFire=!1,setTimeout((function(){t.windowOnResizeFire=!0})))}))}}}},7861:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("c-dialog",{staticClass:"leverageTransfer-container",attrs:{showFlag:t.transferFlag,titleText:t.$t("assets.leverageTransfer.title"),confirmLoading:t.transferConfirmLoading,confirmDisabled:t.transferConfirmDisabled},on:{close:t.transferDialogClose,confirm:t.transferDialogConfirm}},[t.loading?e("div",{staticClass:"transfer-loadingBox"},[e("div",{staticClass:"transfer-loading"},[e("c-loading",{attrs:{size:"50"}})],1)]):e("section",{staticClass:"transfer-box"},[e("div",{staticClass:"transfer-mess a-4-bg"},[e("div",{staticClass:"even"},[e("c-redio",{attrs:{value:t.transferCoin===t.transferObj.baseCoin,name:t.transferObj.baseCoin},on:{click:t.transferCoinChange}}),e("span",{staticClass:"key e-1-cl",on:{click:function(e){return t.transferCoinChange(t.transferObj.baseCoin)}}},[t._v("\n          "+t._s(t.getShowCoin(t.transferObj.baseCoin))+"\n        ")])],1),e("div",{staticClass:"even"},[e("c-redio",{attrs:{value:t.transferCoin===t.transferObj.quoteCoin,name:t.transferObj.quoteCoin},on:{click:t.transferCoinChange}}),e("span",{staticClass:"key e-1-cl",on:{click:function(e){return t.transferCoinChange(t.transferObj.quoteCoin)}}},[t._v("\n          "+t._s(t.getShowCoin(t.transferObj.quoteCoin))+"\n        ")])],1)]),e("ul",{staticClass:"transfer-content a-4-bg"},[e("li",{staticClass:"transfer-page"},[e("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("assets.otcAccount.from")))]),e("div",{staticClass:"transfer-page-name e-1-cl"},[t._v(t._s(t.side.from))])]),e("li",{staticClass:"transfer-icon"},[e("svg",{staticClass:"icon icon-36",attrs:{"aria-hidden":"true"},on:{click:t.setTransferSide}},[e("use",{attrs:{"xlink:href":"#icon-f_4"}})])]),e("li",{staticClass:"transfer-page"},[e("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("assets.otcAccount.to")))]),e("div",{staticClass:"transfer-page-name e-1-cl"},[t._v(t._s(t.side.to))])])]),e("c-inputLine",{attrs:{name:"transferValue",value:t.transferValue,promptText:t.$t("assets.otcAccount.volume"),errorHave:!0,errorFlag:t.transferError,errorText:t.$t("assets.otcAccount.volumeError"),warningText:t.transferWarningText},on:{onchanges:t.inputLineChange}},[e("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allTransfer}},[t._v("\n        "+t._s(t.$t("assets.otcAccount.all"))+"\n      ")])],1)],1)])},i=[],n=a("c31c"),r=(a("a774"),{mixins:[n["a"]],mounted:function(){this.init()}}),o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports},a774:function(t,e,a){},c31c:function(t,e,a){"use strict";a("6b54"),a("c5f6"),a("ac6a"),a("456d");var s=a("95d5");e["a"]={data:function(){return{loading:!1,transferConfirmLoading:!1,transferFlag:!1,transferSide:"1",transferValue:"",transferCoin:"",transferObj:{},axiosFlag:!1,symbol:"",defineCoin:"",isDeleteHover:!1}},watch:{market:function(t){t&&this.axiosFlag&&this.getData()},transferObj:function(t){Object.keys(t).length&&(this.defineCoin?this.transferCoin=this.defineCoin:this.transferCoin=t.baseCoin)},transferValue:function(t){"2"===this.transferSide?this.transferValue=Object(s["h"])(t,8):this.transferValue=Object(s["h"])(t,this.transferCoinFix)}},computed:{market:function(){return this.$store.state.baseData.market},side:function(){var t=this.$t("assets.otcAccount.exchangeAccount"),e=this.$t("assets.leverageTransfer.leverageAccount"),a="",s="";return"1"===this.transferSide?(a=t,s=e):(a=e,s=t),{from:a,to:s}},transferWarningText:function(){var t=this.$t("assets.otcAccount.can"),e=Object(s["f"])(this.transferCanNum,this.transferCoinFix);return"2"===this.transferSide&&(e=Object(s["f"])(this.transferCanNum,8)),"".concat(t," ").concat(e," ").concat(this.getShowCoin(this.transferCoin)," ")},transferCoinFix:function(){var t=0;return this.market&&this.market.coinList&&this.market.coinList[this.transferCoin]&&(t=this.market.coinList[this.transferCoin].showPrecision),Number(t)},transferConfirmDisabled:function(){if(this.transferConfirmLoading)return!1;var t=!0;return parseFloat(this.transferValue)>0&&!this.transferError&&(t=!1),t},transferError:function(){var t=!1;return parseFloat(this.transferValue)>parseFloat(this.transferCanNum)&&(t=!0),t},transferCanNum:function(){var t=this.transferObj,e=t.baseCanTransfer,a=t.quoteCanTransfer,s=t.baseExNormalBalance,i=t.quoteEXNormalBalance,n=t.baseCoin,r=t.quoteCoin,o="",l="";this.transferCoin===n?(o=e,l=s):this.transferCoin===r&&(o=a,l=i);var c="";return c="1"===this.transferSide?l:o,Number(c)},transferOptions:function(){return[{code:this.transferObj.baseCoin,value:this.getShowCoin(this.transferObj.baseCoin)},{code:this.transferObj.quoteCoin,value:this.getShowCoin(this.transferObj.quoteCoin)}]}},methods:{init:function(){var t=this;this.$bus.$on("coTransfer",(function(e,a){t.axiosFlag=!0,t.symbol=e,t.transferFlag=!0,t.loading=!0,a&&(t.defineCoin=a),t.market&&t.getData()}))},getShowCoin:function(t){if(!this.market)return t;var e=this.market.coinList,a=t;return this.market&&e&&(a=Object(s["l"])(t,e)),a},getData:function(){var t=this;this.axiosFlag=!1;var e={symbol:this.symbol};this.axios({url:"/lever/finance/symbol/balance",params:e}).then((function(e){t.loading=!1,"0"===e.code.toString()?t.transferObj=e.data:t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},transferCoinChange:function(t){this.transferCoin!==t&&(this.transferCoin=t,this.transferValue="")},setTransferSide:function(){"1"===this.transferSide?this.transferSide="2":"2"===this.transferSide&&(this.transferSide="1"),this.transferValue=""},allTransfer:function(){"2"===this.transferSide?this.transferValue=Object(s["f"])(this.transferCanNum,8):this.transferValue=Object(s["f"])(this.transferCanNum,this.transferCoinFix)},inputLineChange:function(t,e){this[e]=t},clearTransfer:function(){this.transferFlag=!1,this.transferSide="1",this.transferValue="",this.transferCoin="",this.transferConfirmLoading=!1,this.$set(this,"transferObj",{})},transferDialogClose:function(){this.clearTransfer()},transferDialogConfirm:function(){var t=this;this.transferConfirmLoading=!0;var e={fromAccount:"1"===this.transferSide?"1":"2",toAccount:"1"===this.transferSide?"2":"1",amount:this.transferValue,coinSymbol:this.transferCoin,symbol:this.transferObj.symbol};this.axios({url:"/lever/finance/transfer",params:e}).then((function(e){t.transferConfirmLoading=!1,"0"===e.code.toString()?(t.clearTransfer(),t.$emit("success"),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},clear:function(){this.transferValue=""}}}},fe73:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"trade-box lever-tradeForm b-2-cl"},[t.isLogin?e("div",{staticClass:"title-block a-21-bg a-3-bd title-block-op"},[e("div",{staticClass:"lever-assets"},[e("span",{staticClass:"b-1-cl"},[t._v("\n        "+t._s(t.$t("lever.leverAccount"))+"\n        ("+t._s(t._f("getCoinShowName")(t.symbolCurrent,t.symbolAll))+")\n        "),e("svg",{staticClass:"sjicon icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_13"}})])]),t.financeData?e("div",{staticClass:"assets-box a-21-bg"},[e("ul",[e("li",{staticClass:"list"},[e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverKy"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.baseNormalBalance)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.baseCoin,t.coinList))+"\n              ")])]),e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverKy"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.quoteNormalBalance)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.quoteCoin,t.coinList))+"\n              ")])])]),e("li",{staticClass:"list"},[e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverKj"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.baseCanBorrow)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.baseCoin,t.coinList))+"\n              ")])]),e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverKj"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.quoteCanBorrow)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.quoteCoin,t.coinList))+"\n              ")])])]),e("li",{staticClass:"list"},[e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverYj"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.baseBorrowBalance)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.baseCoin,t.coinList))+"\n              ")])]),e("p",{staticClass:"item"},[t._v("\n              "+t._s(t.$t("lever.leverYj"))+"\n              "),e("span",{staticClass:"b-1-cl"},[t._v("\n                "+t._s(t.financeData.quoteBorrowBalance)+"\n                "+t._s(t._f("getCoinShowName")(t.financeData.quoteCoin,t.coinList))+"\n              ")])])])])]):t._e()]),t.financeData?e("div",{staticClass:"bc-infor"},[e("div",{staticClass:"lever-line"},[t._v("\n        "+t._s(t.financeData.riskRate?t.financeData.riskRate+"%":"--")+"\n        "),e("div",{staticClass:"line"})]),e("div",{staticClass:"risk"},[t._v("\n        "+t._s(t.$t("lever.fxl"))+"\n        "),e("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a_15"}})]),e("div",{staticClass:"risk-text a-21-bg b-1-cl"},[e("p",[t._v("\n            "+t._s(t.$t("lever.leverText1"))+"\n          ")]),e("p",[t._v("\n            "+t._s(t.$t("lever.leverText2"))+"\n          ")])])]),e("div",{staticClass:"bc-price"},[t._v("\n        "+t._s(t.$t("lever.bcj"))+"\n        "),e("span",{staticClass:"b-1-cl"},[t._v("\n          "+t._s(t.financeData.burstPrice)+"\n          "+t._s(t._f("getCoinShowName")(t.financeData.quoteCoin,t.coinList))+"\n        ")])])]):t._e()]):t._e(),e("div",{staticClass:"title-block a-21-bg a-3-bd"},[e("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":1===t.transactionType},on:{click:function(e){return t.switchTradeType(1)}}},[t._v("\n      "+t._s(t.$t("trade.limitPriceTrade"))+"\n    ")]),e("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":2===t.transactionType},on:{click:function(e){return t.switchTradeType(2)}}},[t._v("\n      "+t._s(t.$t("trade.marketPriceTrade"))+"\n    ")]),t.isLogin?e("div",{staticClass:"total-assets"},[e("c-button",{attrs:{type:"text",className:"logBtn"},on:{click:function(e){return t.buttonsEvent("1")}}},[t._v("\n        "+t._s(t.$t("lever.leverHz"))+"\n      ")]),e("c-button",{attrs:{type:"text",className:"logBtn"},on:{click:function(e){return t.buttonsEvent("2")}}},[t._v("\n        "+t._s(t.$t("lever.leverJd"))+"\n      ")])],1):t._e()]),e("div",{staticClass:"trade-form clearfix"},[e("div",{staticClass:"trade-block"},[e("div",{staticClass:"form-block"},[e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n            "+t._s(t.$t("trade.buy"))+"\n            "+t._s(t._f("getCoinShowName")(t.symbolUnit.symbol,t.coinList))+"\n          ")]),e("span",{staticClass:"lov b-1-cl"},[t._v("\n            "+t._s(t.currenTaccount.unitsAccoubt)+"\n            "+t._s(t._f("getCoinShowName")(t.symbolUnit.units,t.coinList))+"\n          ")])]),e("trade-input",{attrs:{fixValue:t.fixValue.priceFix,name:"formData_1",datas:t.formData_1},on:{onChanes:t.onChaneForm},model:{value:t.formData_1.value,callback:function(e){t.$set(t.formData_1,"value",e)},expression:"formData_1.value"}}),e("trade-input",{attrs:{fixValue:t.formData2Fix,name:"formData_2",datas:t.formData_2},on:{onChanes:t.onChaneForm},model:{value:t.formData_2.value,callback:function(e){t.$set(t.formData_2,"value",e)},expression:"formData_2.value"}}),e("div",{staticClass:"percentage"},t._l(t.perArr,(function(a,s){return e("span",{key:s+"buy",staticClass:"per-item",class:t.perBuyClass(a),on:{click:function(e){return t.setPerNumber("buy",a)}}},[t._v(t._s(a)+"%")])})),0),e("div",{staticClass:"volume-trade"},[1===t.transactionType?e("div",[t._v("\n            "+t._s(t.$t("trade.dealMoney"))+"\n            "),"--"!==t.tradeVolumeBuy?e("span",{staticClass:"vol"},[t._v("\n                  "+t._s(t.tradeVolumeBuy)+"\n                  "+t._s(t._f("getCoinShowName")(t.symbolUnit.units,t.coinList))+"\n            ")]):t._e()]):t._e()]),e("c-button",{attrs:{defaultColorClass:t.buttosContent.buyButton.class,hoverColorClass:t.buttosContent.buyButton.class,activeColorClass:t.buttosContent.buyButton.class,width:"100%"},on:{click:function(e){return t.submit("BUY")}}},[t._v("\n          "+t._s(t.buttosContent.buyButton.text)+"\n        ")])],1)]),e("div",{staticClass:"trade-block"},[e("div",{staticClass:"form-block"},[e("div",{staticClass:"top-mag"},[e("span",{staticClass:"trade-type"},[t._v("\n            "+t._s(t.$t("trade.sell"))+"\n            "+t._s(t._f("getCoinShowName")(t.symbolUnit.symbol,t.coinList))+"\n          ")]),e("span",{staticClass:"lov b-1-cl"},[t._v("\n            "+t._s(t.currenTaccount.symbolAccoubt)+"\n            "+t._s(t._f("getCoinShowName")(t.symbolUnit.symbol,t.coinList))+"\n          ")])]),e("trade-input",{attrs:{name:"formData_3",fixValue:t.fixValue.priceFix,datas:t.formData_3},on:{onChanes:t.onChaneForm},model:{value:t.formData_3.value,callback:function(e){t.$set(t.formData_3,"value",e)},expression:"formData_3.value"}}),e("trade-input",{attrs:{name:"formData_4",fixValue:t.fixValue.volumeFix,datas:t.formData_4},on:{onChanes:t.onChaneForm},model:{value:t.formData_4.value,callback:function(e){t.$set(t.formData_4,"value",e)},expression:"formData_4.value"}}),e("div",{staticClass:"percentage"},t._l(t.perArr,(function(a,s){return e("span",{key:s+"sell",staticClass:"per-item",class:t.perSellClass(a),on:{click:function(e){return t.setPerNumber("sell",a)}}},[t._v(t._s(a)+"%")])})),0),e("div",{staticClass:"volume-trade"},[1===t.transactionType?e("div",[t._v("\n            "+t._s(t.$t("trade.dealMoney"))+"\n            "),"--"!==t.tradeVolumeSell?e("span",{staticClass:"vol",class:t.volumeTradeClass(t.tradeVolumeSell,t.currenTaccount.symbolAccoubt)},[t._v("\n                  "+t._s(t.tradeVolumeSell)+"\n                  "+t._s(t._f("getCoinShowName")(t.symbolUnit.units,t.coinList))+"\n            ")]):t._e()]):t._e()]),e("c-button",{attrs:{defaultColorClass:t.buttosContent.sellButton.class,hoverColorClass:t.buttosContent.sellButton.class,activeColorClass:t.buttosContent.sellButton.class,width:"100%"},on:{click:function(e){return t.submit("SELL")}}},[t._v("\n          "+t._s(t.buttosContent.sellButton.text)+"\n        ")])],1)])]),e("c-dialog",{attrs:{showFlag:t.isShowDialog,paddingBottom:"14px",confirmDisabled:t.confirmDisabled,confirmLoading:t.confirmLoading,titleText:t.confirmFormTitle},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[t.financeData?e("div",{staticClass:"form-info"},[e("div",{staticClass:"info-item a-4-bg"},[e("div",{staticClass:"radio"},[e("span",{staticClass:"b-1-cl",on:{click:function(e){return t.setReviseType("Base",t.financeData.baseCoin)}}},[e("c-redio",{attrs:{value:"Base"===t.borrowType}}),t._v("\n            "+t._s(t._f("getCoinShowName")(t.financeData.baseCoin,t.coinList))+"\n          ")],1),e("span",{staticClass:"b-1-cl",on:{click:function(e){return t.setReviseType("Quote",t.financeData.quoteCoin)}}},[e("c-redio",{attrs:{value:"Quote"===t.borrowType}}),t._v("\n            "+t._s(t._f("getCoinShowName")(t.financeData.quoteCoin,t.coinList))+"\n          ")],1)])]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("lever.leverYj"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},["Base"===t.borrowType?[t._v(t._s(t.financeData.baseBorrowBalance))]:[t._v(t._s(t.financeData.quoteBorrowBalance))]],2)]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("lever.leverZded"))+"\n        ")]),e("p",{staticClass:"text2 b-1-cl"},["Base"===t.borrowType?[t._v(t._s(t.financeData.baseTotalBorrow))]:[t._v(t._s(t.financeData.quoteTotalBorrow))]],2)]),e("div",{staticClass:"info-item a-4-bg"},[e("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.$t("lever.leverLl"))+"\n          "),e("span",{staticClass:"rateIcon"},[t._v("\n            [?]\n            "),e("div",{staticClass:"iconMark a-21-bg b-1-cl"},[t._v("\n              "+t._s(t.$t("assets.leverageToLoan.rateMark"))+"\n            ")])])]),e("p",{staticClass:"text2 b-1-cl"},[t._v("\n          "+t._s(t._f("rateFix")(t.financeData.rate))+"\n        ")])])]):t._e(),e("div",{staticClass:"inline-input"},[e("c-inputLine",{attrs:{name:"borrowValue",value:t.borrowValue,promptText:t.borrowPromptText,errorHave:!1,errorText:t.borrowErrorText,errorFlag:t.borrowErrorFlag},on:{onchanges:t.inputChanges}},[e("c-button",{attrs:{type:"text",className:"logBtn"},on:{click:function(e){return t.buttonsEvent("All")}}},[t._v("\n          "+t._s(t.$t("lever.all"))+"\n        ")])],1),t.financeData?e("p",{staticClass:"borrow"},[t._v("\n        "+t._s(t.$t("lever.leverKj"))+"\n        "),"Base"===t.borrowType?[t._v(t._s(t.setFex(t.financeData.baseCanBorrow)))]:[t._v(t._s(t.setFex(t.financeData.quoteCanBorrow)))]],2):t._e()],1)]),e("leverageTransfer",{on:{success:t.transferSuccess}}),e("c-alert",{attrs:{showFlag:t.alertFlag,imageType:"1",imgMap:t.imgMap,colorMap:t.colorMap,buttonText:t.$t("lever.hzBtntext")},on:{close:t.alertClone,confirm:t.confirmFun}},[e("div",{staticClass:"alertTitle b-1-cl"},[t._v("\n      "+t._s(t.$t("lever.alertTitle"))+"\n    ")]),e("div",{staticClass:"alertText"},[t._v(t._s(t.$t("lever.your"))+t._s(t.symbolCurrent)+t._s(t.$t("lever.alertTet")))])]),e("c-alert",{attrs:{showFlag:t.notAuthShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap},on:{close:t.dialogClose,confirm:t.gotoAuth}},[e("div",{staticClass:"ts-content-text"},[1===t.tsTexttype?e("span",[t._v(t._s(t.$t("personal.exccAuthForm.text18")))]):e("span",[t._v(t._s(t.$t("personal.exccAuthForm.text19")))])])])],1)},i=[],n=(a("ac6a"),a("7f7f"),a("c5f6"),a("a481"),a("28a5"),a("95d5")),r={name:"tableList",filters:{rateFix:function(t){var e=t||0;return"".concat(Object(n["f"])(100*e,2),"%")}},data:function(){return{formData_1:{title:this.$t("trade.price"),units:n["u"].get("leverSymbolName")?n["u"].get("leverSymbolName").split("/")[1]:"USDT",subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:""},formData_2:{title:this.$t("trade.number"),units:n["u"].get("leverSymbolName")?n["u"].get("leverSymbolName").split("/")[0]:"USDT",subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:null},formData_3:{title:this.$t("trade.price"),units:n["u"].get("leverSymbolName")?n["u"].get("leverSymbolName").split("/")[1]:"USDT",subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:null},formData_4:{title:this.$t("trade.number"),units:n["u"].get("leverSymbolName")?n["u"].get("leverSymbolName").split("/")[0]:"USDT",subText:"",errorText:"",isError:!1,disabled:!1,disabledText:"",value:null},imgMap:n["s"],colorMap:n["b"],transactionType:1,symbolCurrent:n["u"].get("leverSymbolName"),perArr:[25,50,75,100],perBuy:null,perSell:null,fal:!0,assetsInter:null,totalBalancesHide:!1,financeData:null,isShowDialog:!1,confirmFormTitle:this.$t("lever.leverjd"),borrowType:"Base",borrowValue:"",borrowPromptText:this.$t("lever.leverJdNumber"),borrowErrorText:null,borrowErrorFlag:!1,borrowCoin:null,confirmLoading:!1,alertFlag:!1,tradeSide:null,notAuthShowDialog:!1,tsTexttype:1}},props:{},computed:{localText:function(){return{title1:this.$t("trade.price"),title2:this.$t("trade.number"),title3:this.$t("trade.price"),title4:this.$t("trade.number")}},coinSymbols:function(){return this.symbolCurrent?this.symbolCurrent.replace("/",","):""},coinList:function(){return this.$store.state.baseData&&this.$store.state.baseData.market?this.$store.state.baseData.market.coinList:null},isLogin:function(){return!!this.$store.state.baseData.isLogin&&this.$store.state.baseData.isLogin},buttosContent:function(){return{buyButton:{text:this.isLogin?"".concat(this.$t("lever.buy")," ").concat(Object(n["l"])(this.symbolUnit.symbol,this.coinList)):this.$t("trade.loginReg"),class:this.isLogin?"u-1-bg buyBtn u-16-cl":"u-8-bg buyBtn u-16-cl"},sellButton:{text:this.isLogin?"".concat(this.$t("lever.sell")," ").concat(Object(n["l"])(this.symbolUnit.symbol,this.coinList)):this.$t("trade.loginReg"),class:this.isLogin?"u-4-bg sellBtn u-16-cl":"u-8-bg sellBtn u-16-cl"}}},accountBalance:function(){return this.$store.state.assets?this.$store.state.assets.assetsCoinData:null},currenTaccount:function(){return this.financeData?{symbolAccoubt:this.financeData.baseNormalBalance,unitsAccoubt:this.financeData.quoteNormalBalance}:{symbolAccoubt:"0",unitsAccoubt:"0"}},totalBalances:function(){if(this.accountBalance){var t=this.accountBalance,e=t.totalBalance,a=t.totalBalanceSymbol;return{totalBalance:e,totalBalanceSymbol:a,totalRater:Object(n["i"])(e,this.rateData,a,this.userCurrency)}}return{totalBalance:"0.0000",totalBalanceSymbol:"BTC",totalRater:"0.00"}},symbolUnit:function(){return this.symbolCurrent?{symbol:this.symbolCurrent.split("/")[0],units:this.symbolCurrent.split("/")[1]}:{symbol:"",units:""}},rateData:function(){return this.$store.state.baseData.rate},symbolAll:function(){return this.$store.state.baseData.symbolAll},fixValue:function(){if(this.symbolAll&&this.symbolCurrent){var t=this.symbolAll[this.symbolCurrent];return{priceFix:t.price,volumeFix:t.volume}}return{priceFix:2,volumeFix:8}},formData2Fix:function(){return 2===this.transactionType?this.fixValue.priceFix:this.fixValue.volumeFix},tradeVolumeBuy:function(){var t=Object(n["v"])(Object(n["f"])(this.formData_1.value,this.fixValue.priceFix),Object(n["f"])(this.formData_2.value,this.fixValue.volumeFix));return Object(n["f"])(t,this.fixValue.priceFix)},tradeVolumeSell:function(){var t=Object(n["v"])(Object(n["f"])(this.formData_3.value,this.fixValue.priceFix),Object(n["f"])(this.formData_4.value,this.fixValue.volumeFix));return Object(n["f"])(t,this.fixValue.priceFix)},confirmDisabled:function(){return!this.confirmLoading&&!(this.borrowValue&&this.borrowValue>0)},baseData:function(){return this.$store.state.baseData.publicInfo},leverTradeKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.lever_trade_kyc_open),Number(t)},userInfo:function(){return this.$store.state.baseData.userInfo},idAuth:function(){var t=0;return this.userInfo&&(t=Number(this.userInfo.authLevel)),t},userCurrency:function(){return Object(n["n"])("user_Currency")||"USD"}},watch:{localText:function(t){this.formData_1.title=t.title1,this.formData_2.title=t.title2,this.formData_3.title=t.title3,this.formData_4.title=t.title4},isLogin:function(t){t&&(this.$store.dispatch("assetsExchangeData",{auto:!1,coinSymbols:this.coinSymbols}),this.getLeverageFinance())},transactionType:function(t){2===t?(this.formData_1.disabled=!0,this.formData_1.disabledText=this.$t("trade.mPriceBuy"),this.formData_2.title=this.$t("trade.dealMoney"),this.formData_2.units=this.symbolUnit.units,this.formData_3.disabled=!0,this.formData_3.disabledText=this.$t("trade.mPriceSell")):(this.formData_1.disabled=!1,this.formData_1.disabledText="",this.formData_2.title=this.$t("trade.number"),this.formData_2.units=this.symbolUnit.symbol,this.formData_3.disabled=!1,this.formData_3.disabledText="")},symbolUnit:function(t){this.formData_1.units=t.units,this.formData_2.units=t.symbol,this.formData_3.units=t.units,this.formData_4.units=t.symbol},borrowValue:function(t){this.borrowValue=Object(n["h"])(t,3)}},methods:{init:function(){var t=this;this.symbolCurrent=n["u"].get("leverSymbolName"),this.$bus.$on("SYMBOL_CURRENT",(function(e){t.clearValue(),t.symbolCurrent=e,t.getLeverageFinance()})),this.isLogin&&(this.$store.dispatch("assetsExchangeData",{auto:!1,coinSymbols:this.coinSymbols}),this.getLeverageFinance()),this.$bus.$on("HANDEL_PRICE",(function(e){if(e){var a=["formData_1","formData_3"];a.forEach((function(a){t.onChaneForm({name:a,value:e})}))}}))},setFex:function(t){return Object(n["h"])(t,3)},valuePrecision:function(t){return this.coinList?this.coinList[t].showPrecision:4},switchTradeType:function(t){this.clearValue(),this.transactionType=t},handelTotal:function(){this.totalBalancesHide=!this.totalBalancesHide},onChaneForm:function(t){if(this[t.name].value=t.value,t.value&&(this[t.name].isError=!1),"formData_3"!==t.name&&"formData_1"!==t.name||(this[t.name].subText=Object(n["i"])(parseFloat(t.value),this.rateData,this.symbolUnit.units,this.userCurrency)),"formData_2"===t.name||"formData_1"===t.name){var e=this.formData_1.value,a=this.formData_2.value,s=this.currenTaccount.unitsAccoubt;this.perBuy=e*a/s*100}if("formData_4"===t.name||"formData_3"===t.name){var i=parseFloat(this.formData_3.value),r=parseFloat(this.formData_4.value),o=this.currenTaccount.symbolAccoubt;this.perSell=i*r/o*100}t.value||(this[t.name].subText=null)},setPerNumber:function(t,e){if(this.isLogin){if("buy"===t)if(this.formData_1.value||1!==this.transactionType)if(1===this.transactionType){this.perBuy=e;var a=this.currenTaccount.unitsAccoubt/this.formData_1.value*(e/100);this.formData_2.value=Object(n["f"])(a,this.fixValue.volumeFix)}else{this.perBuy=e;var s=this.currenTaccount.unitsAccoubt*(e/100);this.formData_2.value=Object(n["f"])(s,this.fixValue.priceFix)}else this.formData_1.errorText=this.$t("trade.pleasePrice"),this.formData_1.isError=!0;else if("sell"===t){this.perSell=e;var i=this.currenTaccount.symbolAccoubt*(e/100);this.formData_4.value=Object(n["f"])(i,this.fixValue.volumeFix)}}else this.$bus.$emit("tip",{text:this.$t("trade.pleaseLogin"),type:"error"})},perSellClass:function(t){return this.perSell===t?["a-12-bd","b-4-cl"]:"a-3-bd"},perBuyClass:function(t){return this.perBuy===t?["a-12-bd","b-4-cl"]:"a-3-bd"},volumeTradeClass:function(t,e){return parseFloat(t)>parseFloat(e)?"u-4-cl":"b-1-cl"},submitFormKey:function(t){var e=[],a=null,s=null;return 1===this.transactionType?"BUY"===t?(e=["formData_1","formData_2"],a=Object(n["f"])(this.formData_1.value,this.fixValue.priceFix),s=Object(n["f"])(this.formData_2.value,this.fixValue.volumeFix)):(e=["formData_3","formData_4"],a=Object(n["f"])(this.formData_3.value,this.fixValue.priceFix),s=Object(n["f"])(this.formData_4.value,this.fixValue.volumeFix)):"BUY"===t?(e=["formData_2"],s=Object(n["f"])(this.formData_2.value,this.fixValue.priceFix)):(e=["formData_4"],s=Object(n["f"])(this.formData_4.value,this.fixValue.volumeFix)),{formKey:e,price:a,volume:s}},clearValue:function(){var t=this,e=["formData_1","formData_2","formData_3","formData_4"];e.forEach((function(e){t[e].value="",t[e].isError=!1,t[e].subText=null})),this.perSell=0,this.perBuy=0},submit:function(t){var e=this;if(this.isLogin)if(this.leverTradeKycOpen&&1!==this.idAuth)this.tsTexttype=1,this.notAuthShowDialog=!0;else{var a=this.submitFormKey(t),s=a.formKey,i=a.price,n=a.volume,r=!0;if(s.length&&(s.forEach((function(t){var a=e[t].value;a||(e[t].errorText="".concat(e.$t("trade.pleaseInput")).concat(e[t].title),e[t].isError=!0,r=!1),parseFloat(a)<=0&&(e[t].errorText="".concat(e[t].title).concat(e.$t("trade.inputError")),e[t].isError=!0,r=!1)})),this.fal&&r)){var o=this.symbolCurrent.split("/"),l=o[0].toLowerCase()+o[1].toLowerCase();this.fal=!1;var c={side:t,price:i,volume:n,symbol:l,type:this.transactionType};this.tradeSide=t,this.axios({url:this.$store.state.url.lever.create,headers:{},params:c,method:"post"}).then((function(t){"0"===t.code?(e.clearValue(),e.$store.dispatch("assetsExchangeData",{auto:!1,coinSymbols:e.coinSymbols}),e.$bus.$emit("ORDER_CREATE",{type:"success"}),e.$bus.$emit("tip",{text:e.$t("trade.dealCussess"),type:"success"}),e.fal=!0):(e.clearValue(),e.$bus.$emit("tip",{text:t.msg,type:"error"}),e.fal=!0)}))}}else this.$router.push("/login")},getLeverageFinance:function(){var t=this;if(this.isLogin&&this.symbolCurrent){var e=this.symbolCurrent.split("/"),a=e[0]+e[1];this.axios({url:"lever/finance/symbol/balance",headers:{},params:{symbol:a},method:"post"}).then((function(e){if("0"===e.code){var a=e.data,s=t.valuePrecision(a.quoteCoin);t.symbolAll&&(s=t.symbolAll[a.name]?t.symbolAll[a.name].price:8),t.isShowDialog||(t.borrowCoin=a.baseCoin,t.borrowType="Base"),t.financeData=a,t.financeData.baseNormalBalance=Object(n["f"])(a.baseNormalBalance,8),t.financeData.quoteNormalBalance=Object(n["f"])(a.quoteNormalBalance,8),t.financeData.baseCanBorrow=Object(n["f"])(a.baseCanBorrow,8),t.financeData.quoteCanBorrow=Object(n["f"])(a.quoteCanBorrow,8),t.financeData.baseBorrowBalance=Object(n["f"])(a.baseBorrowBalance,8),t.financeData.quoteBorrowBalance=Object(n["f"])(a.quoteBorrowBalance,8),t.financeData.baseTotalBorrow=Object(n["f"])(a.baseTotalBorrow,8),t.financeData.quoteTotalBorrow=Object(n["f"])(a.quoteTotalBorrow,8),t.financeData.burstPrice=Object(n["f"])(a.burstPrice,s)}}))}},buttonsEvent:function(t,e){if("All"===t&&("Base"===this.borrowType?this.borrowValue=this.financeData.baseCanBorrow:this.borrowValue=this.financeData.quoteCanBorrow),"1"===t&&this.symbolCurrent){var a=this.symbolCurrent.split("/"),s=(a[0]+a[1]).toLowerCase(),i="BUY"===e?a[1]:a[0];this.$bus.$emit("coTransfer",s,i)}"2"===t&&(this.isShowDialog=!0)},dialogConfirm:function(){var t=this;if(this.confirmLoading=!0,this.isLogin&&this.symbolCurrent){var e=this.symbolCurrent.split("/"),a=e[0]+e[1];this.axios({url:"lever/finance/borrow",headers:{},params:{symbol:a,coin:this.borrowCoin,amount:this.borrowValue},method:"post"}).then((function(e){t.confirmLoading=!1,"0"===e.code?(t.getLeverageFinance(),t.$bus.$emit("tip",{text:t.$t("lever.leverJdcc"),type:"success"}),t.isShowDialog=!1,t.borrowValue=""):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))}},setReviseType:function(t,e){this.borrowValue="",this.borrowType=t,this.borrowCoin=e},inputChanges:function(t,e){this[e]=t},dialogClose:function(){this.notAuthShowDialog=!1,this.isShowDialog=!1,this.borrowValue="",this.confirmLoading=!1},transferSuccess:function(){this.getLeverageFinance()},confirmFun:function(){this.buttonsEvent("1",this.tradeSide),this.alertClone()},alertClone:function(){this.alertFlag=!1},gotoAuth:function(){this.$router.push("/personal/userManagement")}}},o=(a("4692"),a("7861")),l=a("e2d9"),c={mixins:[r],components:{tradeInput:l["a"],leverageTransfer:o["a"]},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.assetsInter)}},u=c,f=a("2877"),h=Object(f["a"])(u,s,i,!1,null,null,null);e["a"]=h.exports}}]);